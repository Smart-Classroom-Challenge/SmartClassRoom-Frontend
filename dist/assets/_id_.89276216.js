var Se=Object.defineProperty,Ee=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var ve=(ie,re,A)=>re in ie?Se(ie,re,{enumerable:!0,configurable:!0,writable:!0,value:A}):ie[re]=A,de=(ie,re)=>{for(var A in re||(re={}))Te.call(re,A)&&ve(ie,A,re[A]);if(me)for(var A of me(re))xe.call(re,A)&&ve(ie,A,re[A]);return ie},ge=(ie,re)=>Ee(ie,Ce(re));import{j as we,e as oe,H as _e,f as Ae,o as ne,c as ye,F as Ie,y as Pe,z as Oe,a as ae,t as ce,i as he,I as fe,J as be,E as Be,G as Re,d as Ne}from"./app.73a1e708.js";const Me=["keys"],Le={class:"grid grid-cols-3 gap-4"},je={class:"..."},Ue=ae("h1",null,"Co2",-1),qe={class:"..."},De=ae("h1",null,"temperature",-1),ze={class:"..."},Fe=ae("h1",null,"motion",-1),Ve={class:"..."},He=ae("h1",null,"light",-1),We={class:"..."},Ke=ae("h1",null,"humidity",-1),Qe=ae("div",{class:"col-span-2 ..."}," 07 ",-1),$e=we({setup(ie){const re=oe([[]]),A=oe([[]]),z=oe([[]]),q=oe([[]]),w=oe([[]]),p=oe([[]]),d=oe([[]]),c=oe([[]]),o=oe([[]]),e=oe([[]]),a=oe(0),n=_e(),t=oe([]),i=oe(!0);return n.$subscribe((u,l)=>{re.value.push([u.events.newValue.time,u.events.newValue.co2]),A.value.push([u.events.newValue.time,u.events.newValue.co2]),z.value.push([u.events.newValue.time,u.events.newValue.temperature]),q.value.push([u.events.newValue.time,u.events.newValue.temperature]),w.value.push([u.events.newValue.time,u.events.newValue.motion]),p.value.push([u.events.newValue.time,u.events.newValue.motion]),d.value.push([u.events.newValue.time,u.events.newValue.light]),c.value.push([u.events.newValue.time,u.events.newValue.light]),o.value.push([u.events.newValue.time,u.events.newValue.humidity]),e.value.push([u.events.newValue.time,u.events.newValue.humidity]),t.value.push(u.events.newValue),a.value=a.value++,i.value=!i.value}),(u,l)=>{const f=Ae("line-chart");return ne(),ye("div",null,[(ne(!0),ye(Ie,null,Pe(t.value,g=>(ne(),ye("div",{keys:g.time},Oe(g),9,Me))),256)),(ne(),ye("div",{key:a.value},[ae("div",Le,[ae("div",je,[Ue,i.value?(ne(),ce(f,{key:0,library:{backgroundColor:"#eee"},data:re.value},null,8,["data"])):he("",!0),i.value?he("",!0):(ne(),ce(f,{key:1,library:{backgroundColor:"#eee"},data:A.value},null,8,["data"]))]),ae("div",qe,[De,i.value?(ne(),ce(f,{key:0,library:{backgroundColor:"#eee"},data:z.value},null,8,["data"])):he("",!0),i.value?he("",!0):(ne(),ce(f,{key:1,library:{backgroundColor:"#eee"},data:q.value},null,8,["data"]))]),ae("div",ze,[Fe,i.value?(ne(),ce(f,{key:0,library:{backgroundColor:"#eee"},data:w.value},null,8,["data"])):he("",!0),i.value?he("",!0):(ne(),ce(f,{key:1,library:{backgroundColor:"#eee"},data:p.value},null,8,["data"]))]),ae("div",Ve,[He,i.value?(ne(),ce(f,{key:0,library:{backgroundColor:"#eee"},data:d.value},null,8,["data"])):he("",!0),i.value?he("",!0):(ne(),ce(f,{key:1,library:{backgroundColor:"#eee"},data:c.value},null,8,["data"]))]),ae("div",We,[Ke,i.value?(ne(),ce(f,{key:0,library:{backgroundColor:"#eee"},data:o.value},null,8,["data"])):he("",!0),i.value?he("",!0):(ne(),ce(f,{key:1,library:{backgroundColor:"#eee"},data:e.value},null,8,["data"]))]),Qe])]))])}}});var ke={exports:{}};(function(ie,re){(function(A){ie.exports=A()})(function(){return function(){return function A(z,q,w){function p(o,e){if(!q[o]){if(!z[o]){var a=typeof be=="function"&&be;if(!e&&a)return a(o,!0);if(d)return d(o,!0);var n=new Error("Cannot find module '"+o+"'");throw n.code="MODULE_NOT_FOUND",n}var t=q[o]={exports:{}};z[o][0].call(t.exports,function(i){return p(z[o][1][i]||i)},t,t.exports,A,z,q,w)}return q[o].exports}for(var d=typeof be=="function"&&be,c=0;c<w.length;c++)p(w[c]);return p}}()({1:[function(A,z,q){(function(w,p){(function(){const d=A("events").EventEmitter,c=A("./store"),o=A("./topic-alias-recv"),e=A("./topic-alias-send"),a=A("mqtt-packet"),n=A("./default-message-id-provider"),t=A("readable-stream").Writable,i=A("inherits"),u=A("reinterval"),l=A("rfdc/default"),f=A("./validations"),g=A("xtend"),h=A("debug")("mqttjs:client"),v=w?w.nextTick:function(_){setTimeout(_,0)},x=p.setImmediate||function(_){v(_)},E={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},C=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],k={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function V(_,I){let M;I.properties&&(M=I.properties.topicAlias);let D=I.topic.toString();if(D.length===0){if(M===void 0)return new Error("Unregistered Topic Alias");if((D=_.topicAliasSend.getTopicByAlias(M))===void 0)return new Error("Unregistered Topic Alias");I.topic=D}M&&delete I.properties.topicAlias}function Q(_,I,M){h("sendPacket :: packet: %O",I),h("sendPacket :: emitting `packetsend`"),_.emit("packetsend",I),h("sendPacket :: writing to stream");const D=a.writeToStream(I,_.stream,_.options);h("sendPacket :: writeToStream result %s",D),!D&&M&&M!==y?(h("sendPacket :: handle events on `drain` once through callback."),_.stream.once("drain",M)):M&&(h("sendPacket :: invoking cb"),M())}function b(_,I,M,D){h("storeAndSend :: store packet with cmd %s to outgoingStore",I.cmd);let N,P=I;if(P.cmd==="publish"&&(P=l(I),N=V(_,P)))return M&&M(N);_.outgoingStore.put(P,function(B){if(B)return M&&M(B);D(),Q(_,I,M)})}function y(_){h("nop ::",_)}function S(_,I){let M;const D=this;if(!(this instanceof S))return new S(_,I);for(M in this.options=I||{},E)this.options[M]===void 0?this.options[M]=E[M]:this.options[M]=I[M];h("MqttClient :: options.protocol",I.protocol),h("MqttClient :: options.protocolVersion",I.protocolVersion),h("MqttClient :: options.username",I.username),h("MqttClient :: options.keepalive",I.keepalive),h("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),h("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),h("MqttClient :: options.topicAliasMaximum",I.topicAliasMaximum),this.options.clientId=typeof I.clientId=="string"?I.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),h("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=_,this.messageIdProvider=this.options.messageIdProvider===void 0?new n:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new c,this.incomingStore=I.incomingStore||new c,this.queueQoSZero=I.queueQoSZero===void 0||I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.topicAliasMaximum>0&&(I.topicAliasMaximum>65535?h("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new o(I.topicAliasMaximum)),this.on("connect",function(){const N=this.queue;h("connect :: sending queued packets"),function P(){const B=N.shift();h("deliver :: entry %o",B);let R=null;if(!B)return void D._resubscribe();R=B.packet,h("deliver :: call _sendPacket for %o",R);let O=!0;R.messageId&&R.messageId!==0&&(D.messageIdProvider.register(R.messageId)||(O=!1)),O?D._sendPacket(R,function(j){B.cb&&B.cb(j),P()}):(h("messageId: %d has already used. The message is skipped and removed.",R.messageId),P())}()}),this.on("close",function(){h("close :: connected set to `false`"),this.connected=!1,h("close :: clearing connackTimer"),clearTimeout(this.connackTimer),h("close :: clearing ping timer"),D.pingTimer!==null&&(D.pingTimer.clear(),D.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),h("close :: calling _setupReconnect"),this._setupReconnect()}),d.call(this),h("MqttClient :: setting up stream"),this._setupStream()}i(S,d),S.prototype._setupStream=function(){const _=this,I=new t,M=a.parser(this.options);let D=null;const N=[];function P(){if(N.length)v(B);else{const O=D;D=null,O()}}function B(){h("work :: getting next packet in queue");const O=N.shift();if(O)h("work :: packet pulled from queue"),_._handlePacket(O,P);else{h("work :: no packets in queue");const j=D;D=null,h("work :: done flag is %s",!!j),j&&j()}}h("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),h("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",function(O){h("parser :: on packet push to packets array."),N.push(O)}),I._write=function(O,j,H){D=H,h("writable stream :: parsing buffer"),M.parse(O),B()},h("_setupStream :: pipe stream to writable stream"),this.stream.pipe(I),this.stream.on("error",function(O){h("streamErrorHandler :: error",O.message),C.includes(O.code)?(h("streamErrorHandler :: emitting error"),_.emit("error",O)):y(O)}),this.stream.on("close",function(){var O;h("(%s)stream :: on close",_.options.clientId),(O=_.outgoing)&&(h("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(O).forEach(function(j){O[j].volatile&&typeof O[j].cb=="function"&&(O[j].cb(new Error("Connection closed")),delete O[j])})),h("stream: emit close to MqttClient"),_.emit("close")}),h("_setupStream: sending packet `connect`");const R=Object.create(this.options);if(R.cmd="connect",this.topicAliasRecv&&(R.properties||(R.properties={}),this.topicAliasRecv&&(R.properties.topicAliasMaximum=this.topicAliasRecv.max)),Q(this,R),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return _.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"&&Q(this,g({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){h("!!connectTimeout hit!! Calling _cleanUp with force `true`"),_._cleanUp(!0)},this.options.connectTimeout)},S.prototype._handlePacket=function(_,I){const M=this.options;if(M.protocolVersion===5&&M.properties&&M.properties.maximumPacketSize&&M.properties.maximumPacketSize<_.length)return this.emit("error",new Error("exceeding packets size "+_.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(h("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",_),_.cmd){case"publish":this._handlePublish(_,I);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(_),I();break;case"pubrel":this._handlePubrel(_,I);break;case"connack":this._handleConnack(_),I();break;case"auth":this._handleAuth(_),I();break;case"pingresp":this._handlePingresp(_),I();break;case"disconnect":this._handleDisconnect(_),I()}},S.prototype._checkDisconnecting=function(_){return this.disconnecting&&(_&&_!==y?_(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},S.prototype.publish=function(_,I,M,D){h("publish :: message `%s` to topic `%s`",I,_);const N=this.options;if(typeof M=="function"&&(D=M,M=null),M=g({qos:0,retain:!1,dup:!1},M),this._checkDisconnecting(D))return this;const P=this,B=function(){let R=0;if((M.qos===1||M.qos===2)&&(R=P._nextId())===null)return h("No messageId left"),!1;const O={cmd:"publish",topic:_,payload:I,qos:M.qos,retain:M.retain,messageId:R,dup:M.dup};switch(N.protocolVersion===5&&(O.properties=M.properties),h("publish :: qos",M.qos),M.qos){case 1:case 2:P.outgoing[O.messageId]={volatile:!1,cb:D||y},h("MqttClient:publish: packet cmd: %s",O.cmd),P._sendPacket(O,void 0,M.cbStorePut);break;default:h("MqttClient:publish: packet cmd: %s",O.cmd),P._sendPacket(O,D,M.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!B())&&this._storeProcessingQueue.push({invoke:B,cbStorePut:M.cbStorePut,callback:D}),this},S.prototype.subscribe=function(){const _=this,I=new Array(arguments.length);for(let F=0;F<arguments.length;F++)I[F]=arguments[F];const M=[];let D=I.shift();const N=D.resubscribe;let P=I.pop()||y,B=I.pop();const R=this.options.protocolVersion;delete D.resubscribe,typeof D=="string"&&(D=[D]),typeof P!="function"&&(B=P,P=y);const O=f.validateTopics(D);if(O!==null)return x(P,new Error("Invalid topic "+O)),this;if(this._checkDisconnecting(P))return h("subscribe: discconecting true"),this;const j={qos:0};if(R===5&&(j.nl=!1,j.rap=!1,j.rh=0),B=g(j,B),Array.isArray(D)?D.forEach(function(F){if(h("subscribe: array topic %s",F),!Object.prototype.hasOwnProperty.call(_._resubscribeTopics,F)||_._resubscribeTopics[F].qos<B.qos||N){const K={topic:F,qos:B.qos};R===5&&(K.nl=B.nl,K.rap=B.rap,K.rh=B.rh,K.properties=B.properties),h("subscribe: pushing topic `%s` and qos `%s` to subs list",K.topic,K.qos),M.push(K)}}):Object.keys(D).forEach(function(F){if(h("subscribe: object topic %s",F),!Object.prototype.hasOwnProperty.call(_._resubscribeTopics,F)||_._resubscribeTopics[F].qos<D[F].qos||N){const K={topic:F,qos:D[F].qos};R===5&&(K.nl=D[F].nl,K.rap=D[F].rap,K.rh=D[F].rh,K.properties=B.properties),h("subscribe: pushing `%s` to subs list",K),M.push(K)}}),!M.length)return P(null,[]),this;const H=function(){const F=_._nextId();if(F===null)return h("No messageId left"),!1;const K={cmd:"subscribe",subscriptions:M,qos:1,retain:!1,dup:!1,messageId:F};if(B.properties&&(K.properties=B.properties),_.options.resubscribe){h("subscribe :: resubscribe true");const $=[];M.forEach(function(G){if(_.options.reconnectPeriod>0){const r={qos:G.qos};R===5&&(r.nl=G.nl||!1,r.rap=G.rap||!1,r.rh=G.rh||0,r.properties=G.properties),_._resubscribeTopics[G.topic]=r,$.push(G.topic)}}),_.messageIdToTopic[K.messageId]=$}return _.outgoing[K.messageId]={volatile:!0,cb:function($,G){if(!$){const r=G.granted;for(let s=0;s<r.length;s+=1)M[s].qos=r[s]}P($,M)}},h("subscribe :: call _sendPacket"),_._sendPacket(K),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!H())&&this._storeProcessingQueue.push({invoke:H,callback:P}),this},S.prototype.unsubscribe=function(){const _=this,I=new Array(arguments.length);for(let R=0;R<arguments.length;R++)I[R]=arguments[R];let M=I.shift(),D=I.pop()||y,N=I.pop();typeof M=="string"&&(M=[M]),typeof D!="function"&&(N=D,D=y);const P=f.validateTopics(M);if(P!==null)return x(D,new Error("Invalid topic "+P)),this;if(_._checkDisconnecting(D))return this;const B=function(){const R=_._nextId();if(R===null)return h("No messageId left"),!1;const O={cmd:"unsubscribe",qos:1,messageId:R};return typeof M=="string"?O.unsubscriptions=[M]:Array.isArray(M)&&(O.unsubscriptions=M),_.options.resubscribe&&O.unsubscriptions.forEach(function(j){delete _._resubscribeTopics[j]}),typeof N=="object"&&N.properties&&(O.properties=N.properties),_.outgoing[O.messageId]={volatile:!0,cb:D},h("unsubscribe: call _sendPacket"),_._sendPacket(O),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!B())&&this._storeProcessingQueue.push({invoke:B,callback:D}),this},S.prototype.end=function(_,I,M){const D=this;function N(){h("end :: (%s) :: finish :: calling _cleanUp with force %s",D.options.clientId,_),D._cleanUp(_,()=>{h("end :: finish :: calling process.nextTick on closeStores"),v(function(){h("end :: closeStores: closing incoming and outgoing stores"),D.disconnected=!0,D.incomingStore.close(function(P){D.outgoingStore.close(function(B){if(h("end :: closeStores: emitting end"),D.emit("end"),M){const R=P||B;h("end :: closeStores: invoking callback with args"),M(R)}})}),D._deferredReconnect&&D._deferredReconnect()}.bind(D))},I)}return h("end :: (%s)",this.options.clientId),_!=null&&typeof _=="boolean"||(M=I||y,I=_,_=!1,typeof I!="object"&&(M=I,I=null,typeof M!="function"&&(M=y))),typeof I!="object"&&(M=I,I=null),h("end :: cb? %s",!!M),M=M||y,this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!_&&Object.keys(this.outgoing).length>0?(h("end :: (%s) :: calling finish in 10ms once outgoing is empty",D.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,N,10))):(h("end :: (%s) :: immediately calling finish",D.options.clientId),N()),this)},S.prototype.removeOutgoingMessage=function(_){const I=this.outgoing[_]?this.outgoing[_].cb:null;return delete this.outgoing[_],this.outgoingStore.del({messageId:_},function(){I(new Error("Message removed"))}),this},S.prototype.reconnect=function(_){h("client reconnect");const I=this,M=function(){_?(I.options.incomingStore=_.incomingStore,I.options.outgoingStore=_.outgoingStore):(I.options.incomingStore=null,I.options.outgoingStore=null),I.incomingStore=I.options.incomingStore||new c,I.outgoingStore=I.options.outgoingStore||new c,I.disconnecting=!1,I.disconnected=!1,I._deferredReconnect=null,I._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=M:M(),this},S.prototype._reconnect=function(){h("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),h("client already connected. disconnecting first.")):(h("_reconnect: calling _setupStream"),this._setupStream())},S.prototype._setupReconnect=function(){const _=this;!_.disconnecting&&!_.reconnectTimer&&_.options.reconnectPeriod>0?(this.reconnecting||(h("_setupReconnect :: emit `offline` state"),this.emit("offline"),h("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),h("_setupReconnect :: setting reconnectTimer for %d ms",_.options.reconnectPeriod),_.reconnectTimer=setInterval(function(){h("reconnectTimer :: reconnect triggered!"),_._reconnect()},_.options.reconnectPeriod)):h("_setupReconnect :: doing nothing...")},S.prototype._clearReconnect=function(){h("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},S.prototype._cleanUp=function(_,I){const M=arguments[2];if(I&&(h("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),h("_cleanUp :: forced? %s",_),_)this.options.reconnectPeriod===0&&this.options.clean&&(D=this.outgoing)&&(h("flush: queue exists? %b",!!D),Object.keys(D).forEach(function(N){typeof D[N].cb=="function"&&(D[N].cb(new Error("Connection closed")),delete D[N])})),h("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const N=g({cmd:"disconnect"},M);h("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(N,x.bind(null,this.stream.end.bind(this.stream)))}var D;this.disconnecting||(h("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(h("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),I&&!this.connected&&(h("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())},S.prototype._sendPacket=function(_,I,M){h("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||y,I=I||y;const D=function(N,P){if(N.options.protocolVersion===5&&P.cmd==="publish"){let B;P.properties&&(B=P.properties.topicAlias);const R=P.topic.toString();if(N.topicAliasSend)if(B){if(R.length!==0&&(h("applyTopicAlias :: register topic: %s - alias: %d",R,B),!N.topicAliasSend.put(R,B)))return h("applyTopicAlias :: error out of range. topic: %s - alias: %d",R,B),new Error("Sending Topic Alias out of range")}else R.length!==0&&(N.options.autoAssignTopicAlias?(B=N.topicAliasSend.getAliasByTopic(R))?(P.topic="",P.properties=ge(de({},P.properties),{topicAlias:B}),h("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",R,B)):(B=N.topicAliasSend.getLruAlias(),N.topicAliasSend.put(R,B),P.properties=ge(de({},P.properties),{topicAlias:B}),h("applyTopicAlias :: auto assign topic: %s - alias: %d",R,B)):N.options.autoUseTopicAlias&&(B=N.topicAliasSend.getAliasByTopic(R))&&(P.topic="",P.properties=ge(de({},P.properties),{topicAlias:B}),h("applyTopicAlias :: auto use topic: %s - alias: %d",R,B)));else if(B)return h("applyTopicAlias :: error out of range. topic: %s - alias: %d",R,B),new Error("Sending Topic Alias out of range")}}(this,_);if(D)I(D);else{if(!this.connected)return _.cmd==="auth"?(this._shiftPingInterval(),void Q(this,_,I)):(h("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(_,I,M));switch(this._shiftPingInterval(),_.cmd){case"publish":break;case"pubrel":return void b(this,_,I,M);default:return void Q(this,_,I)}switch(_.qos){case 2:case 1:b(this,_,I,M);break;case 0:default:Q(this,_,I)}h("_sendPacket :: (%s) ::  end",this.options.clientId)}},S.prototype._storePacket=function(_,I,M){h("_storePacket :: packet: %o",_),h("_storePacket :: cb? %s",!!I),M=M||y;let D=_;if(D.cmd==="publish"){const N=V(this,D=l(_));if(N)return I&&I(N)}(D.qos||0)===0&&this.queueQoSZero||D.cmd!=="publish"?this.queue.push({packet:D,cb:I}):D.qos>0?(I=this.outgoing[D.messageId]?this.outgoing[D.messageId].cb:null,this.outgoingStore.put(D,function(N){if(N)return I&&I(N);M()})):I&&I(new Error("No connection to broker"))},S.prototype._setupPingTimer=function(){h("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const _=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=u(function(){_._checkPing()},1e3*this.options.keepalive))},S.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},S.prototype._checkPing=function(){h("_checkPing :: checking ping..."),this.pingResp?(h("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(h("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},S.prototype._handlePingresp=function(){this.pingResp=!0},S.prototype._handleConnack=function(_){h("_handleConnack");const I=this.options,M=I.protocolVersion===5?_.reasonCode:_.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,_.properties){if(_.properties.topicAliasMaximum){if(_.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));_.properties.topicAliasMaximum>0&&(this.topicAliasSend=new e(_.properties.topicAliasMaximum))}_.properties.serverKeepAlive&&I.keepalive&&(I.keepalive=_.properties.serverKeepAlive,this._shiftPingInterval()),_.properties.maximumPacketSize&&(I.properties||(I.properties={}),I.properties.maximumPacketSize=_.properties.maximumPacketSize)}if(M===0)this.reconnecting=!1,this._onConnect(_);else if(M>0){const D=new Error("Connection refused: "+k[M]);D.code=M,this.emit("error",D)}},S.prototype._handleAuth=function(_){const I=this.options.protocolVersion,M=I===5?_.reasonCode:_.returnCode;if(I!==5){const N=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+I);return N.code=M,void this.emit("error",N)}const D=this;this.handleAuth(_,function(N,P){if(N)D.emit("error",N);else if(M===24)D.reconnecting=!1,D._sendPacket(P);else{const B=new Error("Connection refused: "+k[M]);N.code=M,D.emit("error",B)}})},S.prototype.handleAuth=function(_,I){I()},S.prototype._handlePublish=function(_,I){h("_handlePublish: packet %o",_),I=I!==void 0?I:y;let M=_.topic.toString();const D=_.payload,N=_.qos,P=_.messageId,B=this,R=this.options,O=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let j;if(_.properties&&(j=_.properties.topicAlias),j!==void 0)if(M.length===0){if(!(j>0&&j<=65535))return h("_handlePublish :: topic alias out of range. alias: %d",j),void this.emit("error",new Error("Received Topic Alias is out of range"));{const H=this.topicAliasRecv.getTopicByAlias(j);if(!H)return h("_handlePublish :: unregistered topic alias. alias: %d",j),void this.emit("error",new Error("Received unregistered Topic Alias"));h("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",M=H,j)}}else{if(!this.topicAliasRecv.put(M,j))return h("_handlePublish :: topic alias out of range. alias: %d",j),void this.emit("error",new Error("Received Topic Alias is out of range"));h("_handlePublish :: registered topic: %s - alias: %d",M,j)}}switch(h("_handlePublish: qos %d",N),N){case 2:R.customHandleAcks(M,D,_,function(j,H){return j instanceof Error||(H=j,j=null),j?B.emit("error",j):O.indexOf(H)===-1?B.emit("error",new Error("Wrong reason code for pubrec")):void(H?B._sendPacket({cmd:"pubrec",messageId:P,reasonCode:H},I):B.incomingStore.put(_,function(){B._sendPacket({cmd:"pubrec",messageId:P},I)}))});break;case 1:R.customHandleAcks(M,D,_,function(j,H){return j instanceof Error||(H=j,j=null),j?B.emit("error",j):O.indexOf(H)===-1?B.emit("error",new Error("Wrong reason code for puback")):(H||B.emit("message",M,D,_),void B.handleMessage(_,function(F){if(F)return I&&I(F);B._sendPacket({cmd:"puback",messageId:P,reasonCode:H},I)}))});break;case 0:this.emit("message",M,D,_),this.handleMessage(_,I);break;default:h("_handlePublish: unknown QoS. Doing nothing.")}},S.prototype.handleMessage=function(_,I){I()},S.prototype._handleAck=function(_){const I=_.messageId,M=_.cmd;let D=null;const N=this.outgoing[I]?this.outgoing[I].cb:null,P=this;let B;if(N){switch(h("_handleAck :: packet type",M),M){case"pubcomp":case"puback":{const R=_.reasonCode;R&&R>0&&R!==16&&((B=new Error("Publish error: "+k[R])).code=R,N(B,_)),delete this.outgoing[I],this.outgoingStore.del(_,N),this.messageIdProvider.deallocate(I),this._invokeStoreProcessingQueue();break}case"pubrec":{D={cmd:"pubrel",qos:2,messageId:I};const R=_.reasonCode;R&&R>0&&R!==16?((B=new Error("Publish error: "+k[R])).code=R,N(B,_)):this._sendPacket(D);break}case"suback":delete this.outgoing[I],this.messageIdProvider.deallocate(I);for(let R=0;R<_.granted.length;R++)if((128&_.granted[R])!=0){const O=this.messageIdToTopic[I];O&&O.forEach(function(j){delete P._resubscribeTopics[j]})}this._invokeStoreProcessingQueue(),N(null,_);break;case"unsuback":delete this.outgoing[I],this.messageIdProvider.deallocate(I),this._invokeStoreProcessingQueue(),N(null);break;default:P.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")}else h("_handleAck :: Server sent an ack in error. Ignoring.")},S.prototype._handlePubrel=function(_,I){h("handling pubrel packet"),I=I!==void 0?I:y;const M=this,D={cmd:"pubcomp",messageId:_.messageId};M.incomingStore.get(_,function(N,P){N?M._sendPacket(D,I):(M.emit("message",P.topic,P.payload,P),M.handleMessage(P,function(B){if(B)return I(B);M.incomingStore.del(P,y),M._sendPacket(D,I)}))})},S.prototype._handleDisconnect=function(_){this.emit("disconnect",_)},S.prototype._nextId=function(){return this.messageIdProvider.allocate()},S.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},S.prototype._resubscribe=function(){h("_resubscribe");const _=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&_.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){h("_resubscribe: protocolVersion 5");for(let I=0;I<_.length;I++){const M={};M[_[I]]=this._resubscribeTopics[_[I]],M.resubscribe=!0,this.subscribe(M,{properties:M[_[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},S.prototype._onConnect=function(_){if(this.disconnected)return void this.emit("connect",_);const I=this;this.connackPacket=_,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function M(){let D=I.outgoingStore.createStream();function N(){I._storeProcessing=!1,I._packetIdsDuringStoreProcessing={}}function P(){D.destroy(),D=null,I._flushStoreProcessingQueue(),N()}I.once("close",P),D.on("error",function(B){N(),I._flushStoreProcessingQueue(),I.removeListener("close",P),I.emit("error",B)}),D.on("end",function(){let B=!0;for(const R in I._packetIdsDuringStoreProcessing)if(!I._packetIdsDuringStoreProcessing[R]){B=!1;break}B?(N(),I.removeListener("close",P),I._invokeAllStoreProcessingQueue(),I.emit("connect",_)):M()}),function B(){if(!D)return;I._storeProcessing=!0;const R=D.read(1);let O;R?I._packetIdsDuringStoreProcessing[R.messageId]?B():I.disconnecting||I.reconnectTimer?D.destroy&&D.destroy():(O=I.outgoing[R.messageId]?I.outgoing[R.messageId].cb:null,I.outgoing[R.messageId]={volatile:!1,cb:function(j,H){O&&O(j,H),B()}},I._packetIdsDuringStoreProcessing[R.messageId]=!0,I.messageIdProvider.register(R.messageId)?I._sendPacket(R):h("messageId: %d has already used.",R.messageId)):D.once("readable",B)}()}()},S.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const _=this._storeProcessingQueue[0];if(_&&_.invoke())return this._storeProcessingQueue.shift(),!0}return!1},S.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},S.prototype._flushStoreProcessingQueue=function(){for(const _ of this._storeProcessingQueue)_.cbStorePut&&_.cbStorePut(new Error("Connection closed")),_.callback&&_.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},z.exports=S}).call(this)}).call(this,A("_process"),typeof fe!="undefined"?fe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(A,z,q){const{Buffer:w}=A("buffer"),p=A("readable-stream").Transform,d=A("duplexify");let c,o,e,a=!1;z.exports=function(n,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");const i=t.protocolId==="MQIsdp"&&t.protocolVersion===3?"mqttv3.1":"mqtt";(function(l){l.hostname||(l.hostname="localhost"),l.path||(l.path="/"),l.wsOptions||(l.wsOptions={})})(t);const u=function(l,f){const g=l.protocol==="alis"?"wss":"ws";let h=g+"://"+l.hostname+l.path;return l.port&&l.port!==80&&l.port!==443&&(h=g+"://"+l.hostname+":"+l.port+l.path),typeof l.transformWsUrl=="function"&&(h=l.transformWsUrl(h,l,f)),h}(t,n);return(c=t.my).connectSocket({url:u,protocols:i}),o=function(){const l=new p;return l._write=function(f,g,h){c.sendSocketMessage({data:f.buffer,success:function(){h()},fail:function(){h(new Error)}})},l._flush=function(f){c.closeSocket({success:function(){f()}})},l}(),e=d.obj(),a||(a=!0,c.onSocketOpen(function(){e.setReadable(o),e.setWritable(o),e.emit("connect")}),c.onSocketMessage(function(l){if(typeof l.data=="string"){const f=w.from(l.data,"base64");o.push(f)}else{const f=new FileReader;f.addEventListener("load",function(){let g=f.result;g=g instanceof ArrayBuffer?w.from(g):w.from(g,"utf8"),o.push(g)}),f.readAsArrayBuffer(l.data)}}),c.onSocketClose(function(){e.end(),e.destroy()}),c.onSocketError(function(l){e.destroy(l)})),e}},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(A,z,q){const w=A("net"),p=A("debug")("mqttjs:tcp");z.exports=function(d,c){c.port=c.port||1883,c.hostname=c.hostname||c.host||"localhost";const o=c.port,e=c.hostname;return p("port %d and host %s",o,e),w.createConnection(o,e)}},{debug:18,net:16}],4:[function(A,z,q){const w=A("tls"),p=A("net"),d=A("debug")("mqttjs:tls");z.exports=function(c,o){o.port=o.port||8883,o.host=o.hostname||o.host||"localhost",p.isIP(o.host)===0&&(o.servername=o.host),o.rejectUnauthorized=o.rejectUnauthorized!==!1,delete o.path,d("port %d host %s rejectUnauthorized %b",o.port,o.host,o.rejectUnauthorized);const e=w.connect(o);function a(n){o.rejectUnauthorized&&c.emit("error",n),e.end()}return e.on("secureConnect",function(){o.rejectUnauthorized&&!e.authorized?e.emit("error",new Error("TLS not authorized")):e.removeListener("error",a)}),e.on("error",a),e}},{debug:18,net:16,tls:16}],5:[function(A,z,q){(function(w){(function(){const{Buffer:p}=A("buffer"),d=A("ws"),c=A("debug")("mqttjs:ws"),o=A("duplexify"),e=A("readable-stream").Transform,a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],n=w!==void 0&&w.title==="browser"||typeof __webpack_require__=="function";function t(u,l){let f=u.protocol+"://"+u.hostname+":"+u.port+u.path;return typeof u.transformWsUrl=="function"&&(f=u.transformWsUrl(f,u,l)),f}function i(u){const l=u;return u.hostname||(l.hostname="localhost"),u.port||(u.protocol==="wss"?l.port=443:l.port=80),u.path||(l.path="/"),u.wsOptions||(l.wsOptions={}),n||u.protocol!=="wss"||a.forEach(function(f){Object.prototype.hasOwnProperty.call(u,f)&&!Object.prototype.hasOwnProperty.call(u.wsOptions,f)&&(l.wsOptions[f]=u[f])}),l}z.exports=n?function(u,l){let f;c("browserStreamBuilder");const g=function(S){const _=i(S);if(_.hostname||(_.hostname=_.host),!_.hostname){if(typeof document=="undefined")throw new Error("Could not determine host. Specify host manually.");const I=new URL(document.URL);_.hostname=I.hostname,_.port||(_.port=I.port)}return _.objectMode===void 0&&(_.objectMode=!(_.binary===!0||_.binary===void 0)),_}(l).browserBufferSize||524288,h=l.browserBufferTimeout||1e3,v=!l.objectMode,x=function(S,_){const I=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt",M=t(_,S),D=new WebSocket(M,[I]);return D.binaryType="arraybuffer",D}(u,l),E=function(S,_,I){const M=new e({objectModeMode:S.objectMode});return M._write=_,M._flush=I,M}(l,function S(_,I,M){x.bufferedAmount>g&&setTimeout(S,h,_,I,M),v&&typeof _=="string"&&(_=p.from(_,"utf8"));try{x.send(_)}catch(D){return M(D)}M()},function(S){x.close(),S()});l.objectMode||(E._writev=y),E.on("close",()=>{x.close()});const C=x.addEventListener!==void 0;function k(){f.setReadable(E),f.setWritable(E),f.emit("connect")}function V(){f.end(),f.destroy()}function Q(S){f.destroy(S)}function b(S){let _=S.data;_=_ instanceof ArrayBuffer?p.from(_):p.from(_,"utf8"),E.push(_)}function y(S,_){const I=new Array(S.length);for(let M=0;M<S.length;M++)typeof S[M].chunk=="string"?I[M]=p.from(S[M],"utf8"):I[M]=S[M].chunk;this._write(p.concat(I),"binary",_)}return x.readyState===x.OPEN?f=E:(f=f=o(void 0,void 0,l),l.objectMode||(f._writev=y),C?x.addEventListener("open",k):x.onopen=k),f.socket=x,C?(x.addEventListener("close",V),x.addEventListener("error",Q),x.addEventListener("message",b)):(x.onclose=V,x.onerror=Q,x.onmessage=b),f}:function(u,l){c("streamBuilder");const f=i(l),g=t(f,u),h=function(x,E,C){c("createWebSocket"),c("protocol: "+C.protocolId+" "+C.protocolVersion);const k=C.protocolId==="MQIsdp"&&C.protocolVersion===3?"mqttv3.1":"mqtt";return c("creating new Websocket for url: "+E+" and protocol: "+k),new d(E,[k],C.wsOptions)}(0,g,f),v=d.createWebSocketStream(h,f.wsOptions);return v.url=g,h.on("close",()=>{v.destroy()}),v}}).call(this)}).call(this,A("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(A,z,q){const{Buffer:w}=A("buffer"),p=A("readable-stream").Transform,d=A("duplexify");let c,o,e;z.exports=function(a,n){if(n.hostname=n.hostname||n.host,!n.hostname)throw new Error("Could not determine host. Specify host manually.");const t=n.protocolId==="MQIsdp"&&n.protocolVersion===3?"mqttv3.1":"mqtt";(function(l){l.hostname||(l.hostname="localhost"),l.path||(l.path="/"),l.wsOptions||(l.wsOptions={})})(n);const i=function(l,f){const g=l.protocol==="wxs"?"wss":"ws";let h=g+"://"+l.hostname+l.path;return l.port&&l.port!==80&&l.port!==443&&(h=g+"://"+l.hostname+":"+l.port+l.path),typeof l.transformWsUrl=="function"&&(h=l.transformWsUrl(h,l,f)),h}(n,a);c=wx.connectSocket({url:i,protocols:[t]}),o=function(){const l=new p;return l._write=function(f,g,h){c.send({data:f.buffer,success:function(){h()},fail:function(v){h(new Error(v))}})},l._flush=function(f){c.close({success:function(){f()}})},l}(),(e=d.obj())._destroy=function(l,f){c.close({success:function(){f&&f(l)}})};const u=e.destroy;return e.destroy=function(){e.destroy=u;const l=this;setTimeout(function(){c.close({fail:function(){l._destroy(new Error)}})},0)}.bind(e),c.onOpen(function(){e.setReadable(o),e.setWritable(o),e.emit("connect")}),c.onMessage(function(l){let f=l.data;f=f instanceof ArrayBuffer?w.from(f):w.from(f,"utf8"),o.push(f)}),c.onClose(function(){e.end(),e.destroy()}),c.onError(function(l){e.destroy(new Error(l.errMsg))}),e}},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(A,z,q){function w(){if(!(this instanceof w))return new w;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}w.prototype.allocate=function(){const p=this.nextId++;return this.nextId===65536&&(this.nextId=1),p},w.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},w.prototype.register=function(p){return!0},w.prototype.deallocate=function(p){},w.prototype.clear=function(){},z.exports=w},{}],8:[function(A,z,q){const w=A("xtend"),p=A("readable-stream").Readable,d={objectMode:!0},c={clean:!0};function o(e){if(!(this instanceof o))return new o(e);this.options=e||{},this.options=w(c,e),this._inflights=new Map}o.prototype.put=function(e,a){return this._inflights.set(e.messageId,e),a&&a(),this},o.prototype.createStream=function(){const e=new p(d),a=[];let n=!1,t=0;return this._inflights.forEach(function(i,u){a.push(i)}),e._read=function(){!n&&t<a.length?this.push(a[t++]):this.push(null)},e.destroy=function(){if(n)return;const i=this;n=!0,setTimeout(function(){i.emit("close")},0)},e},o.prototype.del=function(e,a){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),a(null,e)):a&&a(new Error("missing packet")),this},o.prototype.get=function(e,a){return(e=this._inflights.get(e.messageId))?a(null,e):a&&a(new Error("missing packet")),this},o.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},z.exports=o},{"readable-stream":69,xtend:81}],9:[function(A,z,q){function w(p){if(!(this instanceof w))return new w(p);this.aliasToTopic={},this.max=p}w.prototype.put=function(p,d){return!(d===0||d>this.max)&&(this.aliasToTopic[d]=p,this.length=Object.keys(this.aliasToTopic).length,!0)},w.prototype.getTopicByAlias=function(p){return this.aliasToTopic[p]},w.prototype.clear=function(){this.aliasToTopic={}},z.exports=w},{}],10:[function(A,z,q){const w=A("lru-cache"),p=A("number-allocator").NumberAllocator;function d(c){if(!(this instanceof d))return new d(c);c>0&&(this.aliasToTopic=new w({max:c}),this.topicToAlias={},this.numberAllocator=new p(1,c),this.max=c,this.length=0)}d.prototype.put=function(c,o){if(o===0||o>this.max)return!1;const e=this.aliasToTopic.get(o);return e&&delete this.topicToAlias[e],this.aliasToTopic.set(o,c),this.topicToAlias[c]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.length,!0},d.prototype.getTopicByAlias=function(c){return this.aliasToTopic.get(c)},d.prototype.getAliasByTopic=function(c){const o=this.topicToAlias[c];return o!==void 0&&this.aliasToTopic.get(o),o},d.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},d.prototype.getLruAlias=function(){return this.numberAllocator.firstVacant()||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},z.exports=d},{"lru-cache":37,"number-allocator":46}],11:[function(A,z,q){function w(p){const d=p.split("/");for(let c=0;c<d.length;c++)if(d[c]!=="+"){if(d[c]==="#")return c===d.length-1;if(d[c].indexOf("+")!==-1||d[c].indexOf("#")!==-1)return!1}return!0}z.exports={validateTopics:function(p){if(p.length===0)return"empty_topic_list";for(let d=0;d<p.length;d++)if(!w(p[d]))return p[d];return null}}},{}],12:[function(A,z,q){(function(w){(function(){const p=A("../client"),d=A("../store"),c=A("url"),o=A("xtend"),e=A("debug")("mqttjs"),a={};function n(t,i){if(e("connecting to an MQTT broker..."),typeof t!="object"||i||(i=t,t=null),i=i||{},t){const l=c.parse(t,!0);if(l.port!=null&&(l.port=Number(l.port)),(i=o(l,i)).protocol===null)throw new Error("Missing protocol");i.protocol=i.protocol.replace(/:$/,"")}if(function(l){let f;l.auth&&((f=l.auth.match(/^(.+):(.+)$/))?(l.username=f[1],l.password=f[2]):l.username=l.auth)}(i),i.query&&typeof i.query.clientId=="string"&&(i.clientId=i.query.clientId),i.cert&&i.key){if(!i.protocol)throw new Error("Missing secure protocol key");if(["mqtts","wss","wxs","alis"].indexOf(i.protocol)===-1)switch(i.protocol){case"mqtt":i.protocol="mqtts";break;case"ws":i.protocol="wss";break;case"wx":i.protocol="wxs";break;case"ali":i.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+i.protocol+'"!')}}if(!a[i.protocol]){const l=["mqtts","wss"].indexOf(i.protocol)!==-1;i.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(f,g){return(!l||g%2!=0)&&typeof a[f]=="function"})[0]}if(i.clean===!1&&!i.clientId)throw new Error("Missing clientId for unclean clients");i.protocol&&(i.defaultProtocol=i.protocol);const u=new p(function(l){return i.servers&&(l._reconnectCount&&l._reconnectCount!==i.servers.length||(l._reconnectCount=0),i.host=i.servers[l._reconnectCount].host,i.port=i.servers[l._reconnectCount].port,i.protocol=i.servers[l._reconnectCount].protocol?i.servers[l._reconnectCount].protocol:i.defaultProtocol,i.hostname=i.host,l._reconnectCount++),e("calling streambuilder for",i.protocol),a[i.protocol](l,i)},i);return u.on("error",function(){}),u}w!==void 0&&w.title!=="browser"||typeof __webpack_require__!="function"?(a.mqtt=A("./tcp"),a.tcp=A("./tcp"),a.ssl=A("./tls"),a.tls=A("./tls"),a.mqtts=A("./tls")):(a.wx=A("./wx"),a.wxs=A("./wx"),a.ali=A("./ali"),a.alis=A("./ali")),a.ws=A("./ws"),a.wss=A("./ws"),z.exports=n,z.exports.connect=n,z.exports.MqttClient=p,z.exports.Store=d}).call(this)}).call(this,A("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(A,z,q){q.byteLength=function(t){var i=a(t),u=i[0],l=i[1];return 3*(u+l)/4-l},q.toByteArray=function(t){var i,u,l=a(t),f=l[0],g=l[1],h=new d(function(E,C,k){return 3*(C+k)/4-k}(0,f,g)),v=0,x=g>0?f-4:f;for(u=0;u<x;u+=4)i=p[t.charCodeAt(u)]<<18|p[t.charCodeAt(u+1)]<<12|p[t.charCodeAt(u+2)]<<6|p[t.charCodeAt(u+3)],h[v++]=i>>16&255,h[v++]=i>>8&255,h[v++]=255&i;return g===2&&(i=p[t.charCodeAt(u)]<<2|p[t.charCodeAt(u+1)]>>4,h[v++]=255&i),g===1&&(i=p[t.charCodeAt(u)]<<10|p[t.charCodeAt(u+1)]<<4|p[t.charCodeAt(u+2)]>>2,h[v++]=i>>8&255,h[v++]=255&i),h},q.fromByteArray=function(t){for(var i,u=t.length,l=u%3,f=[],g=0,h=u-l;g<h;g+=16383)f.push(n(t,g,g+16383>h?h:g+16383));return l===1?(i=t[u-1],f.push(w[i>>2]+w[i<<4&63]+"==")):l===2&&(i=(t[u-2]<<8)+t[u-1],f.push(w[i>>10]+w[i>>4&63]+w[i<<2&63]+"=")),f.join("")};for(var w=[],p=[],d=typeof Uint8Array!="undefined"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,e=c.length;o<e;++o)w[o]=c[o],p[c.charCodeAt(o)]=o;function a(t){var i=t.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.indexOf("=");return u===-1&&(u=i),[u,u===i?0:4-u%4]}function n(t,i,u){for(var l,f,g=[],h=i;h<u;h+=3)l=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2]),g.push(w[(f=l)>>18&63]+w[f>>12&63]+w[f>>6&63]+w[63&f]);return g.join("")}p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63},{}],14:[function(A,z,q){const{Buffer:w}=A("buffer"),p=Symbol.for("BufferList");function d(c){if(!(this instanceof d))return new d(c);d._init.call(this,c)}d._init=function(c){Object.defineProperty(this,p,{value:!0}),this._bufs=[],this.length=0,c&&this.append(c)},d.prototype._new=function(c){return new d(c)},d.prototype._offset=function(c){if(c===0)return[0,0];let o=0;for(let e=0;e<this._bufs.length;e++){const a=o+this._bufs[e].length;if(c<a||e===this._bufs.length-1)return[e,c-o];o=a}},d.prototype._reverseOffset=function(c){const o=c[0];let e=c[1];for(let a=0;a<o;a++)e+=this._bufs[a].length;return e},d.prototype.get=function(c){if(c>this.length||c<0)return;const o=this._offset(c);return this._bufs[o[0]][o[1]]},d.prototype.slice=function(c,o){return typeof c=="number"&&c<0&&(c+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,c,o)},d.prototype.copy=function(c,o,e,a){if((typeof e!="number"||e<0)&&(e=0),(typeof a!="number"||a>this.length)&&(a=this.length),e>=this.length||a<=0)return c||w.alloc(0);const n=!!c,t=this._offset(e),i=a-e;let u=i,l=n&&o||0,f=t[1];if(e===0&&a===this.length){if(!n)return this._bufs.length===1?this._bufs[0]:w.concat(this._bufs,this.length);for(let g=0;g<this._bufs.length;g++)this._bufs[g].copy(c,l),l+=this._bufs[g].length;return c}if(u<=this._bufs[t[0]].length-f)return n?this._bufs[t[0]].copy(c,o,f,f+u):this._bufs[t[0]].slice(f,f+u);n||(c=w.allocUnsafe(i));for(let g=t[0];g<this._bufs.length;g++){const h=this._bufs[g].length-f;if(!(u>h)){this._bufs[g].copy(c,l,f,f+u),l+=h;break}this._bufs[g].copy(c,l,f),l+=h,u-=h,f&&(f=0)}return c.length>l?c.slice(0,l):c},d.prototype.shallowSlice=function(c,o){if(c=c||0,o=typeof o!="number"?this.length:o,c<0&&(c+=this.length),o<0&&(o+=this.length),c===o)return this._new();const e=this._offset(c),a=this._offset(o),n=this._bufs.slice(e[0],a[0]+1);return a[1]===0?n.pop():n[n.length-1]=n[n.length-1].slice(0,a[1]),e[1]!==0&&(n[0]=n[0].slice(e[1])),this._new(n)},d.prototype.toString=function(c,o,e){return this.slice(o,e).toString(c)},d.prototype.consume=function(c){if(c=Math.trunc(c),Number.isNaN(c)||c<=0)return this;for(;this._bufs.length;){if(!(c>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(c),this.length-=c;break}c-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},d.prototype.duplicate=function(){const c=this._new();for(let o=0;o<this._bufs.length;o++)c.append(this._bufs[o]);return c},d.prototype.append=function(c){if(c==null)return this;if(c.buffer)this._appendBuffer(w.from(c.buffer,c.byteOffset,c.byteLength));else if(Array.isArray(c))for(let o=0;o<c.length;o++)this.append(c[o]);else if(this._isBufferList(c))for(let o=0;o<c._bufs.length;o++)this.append(c._bufs[o]);else typeof c=="number"&&(c=c.toString()),this._appendBuffer(w.from(c));return this},d.prototype._appendBuffer=function(c){this._bufs.push(c),this.length+=c.length},d.prototype.indexOf=function(c,o,e){if(e===void 0&&typeof o=="string"&&(e=o,o=void 0),typeof c=="function"||Array.isArray(c))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof c=="number"?c=w.from([c]):typeof c=="string"?c=w.from(c,e):this._isBufferList(c)?c=c.slice():Array.isArray(c.buffer)?c=w.from(c.buffer,c.byteOffset,c.byteLength):w.isBuffer(c)||(c=w.from(c)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),c.length===0)return o>this.length?this.length:o;const a=this._offset(o);let n=a[0],t=a[1];for(;n<this._bufs.length;n++){const i=this._bufs[n];for(;t<i.length;)if(i.length-t>=c.length){const u=i.indexOf(c,t);if(u!==-1)return this._reverseOffset([n,u]);t=i.length-c.length+1}else{const u=this._reverseOffset([n,t]);if(this._match(u,c))return u;t++}t=0}return-1},d.prototype._match=function(c,o){if(this.length-c<o.length)return!1;for(let e=0;e<o.length;e++)if(this.get(c+e)!==o[e])return!1;return!0},function(){const c={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const o in c)(function(e){d.prototype[e]=c[e]===null?function(a,n){return this.slice(a,a+n)[e](0,n)}:function(a=0){return this.slice(a,a+c[e])[e](0)}})(o)}(),d.prototype._isBufferList=function(c){return c instanceof d||d.isBufferList(c)},d.isBufferList=function(c){return c!=null&&c[p]},z.exports=d},{buffer:17}],15:[function(A,z,q){const w=A("readable-stream").Duplex,p=A("inherits"),d=A("./BufferList");function c(o){if(!(this instanceof c))return new c(o);if(typeof o=="function"){this._callback=o;const e=function(a){this._callback&&(this._callback(a),this._callback=null)}.bind(this);this.on("pipe",function(a){a.on("error",e)}),this.on("unpipe",function(a){a.removeListener("error",e)}),o=null}d._init.call(this,o),w.call(this)}p(c,w),Object.assign(c.prototype,d.prototype),c.prototype._new=function(o){return new c(o)},c.prototype._write=function(o,e,a){this._appendBuffer(o),typeof a=="function"&&a()},c.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},c.prototype.end=function(o){w.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},c.prototype._destroy=function(o,e){this._bufs.length=0,this.length=0,e(o)},c.prototype._isBufferList=function(o){return o instanceof c||o instanceof d||c.isBufferList(o)},c.isBufferList=d.isBufferList,z.exports=c,z.exports.BufferListStream=c,z.exports.BufferList=d},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(A,z,q){},{}],17:[function(A,z,q){(function(w){(function(){var p=A("base64-js"),d=A("ieee754");q.Buffer=e,q.SlowBuffer=function(r){return+r!=r&&(r=0),e.alloc(+r)},q.INSPECT_MAX_BYTES=50;var c=2147483647;function o(r){if(r>c)throw new RangeError('The value "'+r+'" is invalid for option "size"');var s=new Uint8Array(r);return s.__proto__=e.prototype,s}function e(r,s,m){if(typeof r=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return t(r)}return a(r,s,m)}function a(r,s,m){if(typeof r=="string")return function(U,W){if(typeof W=="string"&&W!==""||(W="utf8"),!e.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var Z=0|l(U,W),Y=o(Z),J=Y.write(U,W);return J!==Z&&(Y=Y.slice(0,J)),Y}(r,s);if(ArrayBuffer.isView(r))return i(r);if(r==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if($(r,ArrayBuffer)||r&&$(r.buffer,ArrayBuffer))return function(U,W,Z){if(W<0||U.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<W+(Z||0))throw new RangeError('"length" is outside of buffer bounds');var Y;return Y=W===void 0&&Z===void 0?new Uint8Array(U):Z===void 0?new Uint8Array(U,W):new Uint8Array(U,W,Z),Y.__proto__=e.prototype,Y}(r,s,m);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=r.valueOf&&r.valueOf();if(T!=null&&T!==r)return e.from(T,s,m);var L=function(U){if(e.isBuffer(U)){var W=0|u(U.length),Z=o(W);return Z.length===0||U.copy(Z,0,0,W),Z}if(U.length!==void 0)return typeof U.length!="number"||G(U.length)?o(0):i(U);if(U.type==="Buffer"&&Array.isArray(U.data))return i(U.data)}(r);if(L)return L;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return e.from(r[Symbol.toPrimitive]("string"),s,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}function n(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function t(r){return n(r),o(r<0?0:0|u(r))}function i(r){for(var s=r.length<0?0:0|u(r.length),m=o(s),T=0;T<s;T+=1)m[T]=255&r[T];return m}function u(r){if(r>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|r}function l(r,s){if(e.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||$(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var m=r.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&m===0)return 0;for(var L=!1;;)switch(s){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return H(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return F(r).length;default:if(L)return T?-1:H(r).length;s=(""+s).toLowerCase(),L=!0}}function f(r,s,m){var T=r[s];r[s]=r[m],r[m]=T}function g(r,s,m,T,L){if(r.length===0)return-1;if(typeof m=="string"?(T=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),G(m=+m)&&(m=L?0:r.length-1),m<0&&(m=r.length+m),m>=r.length){if(L)return-1;m=r.length-1}else if(m<0){if(!L)return-1;m=0}if(typeof s=="string"&&(s=e.from(s,T)),e.isBuffer(s))return s.length===0?-1:h(r,s,m,T,L);if(typeof s=="number")return s&=255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(r,s,m):Uint8Array.prototype.lastIndexOf.call(r,s,m):h(r,[s],m,T,L);throw new TypeError("val must be string, number or Buffer")}function h(r,s,m,T,L){var U,W=1,Z=r.length,Y=s.length;if(T!==void 0&&((T=String(T).toLowerCase())==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(r.length<2||s.length<2)return-1;W=2,Z/=2,Y/=2,m/=2}function J(ue,ee){return W===1?ue[ee]:ue.readUInt16BE(ee*W)}if(L){var X=-1;for(U=m;U<Z;U++)if(J(r,U)===J(s,X===-1?0:U-X)){if(X===-1&&(X=U),U-X+1===Y)return X*W}else X!==-1&&(U-=U-X),X=-1}else for(m+Y>Z&&(m=Z-Y),U=m;U>=0;U--){for(var le=!0,se=0;se<Y;se++)if(J(r,U+se)!==J(s,se)){le=!1;break}if(le)return U}return-1}function v(r,s,m,T){m=Number(m)||0;var L=r.length-m;T?(T=Number(T))>L&&(T=L):T=L;var U=s.length;T>U/2&&(T=U/2);for(var W=0;W<T;++W){var Z=parseInt(s.substr(2*W,2),16);if(G(Z))return W;r[m+W]=Z}return W}function x(r,s,m,T){return K(H(s,r.length-m),r,m,T)}function E(r,s,m,T){return K(function(L){for(var U=[],W=0;W<L.length;++W)U.push(255&L.charCodeAt(W));return U}(s),r,m,T)}function C(r,s,m,T){return E(r,s,m,T)}function k(r,s,m,T){return K(F(s),r,m,T)}function V(r,s,m,T){return K(function(L,U){for(var W,Z,Y,J=[],X=0;X<L.length&&!((U-=2)<0);++X)W=L.charCodeAt(X),Z=W>>8,Y=W%256,J.push(Y),J.push(Z);return J}(s,r.length-m),r,m,T)}function Q(r,s,m){return s===0&&m===r.length?p.fromByteArray(r):p.fromByteArray(r.slice(s,m))}function b(r,s,m){m=Math.min(r.length,m);for(var T=[],L=s;L<m;){var U,W,Z,Y,J=r[L],X=null,le=J>239?4:J>223?3:J>191?2:1;if(L+le<=m)switch(le){case 1:J<128&&(X=J);break;case 2:(192&(U=r[L+1]))==128&&(Y=(31&J)<<6|63&U)>127&&(X=Y);break;case 3:U=r[L+1],W=r[L+2],(192&U)==128&&(192&W)==128&&(Y=(15&J)<<12|(63&U)<<6|63&W)>2047&&(Y<55296||Y>57343)&&(X=Y);break;case 4:U=r[L+1],W=r[L+2],Z=r[L+3],(192&U)==128&&(192&W)==128&&(192&Z)==128&&(Y=(15&J)<<18|(63&U)<<12|(63&W)<<6|63&Z)>65535&&Y<1114112&&(X=Y)}X===null?(X=65533,le=1):X>65535&&(X-=65536,T.push(X>>>10&1023|55296),X=56320|1023&X),T.push(X),L+=le}return function(se){var ue=se.length;if(ue<=y)return String.fromCharCode.apply(String,se);for(var ee="",te=0;te<ue;)ee+=String.fromCharCode.apply(String,se.slice(te,te+=y));return ee}(T)}q.kMaxLength=c,e.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},r.foo()===42}catch{return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol!="undefined"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(r,s,m){return a(r,s,m)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(r,s,m){return function(T,L,U){return n(T),T<=0?o(T):L!==void 0?typeof U=="string"?o(T).fill(L,U):o(T).fill(L):o(T)}(r,s,m)},e.allocUnsafe=function(r){return t(r)},e.allocUnsafeSlow=function(r){return t(r)},e.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==e.prototype},e.compare=function(r,s){if($(r,Uint8Array)&&(r=e.from(r,r.offset,r.byteLength)),$(s,Uint8Array)&&(s=e.from(s,s.offset,s.byteLength)),!e.isBuffer(r)||!e.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===s)return 0;for(var m=r.length,T=s.length,L=0,U=Math.min(m,T);L<U;++L)if(r[L]!==s[L]){m=r[L],T=s[L];break}return m<T?-1:T<m?1:0},e.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(r,s){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return e.alloc(0);var m;if(s===void 0)for(s=0,m=0;m<r.length;++m)s+=r[m].length;var T=e.allocUnsafe(s),L=0;for(m=0;m<r.length;++m){var U=r[m];if($(U,Uint8Array)&&(U=e.from(U)),!e.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(T,L),L+=U.length}return T},e.byteLength=l,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var s=0;s<r;s+=2)f(this,s,s+1);return this},e.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var s=0;s<r;s+=4)f(this,s,s+3),f(this,s+1,s+2);return this},e.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var s=0;s<r;s+=8)f(this,s,s+7),f(this,s+1,s+6),f(this,s+2,s+5),f(this,s+3,s+4);return this},e.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?b(this,0,r):function(s,m,T){var L=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0)<=(m>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return I(this,m,T);case"utf8":case"utf-8":return b(this,m,T);case"ascii":return S(this,m,T);case"latin1":case"binary":return _(this,m,T);case"base64":return Q(this,m,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,m,T);default:if(L)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),L=!0}}.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(r){if(!e.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||e.compare(this,r)===0},e.prototype.inspect=function(){var r="",s=q.INSPECT_MAX_BYTES;return r=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(r+=" ... "),"<Buffer "+r+">"},e.prototype.compare=function(r,s,m,T,L){if($(r,Uint8Array)&&(r=e.from(r,r.offset,r.byteLength)),!e.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(s===void 0&&(s=0),m===void 0&&(m=r?r.length:0),T===void 0&&(T=0),L===void 0&&(L=this.length),s<0||m>r.length||T<0||L>this.length)throw new RangeError("out of range index");if(T>=L&&s>=m)return 0;if(T>=L)return-1;if(s>=m)return 1;if(s>>>=0,m>>>=0,T>>>=0,L>>>=0,this===r)return 0;for(var U=L-T,W=m-s,Z=Math.min(U,W),Y=this.slice(T,L),J=r.slice(s,m),X=0;X<Z;++X)if(Y[X]!==J[X]){U=Y[X],W=J[X];break}return U<W?-1:W<U?1:0},e.prototype.includes=function(r,s,m){return this.indexOf(r,s,m)!==-1},e.prototype.indexOf=function(r,s,m){return g(this,r,s,m,!0)},e.prototype.lastIndexOf=function(r,s,m){return g(this,r,s,m,!1)},e.prototype.write=function(r,s,m,T){if(s===void 0)T="utf8",m=this.length,s=0;else if(m===void 0&&typeof s=="string")T=s,m=this.length,s=0;else{if(!isFinite(s))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");s>>>=0,isFinite(m)?(m>>>=0,T===void 0&&(T="utf8")):(T=m,m=void 0)}var L=this.length-s;if((m===void 0||m>L)&&(m=L),r.length>0&&(m<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");for(var U=!1;;)switch(T){case"hex":return v(this,r,s,m);case"utf8":case"utf-8":return x(this,r,s,m);case"ascii":return E(this,r,s,m);case"latin1":case"binary":return C(this,r,s,m);case"base64":return k(this,r,s,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,r,s,m);default:if(U)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),U=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var y=4096;function S(r,s,m){var T="";m=Math.min(r.length,m);for(var L=s;L<m;++L)T+=String.fromCharCode(127&r[L]);return T}function _(r,s,m){var T="";m=Math.min(r.length,m);for(var L=s;L<m;++L)T+=String.fromCharCode(r[L]);return T}function I(r,s,m){var T=r.length;(!s||s<0)&&(s=0),(!m||m<0||m>T)&&(m=T);for(var L="",U=s;U<m;++U)L+=j(r[U]);return L}function M(r,s,m){for(var T=r.slice(s,m),L="",U=0;U<T.length;U+=2)L+=String.fromCharCode(T[U]+256*T[U+1]);return L}function D(r,s,m){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+s>m)throw new RangeError("Trying to access beyond buffer length")}function N(r,s,m,T,L,U){if(!e.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>L||s<U)throw new RangeError('"value" argument is out of bounds');if(m+T>r.length)throw new RangeError("Index out of range")}function P(r,s,m,T,L,U){if(m+T>r.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function B(r,s,m,T,L){return s=+s,m>>>=0,L||P(r,0,m,4),d.write(r,s,m,T,23,4),m+4}function R(r,s,m,T,L){return s=+s,m>>>=0,L||P(r,0,m,8),d.write(r,s,m,T,52,8),m+8}e.prototype.slice=function(r,s){var m=this.length;r=~~r,s=s===void 0?m:~~s,r<0?(r+=m)<0&&(r=0):r>m&&(r=m),s<0?(s+=m)<0&&(s=0):s>m&&(s=m),s<r&&(s=r);var T=this.subarray(r,s);return T.__proto__=e.prototype,T},e.prototype.readUIntLE=function(r,s,m){r>>>=0,s>>>=0,m||D(r,s,this.length);for(var T=this[r],L=1,U=0;++U<s&&(L*=256);)T+=this[r+U]*L;return T},e.prototype.readUIntBE=function(r,s,m){r>>>=0,s>>>=0,m||D(r,s,this.length);for(var T=this[r+--s],L=1;s>0&&(L*=256);)T+=this[r+--s]*L;return T},e.prototype.readUInt8=function(r,s){return r>>>=0,s||D(r,1,this.length),this[r]},e.prototype.readUInt16LE=function(r,s){return r>>>=0,s||D(r,2,this.length),this[r]|this[r+1]<<8},e.prototype.readUInt16BE=function(r,s){return r>>>=0,s||D(r,2,this.length),this[r]<<8|this[r+1]},e.prototype.readUInt32LE=function(r,s){return r>>>=0,s||D(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},e.prototype.readUInt32BE=function(r,s){return r>>>=0,s||D(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},e.prototype.readIntLE=function(r,s,m){r>>>=0,s>>>=0,m||D(r,s,this.length);for(var T=this[r],L=1,U=0;++U<s&&(L*=256);)T+=this[r+U]*L;return T>=(L*=128)&&(T-=Math.pow(2,8*s)),T},e.prototype.readIntBE=function(r,s,m){r>>>=0,s>>>=0,m||D(r,s,this.length);for(var T=s,L=1,U=this[r+--T];T>0&&(L*=256);)U+=this[r+--T]*L;return U>=(L*=128)&&(U-=Math.pow(2,8*s)),U},e.prototype.readInt8=function(r,s){return r>>>=0,s||D(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},e.prototype.readInt16LE=function(r,s){r>>>=0,s||D(r,2,this.length);var m=this[r]|this[r+1]<<8;return 32768&m?4294901760|m:m},e.prototype.readInt16BE=function(r,s){r>>>=0,s||D(r,2,this.length);var m=this[r+1]|this[r]<<8;return 32768&m?4294901760|m:m},e.prototype.readInt32LE=function(r,s){return r>>>=0,s||D(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},e.prototype.readInt32BE=function(r,s){return r>>>=0,s||D(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},e.prototype.readFloatLE=function(r,s){return r>>>=0,s||D(r,4,this.length),d.read(this,r,!0,23,4)},e.prototype.readFloatBE=function(r,s){return r>>>=0,s||D(r,4,this.length),d.read(this,r,!1,23,4)},e.prototype.readDoubleLE=function(r,s){return r>>>=0,s||D(r,8,this.length),d.read(this,r,!0,52,8)},e.prototype.readDoubleBE=function(r,s){return r>>>=0,s||D(r,8,this.length),d.read(this,r,!1,52,8)},e.prototype.writeUIntLE=function(r,s,m,T){r=+r,s>>>=0,m>>>=0,T||N(this,r,s,m,Math.pow(2,8*m)-1,0);var L=1,U=0;for(this[s]=255&r;++U<m&&(L*=256);)this[s+U]=r/L&255;return s+m},e.prototype.writeUIntBE=function(r,s,m,T){r=+r,s>>>=0,m>>>=0,T||N(this,r,s,m,Math.pow(2,8*m)-1,0);var L=m-1,U=1;for(this[s+L]=255&r;--L>=0&&(U*=256);)this[s+L]=r/U&255;return s+m},e.prototype.writeUInt8=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,1,255,0),this[s]=255&r,s+1},e.prototype.writeUInt16LE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,2,65535,0),this[s]=255&r,this[s+1]=r>>>8,s+2},e.prototype.writeUInt16BE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,2,65535,0),this[s]=r>>>8,this[s+1]=255&r,s+2},e.prototype.writeUInt32LE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,4,4294967295,0),this[s+3]=r>>>24,this[s+2]=r>>>16,this[s+1]=r>>>8,this[s]=255&r,s+4},e.prototype.writeUInt32BE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,4,4294967295,0),this[s]=r>>>24,this[s+1]=r>>>16,this[s+2]=r>>>8,this[s+3]=255&r,s+4},e.prototype.writeIntLE=function(r,s,m,T){if(r=+r,s>>>=0,!T){var L=Math.pow(2,8*m-1);N(this,r,s,m,L-1,-L)}var U=0,W=1,Z=0;for(this[s]=255&r;++U<m&&(W*=256);)r<0&&Z===0&&this[s+U-1]!==0&&(Z=1),this[s+U]=(r/W>>0)-Z&255;return s+m},e.prototype.writeIntBE=function(r,s,m,T){if(r=+r,s>>>=0,!T){var L=Math.pow(2,8*m-1);N(this,r,s,m,L-1,-L)}var U=m-1,W=1,Z=0;for(this[s+U]=255&r;--U>=0&&(W*=256);)r<0&&Z===0&&this[s+U+1]!==0&&(Z=1),this[s+U]=(r/W>>0)-Z&255;return s+m},e.prototype.writeInt8=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,1,127,-128),r<0&&(r=255+r+1),this[s]=255&r,s+1},e.prototype.writeInt16LE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,2,32767,-32768),this[s]=255&r,this[s+1]=r>>>8,s+2},e.prototype.writeInt16BE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,2,32767,-32768),this[s]=r>>>8,this[s+1]=255&r,s+2},e.prototype.writeInt32LE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,4,2147483647,-2147483648),this[s]=255&r,this[s+1]=r>>>8,this[s+2]=r>>>16,this[s+3]=r>>>24,s+4},e.prototype.writeInt32BE=function(r,s,m){return r=+r,s>>>=0,m||N(this,r,s,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[s]=r>>>24,this[s+1]=r>>>16,this[s+2]=r>>>8,this[s+3]=255&r,s+4},e.prototype.writeFloatLE=function(r,s,m){return B(this,r,s,!0,m)},e.prototype.writeFloatBE=function(r,s,m){return B(this,r,s,!1,m)},e.prototype.writeDoubleLE=function(r,s,m){return R(this,r,s,!0,m)},e.prototype.writeDoubleBE=function(r,s,m){return R(this,r,s,!1,m)},e.prototype.copy=function(r,s,m,T){if(!e.isBuffer(r))throw new TypeError("argument should be a Buffer");if(m||(m=0),T||T===0||(T=this.length),s>=r.length&&(s=r.length),s||(s=0),T>0&&T<m&&(T=m),T===m||r.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),r.length-s<T-m&&(T=r.length-s+m);var L=T-m;if(this===r&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(s,m,T);else if(this===r&&m<s&&s<T)for(var U=L-1;U>=0;--U)r[U+s]=this[U+m];else Uint8Array.prototype.set.call(r,this.subarray(m,T),s);return L},e.prototype.fill=function(r,s,m,T){if(typeof r=="string"){if(typeof s=="string"?(T=s,s=0,m=this.length):typeof m=="string"&&(T=m,m=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!e.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(r.length===1){var L=r.charCodeAt(0);(T==="utf8"&&L<128||T==="latin1")&&(r=L)}}else typeof r=="number"&&(r&=255);if(s<0||this.length<s||this.length<m)throw new RangeError("Out of range index");if(m<=s)return this;var U;if(s>>>=0,m=m===void 0?this.length:m>>>0,r||(r=0),typeof r=="number")for(U=s;U<m;++U)this[U]=r;else{var W=e.isBuffer(r)?r:e.from(r,T),Z=W.length;if(Z===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(U=0;U<m-s;++U)this[U+s]=W[U%Z]}return this};var O=/[^+/0-9A-Za-z-_]/g;function j(r){return r<16?"0"+r.toString(16):r.toString(16)}function H(r,s){var m;s=s||1/0;for(var T=r.length,L=null,U=[],W=0;W<T;++W){if((m=r.charCodeAt(W))>55295&&m<57344){if(!L){if(m>56319){(s-=3)>-1&&U.push(239,191,189);continue}if(W+1===T){(s-=3)>-1&&U.push(239,191,189);continue}L=m;continue}if(m<56320){(s-=3)>-1&&U.push(239,191,189),L=m;continue}m=65536+(L-55296<<10|m-56320)}else L&&(s-=3)>-1&&U.push(239,191,189);if(L=null,m<128){if((s-=1)<0)break;U.push(m)}else if(m<2048){if((s-=2)<0)break;U.push(m>>6|192,63&m|128)}else if(m<65536){if((s-=3)<0)break;U.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;U.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return U}function F(r){return p.toByteArray(function(s){if((s=(s=s.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(r))}function K(r,s,m,T){for(var L=0;L<T&&!(L+m>=s.length||L>=r.length);++L)s[L+m]=r[L];return L}function $(r,s){return r instanceof s||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===s.name}function G(r){return r!=r}}).call(this)}).call(this,A("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(A,z,q){(function(w){(function(){q.formatArgs=function(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+z.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;d.splice(1,0,c,"color: inherit");let o=0,e=0;d[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&a==="%c"&&(e=++o)}),d.splice(e,0,c)},q.save=function(d){try{d?q.storage.setItem("debug",d):q.storage.removeItem("debug")}catch{}},q.load=function(){let d;try{d=q.storage.getItem("debug")}catch{}return!d&&w!==void 0&&"env"in w&&(d=w.env.DEBUG),d},q.useColors=function(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},q.storage=function(){try{return localStorage}catch{}}(),q.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),q.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],q.log=console.debug||console.log||(()=>{}),z.exports=A("./common")(q);const{formatters:p}=z.exports;p.j=function(d){try{return JSON.stringify(d)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,A("_process"))},{"./common":19,_process:50}],19:[function(A,z,q){z.exports=function(w){function p(o){let e,a,n,t=null;function i(...u){if(!i.enabled)return;const l=i,f=Number(new Date),g=f-(e||f);l.diff=g,l.prev=e,l.curr=f,e=f,u[0]=p.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");let h=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(v,x)=>{if(v==="%%")return"%";h++;const E=p.formatters[x];if(typeof E=="function"){const C=u[h];v=E.call(l,C),u.splice(h,1),h--}return v}),p.formatArgs.call(l,u),(l.log||p.log).apply(l,u)}return i.namespace=o,i.useColors=p.useColors(),i.color=p.selectColor(o),i.extend=d,i.destroy=p.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>t!==null?t:(a!==p.namespaces&&(a=p.namespaces,n=p.enabled(o)),n),set:u=>{t=u}}),typeof p.init=="function"&&p.init(i),i}function d(o,e){const a=p(this.namespace+(e===void 0?":":e)+o);return a.log=this.log,a}function c(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}return p.debug=p,p.default=p,p.coerce=function(o){return o instanceof Error?o.stack||o.message:o},p.disable=function(){const o=[...p.names.map(c),...p.skips.map(c).map(e=>"-"+e)].join(",");return p.enable(""),o},p.enable=function(o){let e;p.save(o),p.namespaces=o,p.names=[],p.skips=[];const a=(typeof o=="string"?o:"").split(/[\s,]+/),n=a.length;for(e=0;e<n;e++)a[e]&&((o=a[e].replace(/\*/g,".*?"))[0]==="-"?p.skips.push(new RegExp("^"+o.substr(1)+"$")):p.names.push(new RegExp("^"+o+"$")))},p.enabled=function(o){if(o[o.length-1]==="*")return!0;let e,a;for(e=0,a=p.skips.length;e<a;e++)if(p.skips[e].test(o))return!1;for(e=0,a=p.names.length;e<a;e++)if(p.names[e].test(o))return!0;return!1},p.humanize=A("ms"),p.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(w).forEach(o=>{p[o]=w[o]}),p.names=[],p.skips=[],p.formatters={},p.selectColor=function(o){let e=0;for(let a=0;a<o.length;a++)e=(e<<5)-e+o.charCodeAt(a),e|=0;return p.colors[Math.abs(e)%p.colors.length]},p.enable(p.load()),p}},{ms:45}],20:[function(A,z,q){(function(w,p){(function(){var d=A("readable-stream"),c=A("end-of-stream"),o=A("inherits"),e=A("stream-shift"),a=p.from&&p.from!==Uint8Array.from?p.from([0]):new p([0]),n=function(l,f){l._corked?l.once("uncork",f):f()},t=function(l,f){return function(g){g?function(h,v){h._autoDestroy&&h.destroy(v)}(l,g.message==="premature close"?null:g):f&&!l._ended&&l.end()}},i=function(){},u=function(l,f,g){if(!(this instanceof u))return new u(l,f,g);d.Duplex.call(this,g),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!g||g.autoDestroy!==!1,this._forwardDestroy=!g||g.destroy!==!1,this._forwardEnd=!g||g.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,l&&this.setWritable(l),f&&this.setReadable(f)};o(u,d.Duplex),u.obj=function(l,f,g){return g||(g={}),g.objectMode=!0,g.highWaterMark=16,new u(l,f,g)},u.prototype.cork=function(){++this._corked==1&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&--this._corked==0&&this.emit("uncork")},u.prototype.setWritable=function(l){if(this._unwrite&&this._unwrite(),this.destroyed)l&&l.destroy&&l.destroy();else if(l!==null&&l!==!1){var f=this,g=c(l,{writable:!0,readable:!1},t(this,this._forwardEnd)),h=function(){var v=f._ondrain;f._ondrain=null,v&&v()};this._unwrite&&w.nextTick(h),this._writable=l,this._writable.on("drain",h),this._unwrite=function(){f._writable.removeListener("drain",h),g()},this.uncork()}else this.end()},u.prototype.setReadable=function(l){if(this._unread&&this._unread(),this.destroyed)l&&l.destroy&&l.destroy();else{if(l===null||l===!1)return this.push(null),void this.resume();var f,g=this,h=c(l,{writable:!1,readable:!0},t(this)),v=function(){g._forward()},x=function(){g.push(null)};this._drained=!0,this._readable=l,this._readable2=l._readableState?l:(f=l,new d.Readable({objectMode:!0,highWaterMark:16}).wrap(f)),this._readable2.on("readable",v),this._readable2.on("end",x),this._unread=function(){g._readable2.removeListener("readable",v),g._readable2.removeListener("end",x),h()},this._forward()}},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var l;for(this._forwarding=!0;this._drained&&(l=e(this._readable2))!==null;)this.destroyed||(this._drained=this.push(l));this._forwarding=!1}},u.prototype.destroy=function(l,f){if(f||(f=i),this.destroyed)return f(null);this.destroyed=!0;var g=this;w.nextTick(function(){g._destroy(l),f(null)})},u.prototype._destroy=function(l){if(l){var f=this._ondrain;this._ondrain=null,f?f(l):this.emit("error",l)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(l,f,g){if(!this.destroyed)return this._corked?n(this,this._write.bind(this,l,f,g)):l===a?this._finish(g):this._writable?void(this._writable.write(l)===!1?this._ondrain=g:this.destroyed||g()):g()},u.prototype._finish=function(l){var f=this;this.emit("preend"),n(this,function(){var g,h;g=f._forwardEnd&&f._writable,h=function(){f._writableState.prefinished===!1&&(f._writableState.prefinished=!0),f.emit("prefinish"),n(f,l)},g?g._writableState&&g._writableState.finished?h():g._writableState?g.end(h):(g.end(),h()):h()})},u.prototype.end=function(l,f,g){return typeof l=="function"?this.end(null,null,l):typeof f=="function"?this.end(l,null,f):(this._ended=!0,l&&this.write(l),this._writableState.ending||this._writableState.destroyed||this.write(a),d.Writable.prototype.end.call(this,g))},z.exports=u}).call(this)}).call(this,A("_process"),A("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(A,z,q){(function(w){(function(){var p=A("once"),d=function(){},c=function(o,e,a){if(typeof e=="function")return c(o,null,e);e||(e={}),a=p(a||d);var n=o._writableState,t=o._readableState,i=e.readable||e.readable!==!1&&o.readable,u=e.writable||e.writable!==!1&&o.writable,l=!1,f=function(){o.writable||g()},g=function(){u=!1,i||a.call(o)},h=function(){i=!1,u||a.call(o)},v=function(V){a.call(o,V?new Error("exited with error code: "+V):null)},x=function(V){a.call(o,V)},E=function(){w.nextTick(C)},C=function(){if(!l)return(!i||t&&t.ended&&!t.destroyed)&&(!u||n&&n.ended&&!n.destroyed)?void 0:a.call(o,new Error("premature close"))},k=function(){o.req.on("finish",g)};return function(V){return V.setHeader&&typeof V.abort=="function"}(o)?(o.on("complete",g),o.on("abort",E),o.req?k():o.on("request",k)):u&&!n&&(o.on("end",f),o.on("close",f)),function(V){return V.stdio&&Array.isArray(V.stdio)&&V.stdio.length===3}(o)&&o.on("exit",v),o.on("end",h),o.on("finish",g),e.error!==!1&&o.on("error",x),o.on("close",E),function(){l=!0,o.removeListener("complete",g),o.removeListener("abort",E),o.removeListener("request",k),o.req&&o.req.removeListener("finish",g),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",g),o.removeListener("exit",v),o.removeListener("end",h),o.removeListener("error",x),o.removeListener("close",E)}};z.exports=c}).call(this)}).call(this,A("_process"))},{_process:50,once:48}],22:[function(A,z,q){var w=Object.create||function(h){var v=function(){};return v.prototype=h,new v},p=Object.keys||function(h){var v=[];for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&v.push(x);return x},d=Function.prototype.bind||function(h){var v=this;return function(){return v.apply(h,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=w(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}z.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o,e=10;try{var a={};Object.defineProperty&&Object.defineProperty(a,"x",{value:0}),o=a.x===0}catch{o=!1}function n(h){return h._maxListeners===void 0?c.defaultMaxListeners:h._maxListeners}function t(h,v,x,E){var C,k,V;if(typeof x!="function")throw new TypeError('"listener" argument must be a function');if((k=h._events)?(k.newListener&&(h.emit("newListener",v,x.listener?x.listener:x),k=h._events),V=k[v]):(k=h._events=w(null),h._eventsCount=0),V){if(typeof V=="function"?V=k[v]=E?[x,V]:[V,x]:E?V.unshift(x):V.push(x),!V.warned&&(C=n(h))&&C>0&&V.length>C){V.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+V.length+' "'+String(v)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');Q.name="MaxListenersExceededWarning",Q.emitter=h,Q.type=v,Q.count=V.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",Q.name,Q.message)}}else V=k[v]=x,++h._eventsCount;return h}function i(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var h=new Array(arguments.length),v=0;v<h.length;++v)h[v]=arguments[v];this.listener.apply(this.target,h)}}function u(h,v,x){var E={fired:!1,wrapFn:void 0,target:h,type:v,listener:x},C=d.call(i,E);return C.listener=x,E.wrapFn=C,C}function l(h,v,x){var E=h._events;if(!E)return[];var C=E[v];return C?typeof C=="function"?x?[C.listener||C]:[C]:x?function(k){for(var V=new Array(k.length),Q=0;Q<V.length;++Q)V[Q]=k[Q].listener||k[Q];return V}(C):g(C,C.length):[]}function f(h){var v=this._events;if(v){var x=v[h];if(typeof x=="function")return 1;if(x)return x.length}return 0}function g(h,v){for(var x=new Array(v),E=0;E<v;++E)x[E]=h[E];return x}o?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return e},set:function(h){if(typeof h!="number"||h<0||h!=h)throw new TypeError('"defaultMaxListeners" must be a positive number');e=h}}):c.defaultMaxListeners=e,c.prototype.setMaxListeners=function(h){if(typeof h!="number"||h<0||isNaN(h))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=h,this},c.prototype.getMaxListeners=function(){return n(this)},c.prototype.emit=function(h){var v,x,E,C,k,V,Q=h==="error";if(V=this._events)Q=Q&&V.error==null;else if(!Q)return!1;if(Q){if(arguments.length>1&&(v=arguments[1]),v instanceof Error)throw v;var b=new Error('Unhandled "error" event. ('+v+")");throw b.context=v,b}if(!(x=V[h]))return!1;var y=typeof x=="function";switch(E=arguments.length){case 1:(function(S,_,I){if(_)S.call(I);else for(var M=S.length,D=g(S,M),N=0;N<M;++N)D[N].call(I)})(x,y,this);break;case 2:(function(S,_,I,M){if(_)S.call(I,M);else for(var D=S.length,N=g(S,D),P=0;P<D;++P)N[P].call(I,M)})(x,y,this,arguments[1]);break;case 3:(function(S,_,I,M,D){if(_)S.call(I,M,D);else for(var N=S.length,P=g(S,N),B=0;B<N;++B)P[B].call(I,M,D)})(x,y,this,arguments[1],arguments[2]);break;case 4:(function(S,_,I,M,D,N){if(_)S.call(I,M,D,N);else for(var P=S.length,B=g(S,P),R=0;R<P;++R)B[R].call(I,M,D,N)})(x,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(C=new Array(E-1),k=1;k<E;k++)C[k-1]=arguments[k];(function(S,_,I,M){if(_)S.apply(I,M);else for(var D=S.length,N=g(S,D),P=0;P<D;++P)N[P].apply(I,M)})(x,y,this,C)}return!0},c.prototype.addListener=function(h,v){return t(this,h,v,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(h,v){return t(this,h,v,!0)},c.prototype.once=function(h,v){if(typeof v!="function")throw new TypeError('"listener" argument must be a function');return this.on(h,u(this,h,v)),this},c.prototype.prependOnceListener=function(h,v){if(typeof v!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(h,u(this,h,v)),this},c.prototype.removeListener=function(h,v){var x,E,C,k,V;if(typeof v!="function")throw new TypeError('"listener" argument must be a function');if(!(E=this._events))return this;if(!(x=E[h]))return this;if(x===v||x.listener===v)--this._eventsCount==0?this._events=w(null):(delete E[h],E.removeListener&&this.emit("removeListener",h,x.listener||v));else if(typeof x!="function"){for(C=-1,k=x.length-1;k>=0;k--)if(x[k]===v||x[k].listener===v){V=x[k].listener,C=k;break}if(C<0)return this;C===0?x.shift():function(Q,b){for(var y=b,S=y+1,_=Q.length;S<_;y+=1,S+=1)Q[y]=Q[S];Q.pop()}(x,C),x.length===1&&(E[h]=x[0]),E.removeListener&&this.emit("removeListener",h,V||v)}return this},c.prototype.removeAllListeners=function(h){var v,x,E;if(!(x=this._events))return this;if(!x.removeListener)return arguments.length===0?(this._events=w(null),this._eventsCount=0):x[h]&&(--this._eventsCount==0?this._events=w(null):delete x[h]),this;if(arguments.length===0){var C,k=p(x);for(E=0;E<k.length;++E)(C=k[E])!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=w(null),this._eventsCount=0,this}if(typeof(v=x[h])=="function")this.removeListener(h,v);else if(v)for(E=v.length-1;E>=0;E--)this.removeListener(h,v[E]);return this},c.prototype.listeners=function(h){return l(this,h,!0)},c.prototype.rawListeners=function(h){return l(this,h,!1)},c.listenerCount=function(h,v){return typeof h.listenerCount=="function"?h.listenerCount(v):f.call(h,v)},c.prototype.listenerCount=f,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(A,z,q){q.read=function(w,p,d,c,o){var e,a,n=8*o-c-1,t=(1<<n)-1,i=t>>1,u=-7,l=d?o-1:0,f=d?-1:1,g=w[p+l];for(l+=f,e=g&(1<<-u)-1,g>>=-u,u+=n;u>0;e=256*e+w[p+l],l+=f,u-=8);for(a=e&(1<<-u)-1,e>>=-u,u+=c;u>0;a=256*a+w[p+l],l+=f,u-=8);if(e===0)e=1-i;else{if(e===t)return a?NaN:1/0*(g?-1:1);a+=Math.pow(2,c),e-=i}return(g?-1:1)*a*Math.pow(2,e-c)},q.write=function(w,p,d,c,o,e){var a,n,t,i=8*e-o-1,u=(1<<i)-1,l=u>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=c?0:e-1,h=c?1:-1,v=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(n=isNaN(p)?1:0,a=u):(a=Math.floor(Math.log(p)/Math.LN2),p*(t=Math.pow(2,-a))<1&&(a--,t*=2),(p+=a+l>=1?f/t:f*Math.pow(2,1-l))*t>=2&&(a++,t/=2),a+l>=u?(n=0,a=u):a+l>=1?(n=(p*t-1)*Math.pow(2,o),a+=l):(n=p*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;w[d+g]=255&n,g+=h,n/=256,o-=8);for(a=a<<o|n,i+=o;i>0;w[d+g]=255&a,g+=h,a/=256,i-=8);w[d+g-h]|=128*v}},{}],24:[function(A,z,q){typeof Object.create=="function"?z.exports=function(w,p){p&&(w.super_=p,w.prototype=Object.create(p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:z.exports=function(w,p){if(p){w.super_=p;var d=function(){};d.prototype=p.prototype,w.prototype=new d,w.prototype.constructor=w}}},{}],25:[function(A,z,q){Object.defineProperty(q,"__esModule",{value:!0});var w=function(){function p(d,c){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=d,this.value=c}return p.prototype.rotateLeft=function(){var d=this.parent,c=this.brother,o=this.leftChild,e=this.rightChild;if(!e)throw new Error("unknown error");var a=e.leftChild,n=e.rightChild;return d&&(d.leftChild===this?d.leftChild=e:d.rightChild===this&&(d.rightChild=e)),e.parent=d,e.brother=c,e.leftChild=this,e.rightChild=n,c&&(c.brother=e),this.parent=e,this.brother=n,this.leftChild=o,this.rightChild=a,n&&(n.parent=e,n.brother=this),o&&(o.parent=this,o.brother=a),a&&(a.parent=this,a.brother=o),e},p.prototype.rotateRight=function(){var d=this.parent,c=this.brother,o=this.leftChild;if(!o)throw new Error("unknown error");var e=this.rightChild,a=o.leftChild,n=o.rightChild;return d&&(d.leftChild===this?d.leftChild=o:d.rightChild===this&&(d.rightChild=o)),o.parent=d,o.brother=c,o.leftChild=a,o.rightChild=this,c&&(c.brother=o),a&&(a.parent=o,a.brother=this),this.parent=o,this.brother=a,this.leftChild=n,this.rightChild=e,n&&(n.parent=this,n.brother=e),e&&(e.parent=this,e.brother=n),o},p.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},p.TreeNodeColorType={red:!0,black:!1},p}();Object.freeze(w),q.default=w},{}],26:[function(A,z,q){var w=this&&this.__generator||function(d,c){var o,e,a,n,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function i(u){return function(l){return function(f){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,e&&(a=2&f[0]?e.return:f[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,f[1])).done)return a;switch(e=0,a&&(f=[2&f[0],a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,e=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=c.call(d,t)}catch(g){f=[6,g],e=0}finally{o=a=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([u,l])}}};function p(d){var c=this;d===void 0&&(d=[]);var o=[],e=0,a=0,n=0,t=0,i=0,u=0;this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){e=n=a=t=i=u=0,f.call(this,p.bucketSize),u=0},this.front=function(){return o[e][a]},this.back=function(){return o[n][t]},this.forEach=function(g){if(!this.empty()){var h=0;if(e!==n){for(x=a;x<p.bucketSize;++x)g(o[e][x],h++);for(x=e+1;x<n;++x)for(var v=0;v<p.bucketSize;++v)g(o[x][v],h++);for(x=0;x<=t;++x)g(o[n][x],h++)}else for(var x=a;x<=t;++x)g(o[e][x],h++)}};var l=function(g){var h=e*p.bucketSize+a,v=h+g,x=n*p.bucketSize+t;if(v<h||v>x)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(v/p.bucketSize),curNodePointerIndex:v%p.bucketSize}};this.getElementByPos=function(g){var h=l(g),v=h.curNodeBucketIndex,x=h.curNodePointerIndex;return o[v][x]},this.eraseElementByPos=function(g){var h=this;if(g<0||g>u)throw new Error("pos should more than 0 and less than queue's size");if(g===0)this.popFront();else if(g===this.size())this.popBack();else{for(var v=[],x=g+1;x<u;++x)v.push(this.getElementByPos(x));this.cut(g),this.popBack(),v.forEach(function(E){return h.pushBack(E)})}},this.eraseElementByValue=function(g){if(!this.empty()){var h=[];this.forEach(function(E){E!==g&&h.push(E)});for(var v=h.length,x=0;x<v;++x)this.setElementByPos(x,h[x]);this.cut(v-1)}};var f=function(g){for(var h=[],v=g*p.sigma,x=Math.max(Math.ceil(v/p.bucketSize),2),E=0;E<x;++E)h.push(new Array(p.bucketSize));var C=Math.ceil(g/p.bucketSize),k=Math.floor(x/2)-Math.floor(C/2),V=k,Q=0;if(this.size())for(E=0;E<C;++E){for(var b=0;b<p.bucketSize;++b)if(h[k+E][b]=this.front(),this.popFront(),this.empty()){V=k+E,Q=b;break}if(this.empty())break}o=h,e=k,a=0,n=V,t=Q,i=x,u=g};this.pushBack=function(g){this.empty()||(n===i-1&&t===p.bucketSize-1&&f.call(this,this.size()),t<p.bucketSize-1?++t:n<i-1&&(++n,t=0)),++u,o[n][t]=g},this.popBack=function(){this.empty()||(this.size()!==1&&(t>0?--t:e<n&&(--n,t=p.bucketSize-1)),u>0&&--u)},this.setElementByPos=function(g,h){var v=l(g),x=v.curNodeBucketIndex,E=v.curNodePointerIndex;o[x][E]=h},this.insert=function(g,h,v){var x=this;if(v===void 0&&(v=1),g===0)for(;v--;)this.pushFront(h);else if(g===this.size())for(;v--;)this.pushBack(h);else{for(var E=[],C=g;C<u;++C)E.push(this.getElementByPos(C));for(this.cut(g-1),C=0;C<v;++C)this.pushBack(h);E.forEach(function(k){return x.pushBack(k)})}},this.find=function(g){if(e===n){for(var h=a;h<=t;++h)if(o[e][h]===g)return!0;return!1}for(h=a;h<p.bucketSize;++h)if(o[e][h]===g)return!0;for(h=e+1;h<n;++h)for(var v=0;v<p.bucketSize;++v)if(o[h][v]===g)return!0;for(h=0;h<=t;++h)if(o[n][h]===g)return!0;return!1},this.reverse=function(){for(var g=0,h=u-1;g<h;){var v=this.getElementByPos(g);this.setElementByPos(g,this.getElementByPos(h)),this.setElementByPos(h,v),++g,--h}},this.unique=function(){if(!this.empty()){var g=[],h=this.front();this.forEach(function(x,E){E!==0&&x===h||(g.push(x),h=x)});for(var v=0;v<u;++v)this.setElementByPos(v,g[v]);this.cut(g.length-1)}},this.sort=function(g){var h=[];this.forEach(function(x){h.push(x)}),h.sort(g);for(var v=0;v<u;++v)this.setElementByPos(v,h[v])},this.pushFront=function(g){this.empty()||(e===0&&a===0&&f.call(this,this.size()),a>0?--a:e>0&&(--e,a=p.bucketSize-1)),++u,o[e][a]=g},this.popFront=function(){this.empty()||(this.size()!==1&&(a<p.bucketSize-1?++a:e<n&&(++e,a=0)),u>0&&--u)},this.shrinkToFit=function(){var g=this,h=[];this.forEach(function(C){h.push(C)});var v=h.length;o=[];for(var x=Math.ceil(v/p.bucketSize),E=0;E<x;++E)o.push(new Array(p.bucketSize));this.clear(),h.forEach(function(C){return g.pushBack(C)})},this.cut=function(g){if(g<0)this.clear();else{var h=l(g),v=h.curNodeBucketIndex,x=h.curNodePointerIndex;n=v,t=x,u=g+1}},this[Symbol.iterator]=function(){return function(){var g,h;return w(this,function(v){switch(v.label){case 0:if(u===0)return[2];if(e!==n)return[3,5];h=a,v.label=1;case 1:return h<=t?[4,o[e][h]]:[3,4];case 2:v.sent(),v.label=3;case 3:return++h,[3,1];case 4:return[2];case 5:h=a,v.label=6;case 6:return h<p.bucketSize?[4,o[e][h]]:[3,9];case 7:v.sent(),v.label=8;case 8:return++h,[3,6];case 9:h=e+1,v.label=10;case 10:if(!(h<n))return[3,15];g=0,v.label=11;case 11:return g<p.bucketSize?[4,o[h][g]]:[3,14];case 12:v.sent(),v.label=13;case 13:return++g,[3,11];case 14:return++h,[3,10];case 15:h=0,v.label=16;case 16:return h<=t?[4,o[n][h]]:[3,19];case 17:v.sent(),v.label=18;case 18:return++h,[3,16];case 19:return[2]}})}()},function(){var g=p.bucketSize;d.size?g=d.size():d.length&&(g=d.length);var h=g*p.sigma;i=Math.ceil(h/p.bucketSize),i=Math.max(i,3);for(var v=0;v<i;++v)o.push(new Array(p.bucketSize));var x=Math.ceil(g/p.bucketSize);e=Math.floor(i/2)-Math.floor(x/2),n=e,d.forEach(function(E){return c.pushBack(E)})}(),Object.freeze(this)}Object.defineProperty(q,"__esModule",{value:!0}),p.sigma=3,p.bucketSize=5e3,Object.freeze(p),q.default=p},{}],27:[function(A,z,q){var w=this&&this.__generator||function(e,a){var n,t,i,u,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(g){return function(h){return function(v){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(i=2&v[0]?t.return:v[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,v[1])).done)return i;switch(t=0,i&&(v=[2&v[0],i.value]),v[0]){case 0:case 1:i=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,t=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){l.label=v[1];break}if(v[0]===6&&l.label<i[1]){l.label=i[1],i=v;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(v);break}i[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(e,l)}catch(x){v=[6,x],t=0}finally{n=i=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([g,h])}}},p=this&&this.__values||function(e){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&e[a],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(q,"__esModule",{value:!0});var d=A("../LinkList/LinkList"),c=A("../Map/Map");function o(e,a,n){var t=this;if(e===void 0&&(e=[]),a===void 0&&(a=o.initSize),n=n||function(f){var g,h,v=0,x="";if(typeof f=="number")v=((v=Math.floor(f))<<5)-v,v&=v;else{x=typeof f!="string"?JSON.stringify(f):f;try{for(var E=p(x),C=E.next();!C.done;C=E.next())v=(v<<5)-v+C.value.charCodeAt(0),v&=v}catch(k){g={error:k}}finally{try{C&&!C.done&&(h=E.return)&&h.call(E)}finally{if(g)throw g.error}}}return v^=v>>>16},(a&a-1)!=0)throw new Error("initBucketNum must be 2 to the power of n");var i=0,u=[],l=Math.max(o.initSize,Math.min(o.maxSize,a));this.size=function(){return i},this.empty=function(){return i===0},this.clear=function(){i=0,l=a,u=[]},this.forEach=function(f){var g=0;u.forEach(function(h){h.forEach(function(v){f(v,g++)})})},this.setElement=function(f,g){var h,v;if(f==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(g!=null){var x=n(f)&l-1;if(u[x]){var E=u[x].size();if(u[x]instanceof d.default){try{for(var C=p(u[x]),k=C.next();!k.done;k=C.next()){var V=k.value;if(V.key===f)return void(V.value=g)}}catch(b){h={error:b}}finally{try{k&&!k.done&&(v=C.return)&&v.call(C)}finally{if(h)throw h.error}}u[x].pushBack({key:f,value:g}),u[x].size()>=o.treeifyThreshold&&(u[x]=new c.default(u[x]))}else u[x].setElement(f,g);var Q=u[x].size();i+=Q-E}else++i,u[x]=new d.default([{key:f,value:g}]);i>l*o.sigma&&function(b){if(!(b>=o.maxSize)){l=2*b;var y=[];u.forEach(function(S,_){if(!S.empty()){if(S instanceof d.default&&S.size()===1){var I=S.front(),M=I.key,D=I.value;y[n(M)&l-1]=new d.default([{key:M,value:D}])}else if(S instanceof c.default){var N=new d.default,P=new d.default;S.forEach(function(O){(n(O.key)&b)==0?N.pushBack(O):P.pushBack(O)}),N.size()>o.untreeifyThreshold?y[_]=new c.default(N):N.size()&&(y[_]=N),P.size()>o.untreeifyThreshold?y[_+b]=new c.default(P):P.size()&&(y[_+b]=P)}else{var B=new d.default,R=new d.default;S.forEach(function(O){(n(O.key)&b)==0?B.pushBack(O):R.pushBack(O)}),B.size()&&(y[_]=B),R.size()&&(y[_+b]=R)}u[_].clear()}}),u=y}}.call(this,l)}else this.eraseElementByKey(f)},this.getElementByKey=function(f){var g,h,v=n(f)&l-1;if(u[v]){if(u[v]instanceof c.default)return u[v].getElementByKey(f);try{for(var x=p(u[v]),E=x.next();!E.done;E=x.next()){var C=E.value;if(C.key===f)return C.value}}catch(k){g={error:k}}finally{try{E&&!E.done&&(h=x.return)&&h.call(x)}finally{if(g)throw g.error}}}},this.eraseElementByKey=function(f){var g,h,v=n(f)&l-1;if(u[v]){var x=u[v].size();if(u[v]instanceof c.default)u[v].eraseElementByKey(f),u[v].size()<=o.untreeifyThreshold&&(u[v]=new d.default(u[v]));else{var E=-1;try{for(var C=p(u[v]),k=C.next();!k.done;k=C.next())if(++E,k.value.key===f){u[v].eraseElementByPos(E);break}}catch(Q){g={error:Q}}finally{try{k&&!k.done&&(h=C.return)&&h.call(C)}finally{if(g)throw g.error}}}var V=u[v].size();i+=V-x}},this.find=function(f){var g,h,v=n(f)&l-1;if(!u[v])return!1;if(u[v]instanceof c.default)return u[v].find(f);try{for(var x=p(u[v]),E=x.next();!E.done;E=x.next())if(E.value.key===f)return!0}catch(C){g={error:C}}finally{try{E&&!E.done&&(h=x.return)&&h.call(x)}finally{if(g)throw g.error}}return!1},this[Symbol.iterator]=function(){return function(){var f,g,h,v,x,E;return w(this,function(C){switch(C.label){case 0:f=0,C.label=1;case 1:if(!(f<l))return[3,10];for(;f<l&&!u[f];)++f;if(f>=l)return[3,10];C.label=2;case 2:C.trys.push([2,7,8,9]),x=void 0,g=p(u[f]),h=g.next(),C.label=3;case 3:return h.done?[3,6]:[4,h.value];case 4:C.sent(),C.label=5;case 5:return h=g.next(),[3,3];case 6:return[3,9];case 7:return v=C.sent(),x={error:v},[3,9];case 8:try{h&&!h.done&&(E=g.return)&&E.call(g)}finally{if(x)throw x.error}return[7];case 9:return++f,[3,1];case 10:return[2]}})}()},e.forEach(function(f){var g=f.key,h=f.value;return t.setElement(g,h)}),Object.freeze(this)}o.initSize=16,o.maxSize=1<<30,o.sigma=.75,o.treeifyThreshold=8,o.untreeifyThreshold=6,o.minTreeifySize=64,Object.freeze(o),q.default=o},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(A,z,q){var w=this&&this.__generator||function(e,a){var n,t,i,u,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(g){return function(h){return function(v){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(i=2&v[0]?t.return:v[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,v[1])).done)return i;switch(t=0,i&&(v=[2&v[0],i.value]),v[0]){case 0:case 1:i=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,t=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){l.label=v[1];break}if(v[0]===6&&l.label<i[1]){l.label=i[1],i=v;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(v);break}i[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(e,l)}catch(x){v=[6,x],t=0}finally{n=i=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([g,h])}}},p=this&&this.__values||function(e){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&e[a],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(q,"__esModule",{value:!0});var d=A("../Set/Set"),c=A("../LinkList/LinkList");function o(e,a,n){var t=this;if(e===void 0&&(e=[]),a===void 0&&(a=o.initSize),n=n||function(f){var g=0,h="";if(typeof f=="number")g=((g=Math.floor(f))<<5)-g,g&=g;else{h=typeof f!="string"?JSON.stringify(f):f;for(var v=0;v<h.length;v++)g=(g<<5)-g+h.charCodeAt(v),g&=g}return g^=g>>>16},(a&a-1)!=0)throw new Error("initBucketNum must be 2 to the power of n");var i=0,u=[],l=Math.max(o.initSize,Math.min(o.maxSize,a));this.size=function(){return i},this.empty=function(){return i===0},this.clear=function(){i=0,l=a,u=[]},this.forEach=function(f){var g=0;u.forEach(function(h){h.forEach(function(v){f(v,g++)})})},this.insert=function(f){if(f==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var g=n(f)&l-1;if(u[g]){var h=u[g].size();if(u[g]instanceof c.default){if(u[g].find(f))return;u[g].pushBack(f),u[g].size()>=o.treeifyThreshold&&(u[g]=new d.default(u[g]))}else u[g].insert(f);var v=u[g].size();i+=v-h}else u[g]=new c.default([f]),++i;i>l*o.sigma&&function(x){if(!(x>=o.maxSize)){l=2*x;var E=[];u.forEach(function(C,k){if(!C.empty()){if(C instanceof c.default&&C.size()===1){var V=C.front();if(V===void 0)throw new Error("unknown error");E[n(V)&l-1]=new c.default([V])}else if(C instanceof d.default){var Q=new c.default,b=new c.default;C.forEach(function(_){(n(_)&x)==0?Q.pushBack(_):b.pushBack(_)}),Q.size()>o.untreeifyThreshold?E[k]=new d.default(Q):Q.size()&&(E[k]=Q),b.size()>o.untreeifyThreshold?E[k+x]=new d.default(b):b.size()&&(E[k+x]=b)}else{var y=new c.default,S=new c.default;C.forEach(function(_){(n(_)&x)==0?y.pushBack(_):S.pushBack(_)}),y.size()&&(E[k]=y),S.size()&&(E[k+x]=S)}u[k].clear()}}),u=E}}.call(this,l)},this.eraseElementByValue=function(f){var g=n(f)&l-1;if(u[g]){var h=u[g].size();u[g].eraseElementByValue(f),u[g]instanceof d.default&&u[g].size()<=o.untreeifyThreshold&&(u[g]=new c.default(u[g]));var v=u[g].size();i+=v-h}},this.find=function(f){var g=n(f)&l-1;return!!u[g]&&u[g].find(f)},this[Symbol.iterator]=function(){return function(){var f,g,h,v,x,E;return w(this,function(C){switch(C.label){case 0:f=0,C.label=1;case 1:if(!(f<l))return[3,10];for(;f<l&&!u[f];)++f;if(f>=l)return[3,10];C.label=2;case 2:C.trys.push([2,7,8,9]),x=void 0,g=p(u[f]),h=g.next(),C.label=3;case 3:return h.done?[3,6]:[4,h.value];case 4:C.sent(),C.label=5;case 5:return h=g.next(),[3,3];case 6:return[3,9];case 7:return v=C.sent(),x={error:v},[3,9];case 8:try{h&&!h.done&&(E=g.return)&&E.call(g)}finally{if(x)throw x.error}return[7];case 9:return++f,[3,1];case 10:return[2]}})}()},e.forEach(function(f){return t.insert(f)}),Object.freeze(this)}o.initSize=16,o.maxSize=1<<30,o.sigma=.75,o.treeifyThreshold=8,o.untreeifyThreshold=6,o.minTreeifySize=64,Object.freeze(o),q.default=o},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(A,z,q){var w=this&&this.__generator||function(c,o){var e,a,n,t,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return t={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function u(l){return function(f){return function(g){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,a&&(n=2&g[0]?a.return:g[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,g[1])).done)return n;switch(a=0,n&&(g=[2&g[0],n.value]),g[0]){case 0:case 1:n=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,a=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!n||g[1]>n[0]&&g[1]<n[3])){i.label=g[1];break}if(g[0]===6&&i.label<n[1]){i.label=n[1],n=g;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(g);break}n[2]&&i.ops.pop(),i.trys.pop();continue}g=o.call(c,i)}catch(h){g=[6,h],a=0}finally{e=n=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([l,f])}}};Object.defineProperty(q,"__esModule",{value:!0});var p=function(){return function(c){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=c}}();function d(c){var o=this;c===void 0&&(c=[]);var e=0,a=void 0,n=void 0;this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){a=n=void 0,e=0},this.front=function(){return a==null?void 0:a.value},this.back=function(){return n==null?void 0:n.value},this.forEach=function(t){for(var i=a,u=0;i;){if(i.value===void 0)throw new Error("unknown error");t(i.value,u++),i=i.next}},this.getElementByPos=function(t){if(t<0||t>=e)throw new Error("pos must more then 0 and less then the list length");for(var i=a;t--&&i;)i=i.next;if(!i||i.value===void 0)throw new Error("unknown error");return i.value},this.eraseElementByPos=function(t){if(t<0||t>=e)throw new Error("erase pos must more then 0 and less then the list length");if(t===0)this.popFront();else if(t===e-1)this.popBack();else{for(var i=a;t--;){if(!(i!=null&&i.next))throw new Error("unknown error");i=i.next}if(!i||!i.pre||!i.next)throw new Error("unknown error");var u=i.pre,l=i.next;l.pre=u,u.next=l,e>0&&--e}},this.eraseElementByValue=function(t){for(;a&&a.value===t;)this.popFront();for(;n&&n.value===t;)this.popBack();if(a)for(var i=a;i;){if(i.value===t){var u=i.pre,l=i.next;l&&(l.pre=u),u&&(u.next=l),e>0&&--e}i=i.next}},this.pushBack=function(t){if(t==null)throw new Error("you can't push null or undefined here");++e;var i=new p(t);n?(n.next=i,i.pre=n,n=i):a=n=i},this.popBack=function(){n&&(e>0&&--e,n&&(a===n?a=n=void 0:(n=n.pre)&&(n.next=void 0)))},this.setElementByPos=function(t,i){if(i==null)throw new Error("you can't set null or undefined here");if(t<0||t>=e)throw new Error("pos must more then 0 and less then the list length");for(var u=a;t--;){if(!u)throw new Error("unknown error");u=u.next}u&&(u.value=i)},this.insert=function(t,i,u){if(u===void 0&&(u=1),i==null)throw new Error("you can't insert null or undefined here");if(t<0||t>e)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(u<0)throw new Error("insert size must more than 0");if(t===0)for(;u--;)this.pushFront(i);else if(t===e)for(;u--;)this.pushBack(i);else{for(var l=a,f=1;f<t;++f){if(!(l!=null&&l.next))throw new Error("unknown error");l=l==null?void 0:l.next}if(!l)throw new Error("unknown error");var g=l.next;for(e+=u;u--;)l.next=new p(i),l.next.pre=l,l=l.next;l.next=g,g&&(g.pre=l)}},this.find=function(t){for(var i=a;i;){if(i.value===t)return!0;i=i.next}return!1},this.reverse=function(){for(var t=a,i=n,u=0;t&&i&&2*u<e;){var l=t.value;t.value=i.value,i.value=l,t=t.next,i=i.pre,++u}},this.unique=function(){for(var t=a;t;){for(var i=t;i&&i.next&&i.value===i.next.value;)i=i.next,e>0&&--e;t.next=i.next,t.next&&(t.next.pre=t),t=t.next}},this.sort=function(t){var i=[];this.forEach(function(l){i.push(l)}),i.sort(t);var u=a;i.forEach(function(l){u&&(u.value=l,u=u.next)})},this.pushFront=function(t){if(t==null)throw new Error("you can't push null or undefined here");++e;var i=new p(t);a?(i.next=a,a.pre=i,a=i):a=n=i},this.popFront=function(){a&&(e>0&&--e,a&&(a===n?a=n=void 0:(a=a.next)&&(a.pre=void 0)))},this.merge=function(t){var i=this,u=a;t.forEach(function(l){for(;u&&u.value!==void 0&&u.value<=l;)u=u.next;if(u===void 0)i.pushBack(l),u=n;else if(u===a)i.pushFront(l),u=a;else{++e;var f=u.pre;f&&(f.next=new p(l),f.next.pre=f,f.next.next=u,u&&(u.pre=f.next))}})},this[Symbol.iterator]=function(){return function(){var t;return w(this,function(i){switch(i.label){case 0:t=a,i.label=1;case 1:if(t===void 0)return[3,3];if(!t.value)throw new Error("unknown error");return[4,t.value];case 2:return i.sent(),t=t.next,[3,1];case 3:return[2]}})}()},c.forEach(function(t){return o.pushBack(t)}),Object.freeze(this)}Object.freeze(d),q.default=d},{}],30:[function(A,z,q){var w=this&&this.__generator||function(o,e){var a,n,t,i,u={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(g){return function(h){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,n&&(t=2&h[0]?n.return:h[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,h[1])).done)return t;switch(n=0,t&&(h=[2&h[0],t.value]),h[0]){case 0:case 1:t=h;break;case 4:return u.label++,{value:h[1],done:!1};case 5:u.label++,n=h[1],h=[0];continue;case 7:h=u.ops.pop(),u.trys.pop();continue;default:if(!(t=(t=u.trys).length>0&&t[t.length-1])&&(h[0]===6||h[0]===2)){u=0;continue}if(h[0]===3&&(!t||h[1]>t[0]&&h[1]<t[3])){u.label=h[1];break}if(h[0]===6&&u.label<t[1]){u.label=t[1],t=h;break}if(t&&u.label<t[2]){u.label=t[2],u.ops.push(h);break}t[2]&&u.ops.pop(),u.trys.pop();continue}h=e.call(o,u)}catch(v){h=[6,v],n=0}finally{a=t=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([f,g])}}},p=this&&this.__values||function(o){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&o[e],n=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(q,"__esModule",{value:!0});var d=A("../Base/TreeNode");function c(o,e){var a=this;o===void 0&&(o=[]),e=e||function(b,y){return b<y?-1:b>y?1:0};var n=0,t=new d.default;t.color=d.default.TreeNodeColorType.black,this.size=function(){return n},this.empty=function(){return n===0},this.clear=function(){n=0,t.key=t.value=void 0,t.leftChild=t.rightChild=t.brother=void 0};var i=function(b){if(!b||b.key===void 0)throw new Error("unknown error");return b.leftChild?i(b.leftChild):b},u=function(b){if(!b||b.key===void 0)throw new Error("unknown error");return b.rightChild?u(b.rightChild):b};this.front=function(){if(!this.empty()){var b=i(t);if(b.key===void 0||b.value===void 0)throw new Error("unknown error");return{key:b.key,value:b.value}}},this.back=function(){if(!this.empty()){var b=u(t);if(b.key===void 0||b.value===void 0)throw new Error("unknown error");return{key:b.key,value:b.value}}},this.forEach=function(b){var y,S,_=0;try{for(var I=p(this),M=I.next();!M.done;M=I.next())b(M.value,_++)}catch(D){y={error:D}}finally{try{M&&!M.done&&(S=I.return)&&S.call(I)}finally{if(y)throw y.error}}},this.getElementByPos=function(b){var y,S;if(b<0||b>=this.size())throw new Error("pos must more than 0 and less than set's size");var _=0;try{for(var I=p(this),M=I.next();!M.done;M=I.next()){var D=M.value;if(_===b)return D;++_}}catch(N){y={error:N}}finally{try{M&&!M.done&&(S=I.return)&&S.call(I)}finally{if(y)throw y.error}}throw new Error("unknown Error")};var l=function(b,y){if(b&&b.key!==void 0&&b.value!==void 0){var S=e(b.key,y);return S===0?{key:b.key,value:b.value}:S<0?l(b.rightChild,y):l(b.leftChild,y)||{key:b.key,value:b.value}}};this.lowerBound=function(b){return l(t,b)};var f=function(b,y){if(b&&b.key!==void 0&&b.value!==void 0)return e(b.key,y)<=0?f(b.rightChild,y):f(b.leftChild,y)||{key:b.key,value:b.value}};this.upperBound=function(b){return f(t,b)};var g=function(b,y){if(b&&b.key!==void 0&&b.value!==void 0){var S=e(b.key,y);return S===0?{key:b.key,value:b.value}:S>0?g(b.leftChild,y):g(b.rightChild,y)||{key:b.key,value:b.value}}};this.reverseLowerBound=function(b){return g(t,b)};var h=function(b,y){if(b&&b.key!==void 0&&b.value!==void 0)return e(b.key,y)>=0?h(b.leftChild,y):h(b.rightChild,y)||{key:b.key,value:b.value}};this.reverseUpperBound=function(b){return h(t,b)};var v=function(b){var y=b.parent;if(!y){if(b===t)return;throw new Error("unknown error")}if(b.color!==d.default.TreeNodeColorType.red){var S=b.brother;if(!S)throw new Error("unknown error");if(b===y.leftChild)if(S.color===d.default.TreeNodeColorType.red){S.color=d.default.TreeNodeColorType.black,y.color=d.default.TreeNodeColorType.red;var _=y.rotateLeft();t===y&&(t=_),v(b)}else S.color===d.default.TreeNodeColorType.black&&(S.rightChild&&S.rightChild.color===d.default.TreeNodeColorType.red?(S.color=y.color,y.color=d.default.TreeNodeColorType.black,S.rightChild&&(S.rightChild.color=d.default.TreeNodeColorType.black),_=y.rotateLeft(),t===y&&(t=_),b.color=d.default.TreeNodeColorType.black):S.rightChild&&S.rightChild.color!==d.default.TreeNodeColorType.black||!S.leftChild||S.leftChild.color!==d.default.TreeNodeColorType.red?S.leftChild&&S.leftChild.color!==d.default.TreeNodeColorType.black||S.rightChild&&S.rightChild.color!==d.default.TreeNodeColorType.black||(S.color=d.default.TreeNodeColorType.red,v(y)):(S.color=d.default.TreeNodeColorType.red,S.leftChild&&(S.leftChild.color=d.default.TreeNodeColorType.black),_=S.rotateRight(),t===S&&(t=_),v(b)));else b===y.rightChild&&(S.color===d.default.TreeNodeColorType.red?(S.color=d.default.TreeNodeColorType.black,y.color=d.default.TreeNodeColorType.red,_=y.rotateRight(),t===y&&(t=_),v(b)):S.color===d.default.TreeNodeColorType.black&&(S.leftChild&&S.leftChild.color===d.default.TreeNodeColorType.red?(S.color=y.color,y.color=d.default.TreeNodeColorType.black,S.leftChild&&(S.leftChild.color=d.default.TreeNodeColorType.black),_=y.rotateRight(),t===y&&(t=_),b.color=d.default.TreeNodeColorType.black):S.leftChild&&S.leftChild.color!==d.default.TreeNodeColorType.black||!S.rightChild||S.rightChild.color!==d.default.TreeNodeColorType.red?S.leftChild&&S.leftChild.color!==d.default.TreeNodeColorType.black||S.rightChild&&S.rightChild.color!==d.default.TreeNodeColorType.black||(S.color=d.default.TreeNodeColorType.red,v(y)):(S.color=d.default.TreeNodeColorType.red,S.rightChild&&(S.rightChild.color=d.default.TreeNodeColorType.black),_=S.rotateLeft(),t===S&&(t=_),v(b))))}else b.color=d.default.TreeNodeColorType.black},x=function(b){for(var y=b;y.leftChild||y.rightChild;){if(y.rightChild){y=i(y.rightChild);var S=b.key;b.key=y.key,y.key=S;var _=b.value;b.value=y.value,y.value=_,b=y}y.leftChild&&(y=u(y.leftChild),S=b.key,b.key=y.key,y.key=S,_=b.value,b.value=y.value,y.value=_,b=y)}v(y),y&&y.remove(),--n,t.color=d.default.TreeNodeColorType.black},E=function(b,y){return!(!b||b.key===void 0)&&(!!E(b.leftChild,y)||!!y(b)||E(b.rightChild,y))};this.eraseElementByPos=function(b){if(b<0||b>=n)throw new Error("pos must more than 0 and less than set's size");var y=0;E(t,function(S){return b===y?(x(S),!0):(++y,!1)})},this.eraseElementByKey=function(b){if(!this.empty()){var y=V(t,b);y!==void 0&&y.key!==void 0&&e(y.key,b)===0&&x(y)}};var C=function(b,y){if(!b||b.key===void 0)throw new Error("unknown error");var S=e(y,b.key);return S<0?b.leftChild?C(b.leftChild,y):(b.leftChild=new d.default,b.leftChild.parent=b,b.leftChild.brother=b.rightChild,b.rightChild&&(b.rightChild.brother=b.leftChild),b.leftChild):S>0?b.rightChild?C(b.rightChild,y):(b.rightChild=new d.default,b.rightChild.parent=b,b.rightChild.brother=b.leftChild,b.leftChild&&(b.leftChild.brother=b.rightChild),b.rightChild):b},k=function(b){var y=b.parent;if(!y){if(b===t)return;throw new Error("unknown error")}if(y.color!==d.default.TreeNodeColorType.black&&y.color===d.default.TreeNodeColorType.red){var S=y.brother,_=y.parent;if(!_)throw new Error("unknown error");if(S&&S.color===d.default.TreeNodeColorType.red)S.color=y.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red,k(_);else if(!S||S.color===d.default.TreeNodeColorType.black)if(y===_.leftChild)if(b===y.leftChild){y.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var I=_.rotateRight();_===t&&(t=I)}else b===y.rightChild&&(I=y.rotateLeft(),_===t&&(t=I),k(y));else y===_.rightChild&&(b===y.leftChild?(I=y.rotateRight(),_===t&&(t=I),k(y)):b===y.rightChild&&(y.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red,I=_.rotateLeft(),_===t&&(t=I)))}};this.setElement=function(b,y){if(b==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(y!=null){if(this.empty())return++n,t.key=b,t.value=y,void(t.color=d.default.TreeNodeColorType.black);var S=C(t,b);S.key===void 0||e(S.key,b)!==0?(++n,S.key=b,S.value=y,k(S),t.color=d.default.TreeNodeColorType.black):S.value=y}else this.eraseElementByKey(b)};var V=function(b,y){if(b&&b.key!==void 0){var S=e(y,b.key);return S<0?V(b.leftChild,y):S>0?V(b.rightChild,y):b}};this.find=function(b){return!!V(t,b)},this.getElementByKey=function(b){var y=V(t,b);if((y==null?void 0:y.key)===void 0||(y==null?void 0:y.value)===void 0)throw new Error("unknown error");return y.value},this.union=function(b){var y=this;b.forEach(function(S){var _=S.key,I=S.value;return y.setElement(_,I)})},this.getHeight=function(){if(this.empty())return 0;var b=function(y){return y?Math.max(b(y.leftChild),b(y.rightChild))+1:1};return b(t)};var Q=function(b){return w(this,function(y){switch(y.label){case 0:return b&&b.key!==void 0&&b.value!==void 0?[5,p(Q(b.leftChild))]:[2];case 1:return y.sent(),[4,{key:b.key,value:b.value}];case 2:return y.sent(),[5,p(Q(b.rightChild))];case 3:return y.sent(),[2]}})};this[Symbol.iterator]=function(){return Q(t)},o.forEach(function(b){var y=b.key,S=b.value;return a.setElement(y,S)}),Object.freeze(this)}Object.freeze(c),q.default=c},{"../Base/TreeNode":25}],31:[function(A,z,q){function w(p,d){p===void 0&&(p=[]),d=d||function(n,t){return n>t?-1:n<t?1:0};var c=[];p.forEach(function(n){return c.push(n)});var o=c.length,e=function(n,t){if(n<0||n>=o)throw new Error("unknown error");if(t<0||t>=o)throw new Error("unknown error");var i=c[n];c[n]=c[t],c[t]=i},a=function(n){if(n<0||n>=o)throw new Error("unknown error");var t=2*n+1,i=2*n+2;t<o&&d(c[n],c[t])>0&&e(n,t),i<o&&d(c[n],c[i])>0&&e(n,i)};(function(){for(var n=Math.floor((o-1)/2);n>=0;--n)for(var t=n,i=2*t+1;i<o;){var u=i+1,l=i;if(u<o&&d(c[i],c[u])>0&&(l=u),d(c[t],c[l])<=0)break;e(t,l),i=2*(t=l)+1}})(),this.size=function(){return o},this.empty=function(){return o===0},this.clear=function(){o=0,c.length=0},this.push=function(n){if(c.push(n),++o!==1)for(var t=o-1;t>0;){var i=Math.floor((t-1)/2);if(d(c[i],n)<=0)break;a(i),t=i}},this.pop=function(){if(!this.empty())if(this.size()!==1){var n=c[o-1];--o;for(var t=0;t<this.size();){var i=2*t+1,u=2*t+2;if(i>=this.size())break;var l=i;if(u<this.size()&&d(c[i],c[u])>0&&(l=u),d(c[l],n)>=0)break;c[t]=c[l],t=l}c[t]=n}else--o},this.top=function(){return c[0]},Object.freeze(this)}Object.defineProperty(q,"__esModule",{value:!0}),Object.freeze(w),q.default=w},{}],32:[function(A,z,q){Object.defineProperty(q,"__esModule",{value:!0});var w=A("../LinkList/LinkList");function p(d){d===void 0&&(d=[]);var c=new w.default(d);this.size=function(){return c.size()},this.empty=function(){return c.empty()},this.clear=function(){c.clear()},this.push=function(o){c.pushBack(o)},this.pop=function(){c.popFront()},this.front=function(){return c.front()},Object.freeze(this)}Object.freeze(p),q.default=p},{"../LinkList/LinkList":29}],33:[function(A,z,q){var w=this&&this.__generator||function(o,e){var a,n,t,i,u={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(g){return function(h){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,n&&(t=2&h[0]?n.return:h[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,h[1])).done)return t;switch(n=0,t&&(h=[2&h[0],t.value]),h[0]){case 0:case 1:t=h;break;case 4:return u.label++,{value:h[1],done:!1};case 5:u.label++,n=h[1],h=[0];continue;case 7:h=u.ops.pop(),u.trys.pop();continue;default:if(!(t=(t=u.trys).length>0&&t[t.length-1])&&(h[0]===6||h[0]===2)){u=0;continue}if(h[0]===3&&(!t||h[1]>t[0]&&h[1]<t[3])){u.label=h[1];break}if(h[0]===6&&u.label<t[1]){u.label=t[1],t=h;break}if(t&&u.label<t[2]){u.label=t[2],u.ops.push(h);break}t[2]&&u.ops.pop(),u.trys.pop();continue}h=e.call(o,u)}catch(v){h=[6,v],n=0}finally{a=t=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([f,g])}}},p=this&&this.__values||function(o){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&o[e],n=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(q,"__esModule",{value:!0});var d=A("../Base/TreeNode");function c(o,e){var a=this;o===void 0&&(o=[]),e=e||function(b,y){return b<y?-1:b>y?1:0};var n=0,t=new d.default;t.color=d.default.TreeNodeColorType.black,this.size=function(){return n},this.empty=function(){return n===0},this.clear=function(){n=0,t.key=void 0,t.leftChild=t.rightChild=t.brother=t.parent=void 0,t.color=d.default.TreeNodeColorType.black};var i=function(b){if(!b||b.key===void 0)throw new Error("unknown error");return b.leftChild?i(b.leftChild):b},u=function(b){if(!b||b.key===void 0)throw new Error("unknown error");return b.rightChild?u(b.rightChild):b};this.front=function(){if(!this.empty())return i(t).key},this.back=function(){if(!this.empty())return u(t).key},this.forEach=function(b){var y,S,_=0;try{for(var I=p(this),M=I.next();!M.done;M=I.next())b(M.value,_++)}catch(D){y={error:D}}finally{try{M&&!M.done&&(S=I.return)&&S.call(I)}finally{if(y)throw y.error}}},this.getElementByPos=function(b){var y,S;if(b<0||b>=this.size())throw new Error("pos must more than 0 and less than set's size");var _=0;try{for(var I=p(this),M=I.next();!M.done;M=I.next()){var D=M.value;if(_===b)return D;++_}}catch(N){y={error:N}}finally{try{M&&!M.done&&(S=I.return)&&S.call(I)}finally{if(y)throw y.error}}throw new Error("unknown error")};var l=function(b){var y=b.parent;if(!y){if(b===t)return;throw new Error("unknown error")}if(b.color!==d.default.TreeNodeColorType.red){var S=b.brother;if(!S)throw new Error("unknown error");if(b===y.leftChild)if(S.color===d.default.TreeNodeColorType.red){S.color=d.default.TreeNodeColorType.black,y.color=d.default.TreeNodeColorType.red;var _=y.rotateLeft();t===y&&(t=_),l(b)}else S.color===d.default.TreeNodeColorType.black&&(S.rightChild&&S.rightChild.color===d.default.TreeNodeColorType.red?(S.color=y.color,y.color=d.default.TreeNodeColorType.black,S.rightChild&&(S.rightChild.color=d.default.TreeNodeColorType.black),_=y.rotateLeft(),t===y&&(t=_),b.color=d.default.TreeNodeColorType.black):S.rightChild&&S.rightChild.color!==d.default.TreeNodeColorType.black||!S.leftChild||S.leftChild.color!==d.default.TreeNodeColorType.red?S.leftChild&&S.leftChild.color!==d.default.TreeNodeColorType.black||S.rightChild&&S.rightChild.color!==d.default.TreeNodeColorType.black||(S.color=d.default.TreeNodeColorType.red,l(y)):(S.color=d.default.TreeNodeColorType.red,S.leftChild&&(S.leftChild.color=d.default.TreeNodeColorType.black),_=S.rotateRight(),t===S&&(t=_),l(b)));else b===y.rightChild&&(S.color===d.default.TreeNodeColorType.red?(S.color=d.default.TreeNodeColorType.black,y.color=d.default.TreeNodeColorType.red,_=y.rotateRight(),t===y&&(t=_),l(b)):S.color===d.default.TreeNodeColorType.black&&(S.leftChild&&S.leftChild.color===d.default.TreeNodeColorType.red?(S.color=y.color,y.color=d.default.TreeNodeColorType.black,S.leftChild&&(S.leftChild.color=d.default.TreeNodeColorType.black),_=y.rotateRight(),t===y&&(t=_),b.color=d.default.TreeNodeColorType.black):S.leftChild&&S.leftChild.color!==d.default.TreeNodeColorType.black||!S.rightChild||S.rightChild.color!==d.default.TreeNodeColorType.red?S.leftChild&&S.leftChild.color!==d.default.TreeNodeColorType.black||S.rightChild&&S.rightChild.color!==d.default.TreeNodeColorType.black||(S.color=d.default.TreeNodeColorType.red,l(y)):(S.color=d.default.TreeNodeColorType.red,S.rightChild&&(S.rightChild.color=d.default.TreeNodeColorType.black),_=S.rotateLeft(),t===S&&(t=_),l(b))))}else b.color=d.default.TreeNodeColorType.black},f=function(b){for(var y=b;y.leftChild||y.rightChild;){if(y.rightChild){y=i(y.rightChild);var S=b.key;b.key=y.key,y.key=S,b=y}y.leftChild&&(y=u(y.leftChild),S=b.key,b.key=y.key,y.key=S,b=y)}l(y),y&&y.remove(),--n,t.color=d.default.TreeNodeColorType.black},g=function(b,y){return!(!b||b.key===void 0)&&(!!g(b.leftChild,y)||!!y(b)||g(b.rightChild,y))};this.eraseElementByPos=function(b){if(b<0||b>=n)throw new Error("pos must more than 0 and less than set's size");var y=0;g(t,function(S){return b===y?(f(S),!0):(++y,!1)})},this.eraseElementByValue=function(b){if(!this.empty()){var y=x(t,b);y!==void 0&&y.key!==void 0&&e(y.key,b)===0&&f(y)}};var h=function(b,y){if(!b||b.key===void 0)throw new Error("unknown error");var S=e(y,b.key);return S<0?b.leftChild?h(b.leftChild,y):(b.leftChild=new d.default,b.leftChild.parent=b,b.leftChild.brother=b.rightChild,b.rightChild&&(b.rightChild.brother=b.leftChild),b.leftChild):S>0?b.rightChild?h(b.rightChild,y):(b.rightChild=new d.default,b.rightChild.parent=b,b.rightChild.brother=b.leftChild,b.leftChild&&(b.leftChild.brother=b.rightChild),b.rightChild):b},v=function(b){var y=b.parent;if(!y){if(b===t)return;throw new Error("unknown error")}if(y.color!==d.default.TreeNodeColorType.black&&y.color===d.default.TreeNodeColorType.red){var S=y.brother,_=y.parent;if(!_)throw new Error("unknown error");if(S&&S.color===d.default.TreeNodeColorType.red)S.color=y.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red,v(_);else if(!S||S.color===d.default.TreeNodeColorType.black)if(y===_.leftChild)if(b===y.leftChild){y.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var I=_.rotateRight();_===t&&(t=I)}else b===y.rightChild&&(I=y.rotateLeft(),_===t&&(t=I),v(y));else y===_.rightChild&&(b===y.leftChild?(I=y.rotateRight(),_===t&&(t=I),v(y)):b===y.rightChild&&(y.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red,I=_.rotateLeft(),_===t&&(t=I)))}};this.insert=function(b){if(b==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++n,t.key=b,void(t.color=d.default.TreeNodeColorType.black);var y=h(t,b);y.key!==void 0&&e(y.key,b)===0||(++n,y.key=b,v(y),t.color=d.default.TreeNodeColorType.black)};var x=function(b,y){if(b&&b.key!==void 0){var S=e(y,b.key);return S<0?x(b.leftChild,y):S>0?x(b.rightChild,y):b}};this.find=function(b){var y=x(t,b);return y!==void 0&&y.key!==void 0&&e(y.key,b)===0};var E=function(b,y){if(b&&b.key!==void 0){var S=e(b.key,y);if(S===0)return b.key;if(S<0)return E(b.rightChild,y);var _=E(b.leftChild,y);return _!==void 0?_:b.key}};this.lowerBound=function(b){return E(t,b)};var C=function(b,y){if(b&&b.key!==void 0){if(e(b.key,y)<=0)return C(b.rightChild,y);var S=C(b.leftChild,y);return S!==void 0?S:b.key}};this.upperBound=function(b){return C(t,b)};var k=function(b,y){if(b&&b.key!==void 0){var S=e(b.key,y);if(S===0)return b.key;if(S>0)return k(b.leftChild,y);var _=k(b.rightChild,y);return _!==void 0?_:b.key}};this.reverseLowerBound=function(b){return k(t,b)};var V=function(b,y){if(b&&b.key!==void 0){if(e(b.key,y)>=0)return V(b.leftChild,y);var S=V(b.rightChild,y);return S!==void 0?S:b.key}};this.reverseUpperBound=function(b){return V(t,b)},this.union=function(b){var y=this;b.forEach(function(S){return y.insert(S)})},this.getHeight=function(){if(this.empty())return 0;var b=function(y){return y?Math.max(b(y.leftChild),b(y.rightChild))+1:1};return b(t)};var Q=function(b){return w(this,function(y){switch(y.label){case 0:return b&&b.key!==void 0?[5,p(Q(b.leftChild))]:[2];case 1:return y.sent(),[4,b.key];case 2:return y.sent(),[5,p(Q(b.rightChild))];case 3:return y.sent(),[2]}})};this[Symbol.iterator]=function(){return Q(t)},o.forEach(function(b){return a.insert(b)}),Object.freeze(this)}Object.freeze(c),q.default=c},{"../Base/TreeNode":25}],34:[function(A,z,q){function w(p){var d=this;p===void 0&&(p=[]);var c=0,o=[];this.size=function(){return c},this.empty=function(){return c===0},this.clear=function(){c=0,o.length=0},this.push=function(e){o.push(e),++c},this.pop=function(){o.pop(),c>0&&--c},this.top=function(){return o[c-1]},p.forEach(function(e){return d.push(e)}),Object.freeze(this)}Object.defineProperty(q,"__esModule",{value:!0}),Object.freeze(w),q.default=w},{}],35:[function(A,z,q){var w=this&&this.__generator||function(e,a){var n,t,i,u,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(g){return function(h){return function(v){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(i=2&v[0]?t.return:v[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,v[1])).done)return i;switch(t=0,i&&(v=[2&v[0],i.value]),v[0]){case 0:case 1:i=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,t=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){l.label=v[1];break}if(v[0]===6&&l.label<i[1]){l.label=i[1],i=v;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(v);break}i[2]&&l.ops.pop(),l.trys.pop();continue}v=a.call(e,l)}catch(x){v=[6,x],t=0}finally{n=i=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([g,h])}}},p=this&&this.__read||function(e,a){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var t,i,u=n.call(e),l=[];try{for(;(a===void 0||a-- >0)&&!(t=u.next()).done;)l.push(t.value)}catch(f){i={error:f}}finally{try{t&&!t.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return l},d=this&&this.__spreadArray||function(e,a,n){if(n||arguments.length===2)for(var t,i=0,u=a.length;i<u;i++)!t&&i in a||(t||(t=Array.prototype.slice.call(a,0,i)),t[i]=a[i]);return e.concat(t||Array.prototype.slice.call(a))},c=this&&this.__values||function(e){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&e[a],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(e){var a=this;e===void 0&&(e=[]);var n=0,t=[];this.size=function(){return n},this.empty=function(){return n===0},this.clear=function(){n=0,t.length=0},this.front=function(){if(!this.empty())return t[0]},this.back=function(){if(!this.empty())return t[n-1]},this.forEach=function(i){t.forEach(i)},this.getElementByPos=function(i){if(i<0||i>=n)throw new Error("pos must more than 0 and less than vector's size");return t[i]},this.eraseElementByPos=function(i){if(i<0||i>=n)throw new Error("pos must more than 0 and less than vector's size");for(var u=i;u<n-1;++u)t[u]=t[u+1];this.popBack()},this.eraseElementByValue=function(i){var u=[];this.forEach(function(f){f!==i&&u.push(f)}),u.forEach(function(f,g){t[g]=f});for(var l=u.length;n>l;)this.popBack()},this.pushBack=function(i){t.push(i),++n},this.popBack=function(){t.pop(),n>0&&--n},this.setElementByPos=function(i,u){if(i<0||i>=n)throw new Error("pos must more than 0 and less than vector's size");t[i]=u},this.insert=function(i,u,l){if(l===void 0&&(l=1),i<0||i>n)throw new Error("pos must more than 0 and less than or equal to vector's size");t.splice.apply(t,d([i,0],p(new Array(l).fill(u)),!1)),n+=l},this.find=function(i){return t.includes(i)},this.reverse=function(){t.reverse()},this.unique=function(){var i,u=[];this.forEach(function(f,g){g!==0&&f===i||(u.push(f),i=f)}),u.forEach(function(f,g){t[g]=f});for(var l=u.length;n>l;)this.popBack()},this.sort=function(i){t.sort(i)},this[Symbol.iterator]=function(){return function(){return w(this,function(i){switch(i.label){case 0:return[5,c(t)];case 1:return[2,i.sent()]}})}()},e.forEach(function(i){return a.pushBack(i)}),Object.freeze(this)}Object.defineProperty(q,"__esModule",{value:!0}),Object.freeze(o),q.default=o},{}],36:[function(A,z,q){Object.defineProperty(q,"__esModule",{value:!0}),q.HashMap=q.HashSet=q.Map=q.Set=q.PriorityQueue=q.Deque=q.LinkList=q.Queue=q.Stack=q.Vector=void 0;var w=A("./Vector/Vector");q.Vector=w.default;var p=A("./Stack/Stack");q.Stack=p.default;var d=A("./Queue/Queue");q.Queue=d.default;var c=A("./LinkList/LinkList");q.LinkList=c.default;var o=A("./Deque/Deque");q.Deque=o.default;var e=A("./PriorityQueue/PriorityQueue");q.PriorityQueue=e.default;var a=A("./Set/Set");q.Set=a.default;var n=A("./Map/Map");q.Map=n.default;var t=A("./HashSet/HashSet");q.HashSet=t.default;var i=A("./HashMap/HashMap");q.HashMap=i.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(A,z,q){const w=A("yallist"),p=Symbol("max"),d=Symbol("length"),c=Symbol("lengthCalculator"),o=Symbol("allowStale"),e=Symbol("maxAge"),a=Symbol("dispose"),n=Symbol("noDisposeOnSet"),t=Symbol("lruList"),i=Symbol("cache"),u=Symbol("updateAgeOnGet"),l=()=>1,f=(C,k,V)=>{const Q=C[i].get(k);if(Q){const b=Q.value;if(g(C,b)){if(v(C,Q),!C[o])return}else V&&(C[u]&&(Q.value.now=Date.now()),C[t].unshiftNode(Q));return b.value}},g=(C,k)=>{if(!k||!k.maxAge&&!C[e])return!1;const V=Date.now()-k.now;return k.maxAge?V>k.maxAge:C[e]&&V>C[e]},h=C=>{if(C[d]>C[p])for(let k=C[t].tail;C[d]>C[p]&&k!==null;){const V=k.prev;v(C,k),k=V}},v=(C,k)=>{if(k){const V=k.value;C[a]&&C[a](V.key,V.value),C[d]-=V.length,C[i].delete(V.key),C[t].removeNode(k)}};class x{constructor(k,V,Q,b,y){this.key=k,this.value=V,this.length=Q,this.now=b,this.maxAge=y||0}}const E=(C,k,V,Q)=>{let b=V.value;g(C,b)&&(v(C,V),C[o]||(b=void 0)),b&&k.call(Q,b.value,b.key,C)};z.exports=class{constructor(C){if(typeof C=="number"&&(C={max:C}),C||(C={}),C.max&&(typeof C.max!="number"||C.max<0))throw new TypeError("max must be a non-negative number");this[p]=C.max||1/0;const k=C.length||l;if(this[c]=typeof k!="function"?l:k,this[o]=C.stale||!1,C.maxAge&&typeof C.maxAge!="number")throw new TypeError("maxAge must be a number");this[e]=C.maxAge||0,this[a]=C.dispose,this[n]=C.noDisposeOnSet||!1,this[u]=C.updateAgeOnGet||!1,this.reset()}set max(C){if(typeof C!="number"||C<0)throw new TypeError("max must be a non-negative number");this[p]=C||1/0,h(this)}get max(){return this[p]}set allowStale(C){this[o]=!!C}get allowStale(){return this[o]}set maxAge(C){if(typeof C!="number")throw new TypeError("maxAge must be a non-negative number");this[e]=C,h(this)}get maxAge(){return this[e]}set lengthCalculator(C){typeof C!="function"&&(C=l),C!==this[c]&&(this[c]=C,this[d]=0,this[t].forEach(k=>{k.length=this[c](k.value,k.key),this[d]+=k.length})),h(this)}get lengthCalculator(){return this[c]}get length(){return this[d]}get itemCount(){return this[t].length}rforEach(C,k){k=k||this;for(let V=this[t].tail;V!==null;){const Q=V.prev;E(this,C,V,k),V=Q}}forEach(C,k){k=k||this;for(let V=this[t].head;V!==null;){const Q=V.next;E(this,C,V,k),V=Q}}keys(){return this[t].toArray().map(C=>C.key)}values(){return this[t].toArray().map(C=>C.value)}reset(){this[a]&&this[t]&&this[t].length&&this[t].forEach(C=>this[a](C.key,C.value)),this[i]=new Map,this[t]=new w,this[d]=0}dump(){return this[t].map(C=>!g(this,C)&&{k:C.key,v:C.value,e:C.now+(C.maxAge||0)}).toArray().filter(C=>C)}dumpLru(){return this[t]}set(C,k,V){if((V=V||this[e])&&typeof V!="number")throw new TypeError("maxAge must be a number");const Q=V?Date.now():0,b=this[c](k,C);if(this[i].has(C)){if(b>this[p])return v(this,this[i].get(C)),!1;const S=this[i].get(C).value;return this[a]&&(this[n]||this[a](C,S.value)),S.now=Q,S.maxAge=V,S.value=k,this[d]+=b-S.length,S.length=b,this.get(C),h(this),!0}const y=new x(C,k,b,Q,V);return y.length>this[p]?(this[a]&&this[a](C,k),!1):(this[d]+=y.length,this[t].unshift(y),this[i].set(C,this[t].head),h(this),!0)}has(C){if(!this[i].has(C))return!1;const k=this[i].get(C).value;return!g(this,k)}get(C){return f(this,C,!0)}peek(C){return f(this,C,!1)}pop(){const C=this[t].tail;return C?(v(this,C),C.value):null}del(C){v(this,this[i].get(C))}load(C){this.reset();const k=Date.now();for(let V=C.length-1;V>=0;V--){const Q=C[V],b=Q.e||0;if(b===0)this.set(Q.k,Q.v);else{const y=b-k;y>0&&this.set(Q.k,Q.v,y)}}}prune(){this[i].forEach((C,k)=>f(this,k,!1))}}},{yallist:83}],38:[function(A,z,q){(function(w){(function(){const p=z.exports;p.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},p.codes={};for(const c in p.types){const o=p.types[c];p.codes[o]=c}p.CMD_SHIFT=4,p.CMD_MASK=240,p.DUP_MASK=8,p.QOS_MASK=3,p.QOS_SHIFT=1,p.RETAIN_MASK=1,p.VARBYTEINT_MASK=127,p.VARBYTEINT_FIN_MASK=128,p.VARBYTEINT_MAX=268435455,p.SESSIONPRESENT_MASK=1,p.SESSIONPRESENT_HEADER=w.from([p.SESSIONPRESENT_MASK]),p.CONNACK_HEADER=w.from([p.codes.connack<<p.CMD_SHIFT]),p.USERNAME_MASK=128,p.PASSWORD_MASK=64,p.WILL_RETAIN_MASK=32,p.WILL_QOS_MASK=24,p.WILL_QOS_SHIFT=3,p.WILL_FLAG_MASK=4,p.CLEAN_SESSION_MASK=2,p.CONNECT_HEADER=w.from([p.codes.connect<<p.CMD_SHIFT]),p.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},p.propertiesCodes={};for(const c in p.properties){const o=p.properties[c];p.propertiesCodes[o]=c}function d(c){return[0,1,2].map(o=>[0,1].map(e=>[0,1].map(a=>{const n=w.alloc(1);return n.writeUInt8(p.codes[c]<<p.CMD_SHIFT|(e?p.DUP_MASK:0)|o<<p.QOS_SHIFT|a,0,!0),n})))}p.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},p.PUBLISH_HEADER=d("publish"),p.SUBSCRIBE_HEADER=d("subscribe"),p.SUBSCRIBE_OPTIONS_QOS_MASK=3,p.SUBSCRIBE_OPTIONS_NL_MASK=1,p.SUBSCRIBE_OPTIONS_NL_SHIFT=2,p.SUBSCRIBE_OPTIONS_RAP_MASK=1,p.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,p.SUBSCRIBE_OPTIONS_RH_MASK=3,p.SUBSCRIBE_OPTIONS_RH_SHIFT=4,p.SUBSCRIBE_OPTIONS_RH=[0,16,32],p.SUBSCRIBE_OPTIONS_NL=4,p.SUBSCRIBE_OPTIONS_RAP=8,p.SUBSCRIBE_OPTIONS_QOS=[0,1,2],p.UNSUBSCRIBE_HEADER=d("unsubscribe"),p.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},p.SUBACK_HEADER=w.from([p.codes.suback<<p.CMD_SHIFT]),p.VERSION3=w.from([3]),p.VERSION4=w.from([4]),p.VERSION5=w.from([5]),p.VERSION131=w.from([131]),p.VERSION132=w.from([132]),p.QOS=[0,1,2].map(c=>w.from([c])),p.EMPTY={pingreq:w.from([p.codes.pingreq<<4,0]),pingresp:w.from([p.codes.pingresp<<4,0]),disconnect:w.from([p.codes.disconnect<<4,0])}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17}],39:[function(A,z,q){(function(w){(function(){const p=A("./writeToStream"),d=A("events");class c extends d{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0;const a=new Array(this._array.length),n=this._array;let t,i=0;for(t=0;t<n.length&&n[t]!==void 0;t++)typeof n[t]!="string"?a[t]=n[t].length:a[t]=w.byteLength(n[t]),e+=a[t];const u=w.allocUnsafe(e);for(t=0;t<n.length&&n[t]!==void 0;t++)typeof n[t]!="string"?(n[t].copy(u,i),i+=a[t]):(u.write(n[t],i),i+=a[t]);return u}}z.exports=function(o,e){const a=new c;return p(o,a,e),a.concat()}}).call(this)}).call(this,A("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(A,z,q){q.parser=A("./parser").parser,q.generate=A("./generate"),q.writeToStream=A("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(A,z,q){(function(w){(function(){const d={},c=w.isBuffer(w.from([1,2]).subarray(0,1));function o(e){const a=w.allocUnsafe(2);return a.writeUInt8(e>>8,0),a.writeUInt8(255&e,1),a}z.exports={cache:d,generateCache:function(){for(let e=0;e<65536;e++)d[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(e){let a=0,n=0;const t=w.allocUnsafe(4);do a=e%128|0,(e=e/128|0)>0&&(a|=128),t.writeUInt8(a,n++);while(e>0&&n<4);return e>0&&(n=0),c?t.subarray(0,n):t.slice(0,n)},generate4ByteBuffer:function(e){const a=w.allocUnsafe(4);return a.writeUInt32BE(e,0),a}}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17}],42:[function(A,z,q){z.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},{}],43:[function(A,z,q){const w=A("bl"),p=A("events"),d=A("./packet"),c=A("./constants"),o=A("debug")("mqtt-packet:parser");class e extends p{constructor(){super(),this.parser=this.constructor.parser}static parser(n){return this instanceof e?(this.settings=n||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new e().parser(n)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=w(),this._stateCounter=0}parse(n){for(this.error&&this._resetState(),this._list.append(n),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const n=this._list.readUInt8(0);return this.packet.cmd=c.types[n>>c.CMD_SHIFT],this.packet.retain=(n&c.RETAIN_MASK)!=0,this.packet.qos=n>>c.QOS_SHIFT&c.QOS_MASK,this.packet.dup=(n&c.DUP_MASK)!=0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const n=this._parseVarByteNum(!0);return n&&(this.packet.length=n.value,this._list.consume(n.bytes)),o("_parseLength %d",n.value),!!n}_parsePayload(){o("_parsePayload: payload %O",this._list);let n=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}n=!0}return o("_parsePayload complete result: %s",n),n}_parseConnect(){let n,t,i,u;o("_parseConnect");const l={},f=this.packet,g=this._parseString();if(g===null)return this._emitError(new Error("Cannot parse protocolId"));if(g!=="MQTT"&&g!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(f.protocolId=g,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(f.protocolVersion=this._list.readUInt8(this._pos),f.protocolVersion>=128&&(f.bridgeMode=!0,f.protocolVersion=f.protocolVersion-128),f.protocolVersion!==3&&f.protocolVersion!==4&&f.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(l.username=this._list.readUInt8(this._pos)&c.USERNAME_MASK,l.password=this._list.readUInt8(this._pos)&c.PASSWORD_MASK,l.will=this._list.readUInt8(this._pos)&c.WILL_FLAG_MASK,l.will&&(f.will={},f.will.retain=(this._list.readUInt8(this._pos)&c.WILL_RETAIN_MASK)!=0,f.will.qos=(this._list.readUInt8(this._pos)&c.WILL_QOS_MASK)>>c.WILL_QOS_SHIFT),f.clean=(this._list.readUInt8(this._pos)&c.CLEAN_SESSION_MASK)!=0,this._pos++,f.keepalive=this._parseNum(),f.keepalive===-1)return this._emitError(new Error("Packet too short"));if(f.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(f.properties=v)}const h=this._parseString();if(h===null)return this._emitError(new Error("Packet too short"));if(f.clientId=h,o("_parseConnect: packet.clientId: %s",f.clientId),l.will){if(f.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(f.will.properties=v)}if((n=this._parseString())===null)return this._emitError(new Error("Cannot parse will topic"));if(f.will.topic=n,o("_parseConnect: packet.will.topic: %s",f.will.topic),(t=this._parseBuffer())===null)return this._emitError(new Error("Cannot parse will payload"));f.will.payload=t,o("_parseConnect: packet.will.paylaod: %s",f.will.payload)}if(l.username){if((u=this._parseString())===null)return this._emitError(new Error("Cannot parse username"));f.username=u,o("_parseConnect: packet.username: %s",f.username)}if(l.password){if((i=this._parseBuffer())===null)return this._emitError(new Error("Cannot parse password"));f.password=i}return this.settings=f,o("_parseConnect: complete"),f}_parseConnack(){o("_parseConnack");const n=this.packet;if(this._list.length<1)return null;if(n.sessionPresent=!!(this._list.readUInt8(this._pos++)&c.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?n.reasonCode=this._list.readUInt8(this._pos++):n.reasonCode=0;else{if(this._list.length<2)return null;n.returnCode=this._list.readUInt8(this._pos++)}if(n.returnCode===-1||n.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(n.properties=t)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");const n=this.packet;if(n.topic=this._parseString(),n.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(n.qos>0)||this._parseMessageId()){if(this.settings.protocolVersion===5){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(n.properties=t)}n.payload=this._list.slice(this._pos,n.length),o("_parsePublish: payload from buffer list: %o",n.payload)}}_parseSubscribe(){o("_parseSubscribe");const n=this.packet;let t,i,u,l,f,g,h;if(n.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(n.subscriptions=[],this._parseMessageId()){if(this.settings.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(n.properties=v)}for(;this._pos<n.length;){if((t=this._parseString())===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=n.length)return this._emitError(new Error("Malformed Subscribe Payload"));u=(i=this._parseByte())&c.SUBSCRIBE_OPTIONS_QOS_MASK,g=(i>>c.SUBSCRIBE_OPTIONS_NL_SHIFT&c.SUBSCRIBE_OPTIONS_NL_MASK)!=0,f=(i>>c.SUBSCRIBE_OPTIONS_RAP_SHIFT&c.SUBSCRIBE_OPTIONS_RAP_MASK)!=0,l=i>>c.SUBSCRIBE_OPTIONS_RH_SHIFT&c.SUBSCRIBE_OPTIONS_RH_MASK,h={topic:t,qos:u},this.settings.protocolVersion===5?(h.nl=g,h.rap=f,h.rh=l):this.settings.bridgeMode&&(h.rh=0,h.rap=!0,h.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",h),n.subscriptions.push(h)}}}_parseSuback(){o("_parseSuback");const n=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(this.settings.protocolVersion===5){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(n.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){o("_parseUnsubscribe");const n=this.packet;if(n.unsubscriptions=[],this._parseMessageId()){if(this.settings.protocolVersion===5){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(n.properties=t)}for(;this._pos<n.length;){const t=this._parseString();if(t===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),n.unsubscriptions.push(t)}}}_parseUnsuback(){o("_parseUnsuback");const n=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(n.properties=t),n.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const n=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(n.length>2?(n.reasonCode=this._parseByte(),o("_parseConfirmation: packet.reasonCode `%d`",n.reasonCode)):n.reasonCode=0,n.length>3)){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(n.properties=t)}return!0}_parseDisconnect(){const n=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?n.reasonCode=this._parseByte():n.reasonCode=0;const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(n.properties=t)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");const n=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));n.reasonCode=this._parseByte();const t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(n.properties=t),o("_parseAuth: result: true"),!0}_parseMessageId(){const n=this.packet;return n.messageId=this._parseNum(),n.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",n.messageId),!0)}_parseString(n){const t=this._parseNum(),i=t+this._pos;if(t===-1||i>this._list.length||i>this.packet.length)return null;const u=this._list.toString("utf8",this._pos,i);return this._pos+=t,o("_parseString: result: %s",u),u}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const n=this._parseNum(),t=n+this._pos;if(n===-1||t>this._list.length||t>this.packet.length)return null;const i=this._list.slice(this._pos,t);return this._pos+=n,o("_parseBuffer: result: %o",i),i}_parseNum(){if(this._list.length-this._pos<2)return-1;const n=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",n),n}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const n=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",n),n}_parseVarByteNum(n){o("_parseVarByteNum");let t,i=0,u=1,l=0,f=!1;const g=this._pos?this._pos:0;for(;i<4&&g+i<this._list.length;){if(l+=u*((t=this._list.readUInt8(g+i++))&c.VARBYTEINT_MASK),u*=128,(t&c.VARBYTEINT_FIN_MASK)==0){f=!0;break}if(this._list.length<=i)break}return!f&&i===4&&this._list.length>=i&&this._emitError(new Error("Invalid variable byte integer")),g&&(this._pos+=i),o("_parseVarByteNum: result: %o",f=!!f&&(n?{bytes:i,value:l}:l)),f}_parseByte(){let n;return this._pos<this._list.length&&(n=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",n),n}_parseByType(n){switch(o("_parseByType: type: %s",n),n){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");const n=this._parseVarByteNum(),t=this._pos+n,i={};for(;this._pos<t;){const u=this._parseByte();if(!u)return this._emitError(new Error("Cannot parse property code type")),!1;const l=c.propertiesCodes[u];if(!l)return this._emitError(new Error("Unknown property")),!1;if(l!=="userProperties")i[l]?Array.isArray(i[l])?i[l].push(this._parseByType(c.propertiesTypes[l])):(i[l]=[i[l]],i[l].push(this._parseByType(c.propertiesTypes[l]))):i[l]=this._parseByType(c.propertiesTypes[l]);else{i[l]||(i[l]=Object.create(null));const f=this._parseByType(c.propertiesTypes[l]);if(i[l][f.name])if(Array.isArray(i[l][f.name]))i[l][f.name].push(f.value);else{const g=i[l][f.name];i[l][f.name]=[g],i[l][f.name].push(f.value)}else i[l][f.name]=f.value}}return i}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(n){o("_emitError"),this.error=n,this.emit("error",n)}}z.exports=e},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(A,z,q){(function(w){(function(){const p=A("./constants"),d=w.allocUnsafe(0),c=w.from([0]),o=A("./numbers"),e=A("process-nextick-args").nextTick,a=A("debug")("mqtt-packet:writeToStream"),n=o.cache,t=o.generateNumber,i=o.generateCache,u=o.genBufVariableByteInt,l=o.generate4ByteBuffer;let f=V,g=!0;function h(N,P,B){switch(a("generate called"),P.cork&&(P.cork(),e(v,P)),g&&(g=!1,i()),a("generate: packet.cmd: %s",N.cmd),N.cmd){case"connect":return function(R,O,j){const H=R||{},F=H.protocolId||"MQTT";let K=H.protocolVersion||4;const $=H.will;let G=H.clean;const r=H.keepalive||0,s=H.clientId||"",m=H.username,T=H.password,L=H.properties;G===void 0&&(G=!0);let U=0;if(!F||typeof F!="string"&&!w.isBuffer(F))return O.emit("error",new Error("Invalid protocolId")),!1;if(U+=F.length+2,K!==3&&K!==4&&K!==5)return O.emit("error",new Error("Invalid protocol version")),!1;if(U+=1,(typeof s=="string"||w.isBuffer(s))&&(s||K>=4)&&(s||G))U+=w.byteLength(s)+2;else{if(K<4)return O.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*G==0)return O.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof r!="number"||r<0||r>65535||r%1!=0)return O.emit("error",new Error("Invalid keepalive")),!1;if(U+=2,U+=1,K===5){var W=y(O,L);if(!W)return!1;U+=W.length}if($){if(typeof $!="object")return O.emit("error",new Error("Invalid will")),!1;if(!$.topic||typeof $.topic!="string")return O.emit("error",new Error("Invalid will topic")),!1;if(U+=w.byteLength($.topic)+2,U+=2,$.payload){if(!($.payload.length>=0))return O.emit("error",new Error("Invalid will payload")),!1;typeof $.payload=="string"?U+=w.byteLength($.payload):U+=$.payload.length}var Z={};if(K===5){if(!(Z=y(O,$.properties)))return!1;U+=Z.length}}let Y=!1;if(m!=null){if(!D(m))return O.emit("error",new Error("Invalid username")),!1;Y=!0,U+=w.byteLength(m)+2}if(T!=null){if(!Y)return O.emit("error",new Error("Username is required to use password")),!1;if(!D(T))return O.emit("error",new Error("Invalid password")),!1;U+=M(T)+2}O.write(p.CONNECT_HEADER),E(O,U),b(O,F),H.bridgeMode&&(K+=128),O.write(K===131?p.VERSION131:K===132?p.VERSION132:K===4?p.VERSION4:K===5?p.VERSION5:p.VERSION3);let J=0;return J|=m!=null?p.USERNAME_MASK:0,J|=T!=null?p.PASSWORD_MASK:0,J|=$&&$.retain?p.WILL_RETAIN_MASK:0,J|=$&&$.qos?$.qos<<p.WILL_QOS_SHIFT:0,J|=$?p.WILL_FLAG_MASK:0,J|=G?p.CLEAN_SESSION_MASK:0,O.write(w.from([J])),f(O,r),K===5&&W.write(),b(O,s),$&&(K===5&&Z.write(),C(O,$.topic),b(O,$.payload)),m!=null&&b(O,m),T!=null&&b(O,T),!0}(N,P);case"connack":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=H===5?F.reasonCode:F.returnCode,$=F.properties;let G=2;if(typeof K!="number")return O.emit("error",new Error("Invalid return code")),!1;let r=null;if(H===5){if(!(r=y(O,$)))return!1;G+=r.length}return O.write(p.CONNACK_HEADER),E(O,G),O.write(F.sessionPresent?p.SESSIONPRESENT_HEADER:c),O.write(w.from([K])),r!=null&&r.write(),!0}(N,P,B);case"publish":return function(R,O,j){a("publish: packet: %o",R);const H=j?j.protocolVersion:4,F=R||{},K=F.qos||0,$=F.retain?p.RETAIN_MASK:0,G=F.topic,r=F.payload||d,s=F.messageId,m=F.properties;let T=0;if(typeof G=="string")T+=w.byteLength(G)+2;else{if(!w.isBuffer(G))return O.emit("error",new Error("Invalid topic")),!1;T+=G.length+2}if(w.isBuffer(r)?T+=r.length:T+=w.byteLength(r),K&&typeof s!="number")return O.emit("error",new Error("Invalid messageId")),!1;K&&(T+=2);let L=null;if(H===5){if(!(L=y(O,m)))return!1;T+=L.length}return O.write(p.PUBLISH_HEADER[K][F.dup?1:0][$?1:0]),E(O,T),f(O,M(G)),O.write(G),K>0&&f(O,s),L!=null&&L.write(),a("publish: payload: %o",r),O.write(r)}(N,P,B);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=F.cmd||"puback",$=F.messageId,G=F.dup&&K==="pubrel"?p.DUP_MASK:0;let r=0;const s=F.reasonCode,m=F.properties;let T=H===5?3:2;if(K==="pubrel"&&(r=1),typeof $!="number")return O.emit("error",new Error("Invalid messageId")),!1;let L=null;if(H===5&&typeof m=="object"){if(!(L=S(O,m,j,T)))return!1;T+=L.length}return O.write(p.ACKS[K][r][G][0]),E(O,T),f(O,$),H===5&&O.write(w.from([s])),L!==null&&L.write(),!0}(N,P,B);case"subscribe":return function(R,O,j){a("subscribe: packet: ");const H=j?j.protocolVersion:4,F=R||{},K=F.dup?p.DUP_MASK:0,$=F.messageId,G=F.subscriptions,r=F.properties;let s=0;if(typeof $!="number")return O.emit("error",new Error("Invalid messageId")),!1;s+=2;let m=null;if(H===5){if(!(m=y(O,r)))return!1;s+=m.length}if(typeof G!="object"||!G.length)return O.emit("error",new Error("Invalid subscriptions")),!1;for(let L=0;L<G.length;L+=1){const U=G[L].topic,W=G[L].qos;if(typeof U!="string")return O.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof W!="number")return O.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(H===5){if(typeof(G[L].nl||!1)!="boolean")return O.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(G[L].rap||!1)!="boolean")return O.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const J=G[L].rh||0;if(typeof J!="number"||J>2)return O.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}s+=w.byteLength(U)+2+1}a("subscribe: writing to stream: %o",p.SUBSCRIBE_HEADER),O.write(p.SUBSCRIBE_HEADER[1][K?1:0][0]),E(O,s),f(O,$),m!==null&&m.write();let T=!0;for(const L of G){const U=L.topic,W=L.qos,Z=+L.nl,Y=+L.rap,J=L.rh;let X;C(O,U),X=p.SUBSCRIBE_OPTIONS_QOS[W],H===5&&(X|=Z?p.SUBSCRIBE_OPTIONS_NL:0,X|=Y?p.SUBSCRIBE_OPTIONS_RAP:0,X|=J?p.SUBSCRIBE_OPTIONS_RH[J]:0),T=O.write(w.from([X]))}return T}(N,P,B);case"suback":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=F.messageId,$=F.granted,G=F.properties;let r=0;if(typeof K!="number")return O.emit("error",new Error("Invalid messageId")),!1;if(r+=2,typeof $!="object"||!$.length)return O.emit("error",new Error("Invalid qos vector")),!1;for(let m=0;m<$.length;m+=1){if(typeof $[m]!="number")return O.emit("error",new Error("Invalid qos vector")),!1;r+=1}let s=null;if(H===5){if(!(s=S(O,G,j,r)))return!1;r+=s.length}return O.write(p.SUBACK_HEADER),E(O,r),f(O,K),s!==null&&s.write(),O.write(w.from($))}(N,P,B);case"unsubscribe":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=F.messageId,$=F.dup?p.DUP_MASK:0,G=F.unsubscriptions,r=F.properties;let s=0;if(typeof K!="number")return O.emit("error",new Error("Invalid messageId")),!1;if(s+=2,typeof G!="object"||!G.length)return O.emit("error",new Error("Invalid unsubscriptions")),!1;for(let L=0;L<G.length;L+=1){if(typeof G[L]!="string")return O.emit("error",new Error("Invalid unsubscriptions")),!1;s+=w.byteLength(G[L])+2}let m=null;if(H===5){if(!(m=y(O,r)))return!1;s+=m.length}O.write(p.UNSUBSCRIBE_HEADER[1][$?1:0][0]),E(O,s),f(O,K),m!==null&&m.write();let T=!0;for(let L=0;L<G.length;L++)T=C(O,G[L]);return T}(N,P,B);case"unsuback":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=F.messageId,$=F.dup?p.DUP_MASK:0,G=F.granted,r=F.properties,s=F.cmd;let m=2;if(typeof K!="number")return O.emit("error",new Error("Invalid messageId")),!1;if(H===5){if(typeof G!="object"||!G.length)return O.emit("error",new Error("Invalid qos vector")),!1;for(let L=0;L<G.length;L+=1){if(typeof G[L]!="number")return O.emit("error",new Error("Invalid qos vector")),!1;m+=1}}let T=null;if(H===5){if(!(T=S(O,r,j,m)))return!1;m+=T.length}return O.write(p.ACKS[s][0][$][0]),E(O,m),f(O,K),T!==null&&T.write(),H===5&&O.write(w.from(G)),!0}(N,P,B);case"pingreq":case"pingresp":return function(R,O,j){return O.write(p.EMPTY[R.cmd])}(N,P);case"disconnect":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=F.reasonCode,$=F.properties;let G=H===5?1:0,r=null;if(H===5){if(!(r=S(O,$,j,G)))return!1;G+=r.length}return O.write(w.from([p.codes.disconnect<<4])),E(O,G),H===5&&O.write(w.from([K])),r!==null&&r.write(),!0}(N,P,B);case"auth":return function(R,O,j){const H=j?j.protocolVersion:4,F=R||{},K=F.reasonCode,$=F.properties;let G=H===5?1:0;H!==5&&O.emit("error",new Error("Invalid mqtt version for auth packet"));const r=S(O,$,j,G);return r?(G+=r.length,O.write(w.from([p.codes.auth<<4])),E(O,G),O.write(w.from([K])),r!==null&&r.write(),!0):!1}(N,P,B);default:return P.emit("error",new Error("Unknown command")),!1}}function v(N){N.uncork()}Object.defineProperty(h,"cacheNumbers",{get:()=>f===V,set(N){N?(n&&Object.keys(n).length!==0||(g=!0),f=V):(g=!1,f=Q)}});const x={};function E(N,P){if(P>p.VARBYTEINT_MAX)return N.emit("error",new Error(`Invalid variable byte integer: ${P}`)),!1;let B=x[P];return B||(B=u(P),P<16384&&(x[P]=B)),a("writeVarByteInt: writing to stream: %o",B),N.write(B)}function C(N,P){const B=w.byteLength(P);return f(N,B),a("writeString: %s",P),N.write(P,"utf8")}function k(N,P,B){C(N,P),C(N,B)}function V(N,P){return a("writeNumberCached: number: %d",P),a("writeNumberCached: %o",n[P]),N.write(n[P])}function Q(N,P){const B=t(P);return a("writeNumberGenerated: %o",B),N.write(B)}function b(N,P){typeof P=="string"?C(N,P):P?(f(N,P.length),N.write(P)):f(N,0)}function y(N,P){if(typeof P!="object"||P.length!=null)return{length:1,write(){I(N,{},0)}};let B=0;function R(O,j){let H=0;switch(p.propertiesTypes[O]){case"byte":if(typeof j!="boolean")return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=2;break;case"int8":if(typeof j!="number"||j<0||j>255)return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=2;break;case"binary":if(j&&j===null)return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=1+w.byteLength(j)+2;break;case"int16":if(typeof j!="number"||j<0||j>65535)return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=3;break;case"int32":if(typeof j!="number"||j<0||j>4294967295)return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=5;break;case"var":if(typeof j!="number"||j<0||j>268435455)return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=1+w.byteLength(u(j));break;case"string":if(typeof j!="string")return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=3+w.byteLength(j.toString());break;case"pair":if(typeof j!="object")return N.emit("error",new Error(`Invalid ${O}: ${j}`)),!1;H+=Object.getOwnPropertyNames(j).reduce((F,K)=>{const $=j[K];return Array.isArray($)?F+=$.reduce((G,r)=>G+=3+w.byteLength(K.toString())+2+w.byteLength(r.toString()),0):F+=3+w.byteLength(K.toString())+2+w.byteLength(j[K].toString()),F},0);break;default:return N.emit("error",new Error(`Invalid property ${O}: ${j}`)),!1}return H}if(P)for(const O in P){let j=0,H=0;const F=P[O];if(Array.isArray(F))for(let K=0;K<F.length;K++){if(!(H=R(O,F[K])))return!1;j+=H}else{if(!(H=R(O,F)))return!1;j=H}if(!j)return!1;B+=j}return{length:w.byteLength(u(B))+B,write(){I(N,P,B)}}}function S(N,P,B,R){const O=["reasonString","userProperties"],j=B&&B.properties&&B.properties.maximumPacketSize?B.properties.maximumPacketSize:0;let H=y(N,P);if(j)for(;R+H.length>j;){const F=O.shift();if(!F||!P[F])return!1;delete P[F],H=y(N,P)}return H}function _(N,P,B){switch(p.propertiesTypes[P]){case"byte":N.write(w.from([p.properties[P]])),N.write(w.from([+B]));break;case"int8":N.write(w.from([p.properties[P]])),N.write(w.from([B]));break;case"binary":N.write(w.from([p.properties[P]])),b(N,B);break;case"int16":N.write(w.from([p.properties[P]])),f(N,B);break;case"int32":N.write(w.from([p.properties[P]])),function(R,O){const j=l(O);a("write4ByteNumber: %o",j),R.write(j)}(N,B);break;case"var":N.write(w.from([p.properties[P]])),E(N,B);break;case"string":N.write(w.from([p.properties[P]])),C(N,B);break;case"pair":Object.getOwnPropertyNames(B).forEach(R=>{const O=B[R];Array.isArray(O)?O.forEach(j=>{N.write(w.from([p.properties[P]])),k(N,R.toString(),j.toString())}):(N.write(w.from([p.properties[P]])),k(N,R.toString(),O.toString()))});break;default:return N.emit("error",new Error(`Invalid property ${P} value: ${B}`)),!1}}function I(N,P,B){E(N,B);for(const R in P)if(Object.prototype.hasOwnProperty.call(P,R)&&P[R]!==null){const O=P[R];if(Array.isArray(O))for(let j=0;j<O.length;j++)_(N,R,O[j]);else _(N,R,O)}}function M(N){return N?N instanceof w?N.length:w.byteLength(N):0}function D(N){return typeof N=="string"||N instanceof w}z.exports=h}).call(this)}).call(this,A("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(A,z,q){var w=1e3,p=60*w,d=60*p,c=24*d,o=7*c,e=365.25*c;function a(n,t,i,u){var l=t>=1.5*i;return Math.round(n/i)+" "+u+(l?"s":"")}z.exports=function(n,t){t=t||{};var i=typeof n;if(i==="string"&&n.length>0)return function(u){if(!((u=String(u)).length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!l){var f=parseFloat(l[1]);switch((l[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return f*e;case"weeks":case"week":case"w":return f*o;case"days":case"day":case"d":return f*c;case"hours":case"hour":case"hrs":case"hr":case"h":return f*d;case"minutes":case"minute":case"mins":case"min":case"m":return f*p;case"seconds":case"second":case"secs":case"sec":case"s":return f*w;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(n);if(i==="number"&&isFinite(n))return t.long?function(u){var l=Math.abs(u);return l>=c?a(u,l,c,"day"):l>=d?a(u,l,d,"hour"):l>=p?a(u,l,p,"minute"):l>=w?a(u,l,w,"second"):u+" ms"}(n):function(u){var l=Math.abs(u);return l>=c?Math.round(u/c)+"d":l>=d?Math.round(u/d)+"h":l>=p?Math.round(u/p)+"m":l>=w?Math.round(u/w)+"s":u+"ms"}(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))}},{}],46:[function(A,z,q){const w=A("./lib/number-allocator.js");z.exports.NumberAllocator=w},{"./lib/number-allocator.js":47}],47:[function(A,z,q){const w=A("js-sdsl").Set,p=A("debug")("number-allocator:trace"),d=A("debug")("number-allocator:error");function c(e,a){this.low=e,this.high=a}function o(e,a){if(!(this instanceof o))return new o(e,a);this.min=e,this.max=a,this.ss=new w([],(n,t)=>n.compare(t)),p("Create"),this.clear()}c.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},c.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return p("alloc():empty"),null;const e=this.ss.front(),a=e.low;return a+1<=e.high?++e.low:this.ss.eraseElementByPos(0),p("alloc():"+a),a},o.prototype.use=function(e){const a=new c(e,e),n=this.ss.lowerBound(a);if(n){if(n.equals(a))return this.ss.eraseElementByValue(n),p("use():"+e),!0;if(n.low>e)return!1;if(n.low===e)return++n.low,p("use():"+e),!0;if(n.high===e)return--n.high,p("use():"+e),!0;const t=n.low;return n.low=e+1,this.ss.insert(new c(t,e-1)),p("use():"+e),!0}return p("use():failed"),!1},o.prototype.free=function(e){if(e<this.min||e>this.max)return void d("free():"+e+" is out of range");const a=new c(e,e),n=this.ss.lowerBound(a);if(n){if(n.low<=e&&e<=n.high)return void d("free():"+e+" has already been vacant");if(n===this.ss.front())e+1===n.low?--n.low:this.ss.insert(a);else{const t=this.ss.reverseLowerBound(a);t.high+1===e?e+1===n.low?(this.ss.eraseElementByValue(t),n.low=t.low):t.high=e:e+1===n.low?n.low=e:this.ss.insert(a)}}else{if(n===this.ss.front())return void this.ss.insert(a);const t=this.ss.reverseLowerBound(a);t.high+1===e?t.high=e:this.ss.insert(a)}p("free():"+e)},o.prototype.clear=function(){p("clear()"),this.ss.clear(),this.ss.insert(new c(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(const e of this.ss)console.log(e)},z.exports=o},{debug:18,"js-sdsl":36}],48:[function(A,z,q){var w=A("wrappy");function p(c){var o=function(){return o.called?o.value:(o.called=!0,o.value=c.apply(this,arguments))};return o.called=!1,o}function d(c){var o=function(){if(o.called)throw new Error(o.onceError);return o.called=!0,o.value=c.apply(this,arguments)},e=c.name||"Function wrapped with `once`";return o.onceError=e+" shouldn't be called more than once",o.called=!1,o}z.exports=w(p),z.exports.strict=w(d),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return d(this)},configurable:!0})})},{wrappy:79}],49:[function(A,z,q){(function(w){(function(){w===void 0||!w.version||w.version.indexOf("v0.")===0||w.version.indexOf("v1.")===0&&w.version.indexOf("v1.8.")!==0?z.exports={nextTick:function(p,d,c,o){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var e,a,n=arguments.length;switch(n){case 0:case 1:return w.nextTick(p);case 2:return w.nextTick(function(){p.call(null,d)});case 3:return w.nextTick(function(){p.call(null,d,c)});case 4:return w.nextTick(function(){p.call(null,d,c,o)});default:for(e=new Array(n-1),a=0;a<e.length;)e[a++]=arguments[a];return w.nextTick(function(){p.apply(null,e)})}}}:z.exports=w}).call(this)}).call(this,A("_process"))},{_process:50}],50:[function(A,z,q){var w,p,d=z.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function e(h){if(w===setTimeout)return setTimeout(h,0);if((w===c||!w)&&setTimeout)return w=setTimeout,setTimeout(h,0);try{return w(h,0)}catch{try{return w.call(null,h,0)}catch{return w.call(this,h,0)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:c}catch{w=c}try{p=typeof clearTimeout=="function"?clearTimeout:o}catch{p=o}})();var a,n=[],t=!1,i=-1;function u(){t&&a&&(t=!1,a.length?n=a.concat(n):i=-1,n.length&&l())}function l(){if(!t){var h=e(u);t=!0;for(var v=n.length;v;){for(a=n,n=[];++i<v;)a&&a[i].run();i=-1,v=n.length}a=null,t=!1,function(x){if(p===clearTimeout)return clearTimeout(x);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(x);try{p(x)}catch{try{return p.call(null,x)}catch{return p.call(this,x)}}}(h)}}function f(h,v){this.fun=h,this.array=v}function g(){}d.nextTick=function(h){var v=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)v[x-1]=arguments[x];n.push(new f(h,v)),n.length!==1||t||e(l)},f.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=g,d.addListener=g,d.once=g,d.off=g,d.removeListener=g,d.removeAllListeners=g,d.emit=g,d.prependListener=g,d.prependOnceListener=g,d.listeners=function(h){return[]},d.binding=function(h){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(h){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],51:[function(A,z,q){(function(w){(function(){(function(p){var d=typeof q=="object"&&q&&!q.nodeType&&q,c=typeof z=="object"&&z&&!z.nodeType&&z,o=typeof w=="object"&&w;o.global!==o&&o.window!==o&&o.self!==o||(p=o);var e,a,n=2147483647,t=36,i=1,u=26,l=38,f=700,g=72,h=128,v="-",x=/^xn--/,E=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=t-i,Q=Math.floor,b=String.fromCharCode;function y(R){throw new RangeError(k[R])}function S(R,O){for(var j=R.length,H=[];j--;)H[j]=O(R[j]);return H}function _(R,O){var j=R.split("@"),H="";return j.length>1&&(H=j[0]+"@",R=j[1]),H+S((R=R.replace(C,".")).split("."),O).join(".")}function I(R){for(var O,j,H=[],F=0,K=R.length;F<K;)(O=R.charCodeAt(F++))>=55296&&O<=56319&&F<K?(64512&(j=R.charCodeAt(F++)))==56320?H.push(((1023&O)<<10)+(1023&j)+65536):(H.push(O),F--):H.push(O);return H}function M(R){return S(R,function(O){var j="";return O>65535&&(j+=b((O-=65536)>>>10&1023|55296),O=56320|1023&O),j+=b(O)}).join("")}function D(R,O){return R+22+75*(R<26)-((O!=0)<<5)}function N(R,O,j){var H=0;for(R=j?Q(R/f):R>>1,R+=Q(R/O);R>V*u>>1;H+=t)R=Q(R/V);return Q(H+(V+1)*R/(R+l))}function P(R){var O,j,H,F,K,$,G,r,s,m,T,L=[],U=R.length,W=0,Z=h,Y=g;for((j=R.lastIndexOf(v))<0&&(j=0),H=0;H<j;++H)R.charCodeAt(H)>=128&&y("not-basic"),L.push(R.charCodeAt(H));for(F=j>0?j+1:0;F<U;){for(K=W,$=1,G=t;F>=U&&y("invalid-input"),((r=(T=R.charCodeAt(F++))-48<10?T-22:T-65<26?T-65:T-97<26?T-97:t)>=t||r>Q((n-W)/$))&&y("overflow"),W+=r*$,!(r<(s=G<=Y?i:G>=Y+u?u:G-Y));G+=t)$>Q(n/(m=t-s))&&y("overflow"),$*=m;Y=N(W-K,O=L.length+1,K==0),Q(W/O)>n-Z&&y("overflow"),Z+=Q(W/O),W%=O,L.splice(W++,0,Z)}return M(L)}function B(R){var O,j,H,F,K,$,G,r,s,m,T,L,U,W,Z,Y=[];for(L=(R=I(R)).length,O=h,j=0,K=g,$=0;$<L;++$)(T=R[$])<128&&Y.push(b(T));for(H=F=Y.length,F&&Y.push(v);H<L;){for(G=n,$=0;$<L;++$)(T=R[$])>=O&&T<G&&(G=T);for(G-O>Q((n-j)/(U=H+1))&&y("overflow"),j+=(G-O)*U,O=G,$=0;$<L;++$)if((T=R[$])<O&&++j>n&&y("overflow"),T==O){for(r=j,s=t;!(r<(m=s<=K?i:s>=K+u?u:s-K));s+=t)Z=r-m,W=t-m,Y.push(b(D(m+Z%W,0))),r=Q(Z/W);Y.push(b(D(r,0))),K=N(j,U,H==F),j=0,++H}++j,++O}return Y.join("")}if(e={version:"1.4.1",ucs2:{decode:I,encode:M},decode:P,encode:B,toASCII:function(R){return _(R,function(O){return E.test(O)?"xn--"+B(O):O})},toUnicode:function(R){return _(R,function(O){return x.test(O)?P(O.slice(4).toLowerCase()):O})}},d&&c)if(z.exports==d)c.exports=e;else for(a in e)e.hasOwnProperty(a)&&(d[a]=e[a]);else p.punycode=e})(this)}).call(this)}).call(this,typeof fe!="undefined"?fe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],52:[function(A,z,q){function w(d,c){return Object.prototype.hasOwnProperty.call(d,c)}z.exports=function(d,c,o,e){c=c||"&",o=o||"=";var a={};if(typeof d!="string"||d.length===0)return a;var n=/\+/g;d=d.split(c);var t=1e3;e&&typeof e.maxKeys=="number"&&(t=e.maxKeys);var i=d.length;t>0&&i>t&&(i=t);for(var u=0;u<i;++u){var l,f,g,h,v=d[u].replace(n,"%20"),x=v.indexOf(o);x>=0?(l=v.substr(0,x),f=v.substr(x+1)):(l=v,f=""),g=decodeURIComponent(l),h=decodeURIComponent(f),w(a,g)?p(a[g])?a[g].push(h):a[g]=[a[g],h]:a[g]=h}return a};var p=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"}},{}],53:[function(A,z,q){var w=function(o){switch(typeof o){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}};z.exports=function(o,e,a,n){return e=e||"&",a=a||"=",o===null&&(o=void 0),typeof o=="object"?d(c(o),function(t){var i=encodeURIComponent(w(t))+a;return p(o[t])?d(o[t],function(u){return i+encodeURIComponent(w(u))}).join(e):i+encodeURIComponent(w(o[t]))}).join(e):n?encodeURIComponent(w(n))+a+encodeURIComponent(w(o)):""};var p=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function d(o,e){if(o.map)return o.map(e);for(var a=[],n=0;n<o.length;n++)a.push(e(o[n],n));return a}var c=Object.keys||function(o){var e=[];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&e.push(a);return e}},{}],54:[function(A,z,q){q.decode=q.parse=A("./decode"),q.encode=q.stringify=A("./encode")},{"./decode":52,"./encode":53}],55:[function(A,z,q){var w={};function p(c,o,e){e||(e=Error);var a=function(n){var t,i;function u(l,f,g){return n.call(this,function(h,v,x){return typeof o=="string"?o:o(h,v,x)}(l,f,g))||this}return i=n,(t=u).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,u}(e);a.prototype.name=e.name,a.prototype.code=c,w[c]=a}function d(c,o){if(Array.isArray(c)){var e=c.length;return c=c.map(function(a){return String(a)}),e>2?"one of ".concat(o," ").concat(c.slice(0,e-1).join(", "),", or ")+c[e-1]:e===2?"one of ".concat(o," ").concat(c[0]," or ").concat(c[1]):"of ".concat(o," ").concat(c[0])}return"of ".concat(o," ").concat(String(c))}p("ERR_INVALID_OPT_VALUE",function(c,o){return'The value "'+o+'" is invalid for option "'+c+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(c,o,e){var a,n,t;if(typeof o=="string"&&(n="not ",o.substr(0,n.length)===n)?(a="must not be",o=o.replace(/^not /,"")):a="must be",function(u,l,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-l.length,f)===l}(c," argument"))t="The ".concat(c," ").concat(a," ").concat(d(o,"type"));else{var i=function(u,l,f){return typeof f!="number"&&(f=0),!(f+l.length>u.length)&&u.indexOf(l,f)!==-1}(c,".")?"property":"argument";t='The "'.concat(c,'" ').concat(i," ").concat(a," ").concat(d(o,"type"))}return t+=". Received type ".concat(typeof e)},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),z.exports.codes=w},{}],56:[function(A,z,q){(function(w){(function(){var p=Object.keys||function(u){var l=[];for(var f in u)l.push(f);return l};z.exports=n;var d=A("./_stream_readable"),c=A("./_stream_writable");A("inherits")(n,d);for(var o=p(c.prototype),e=0;e<o.length;e++){var a=o[e];n.prototype[a]||(n.prototype[a]=c.prototype[a])}function n(u){if(!(this instanceof n))return new n(u);d.call(this,u),c.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}function t(){this._writableState.ended||w.nextTick(i,this)}function i(u){u.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}})}).call(this)}).call(this,A("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(A,z,q){z.exports=p;var w=A("./_stream_transform");function p(d){if(!(this instanceof p))return new p(d);w.call(this,d)}A("inherits")(p,w),p.prototype._transform=function(d,c,o){o(null,d)}},{"./_stream_transform":59,inherits:24}],58:[function(A,z,q){(function(w,p){(function(){var d;z.exports=y,y.ReadableState=b,A("events").EventEmitter;var c=function(r,s){return r.listeners(s).length},o=A("./internal/streams/stream"),e=A("buffer").Buffer,a=p.Uint8Array||function(){},n,t=A("util");n=t&&t.debuglog?t.debuglog("stream"):function(){};var i,u,l,f=A("./internal/streams/buffer_list"),g=A("./internal/streams/destroy"),h=A("./internal/streams/state").getHighWaterMark,v=A("../errors").codes,x=v.ERR_INVALID_ARG_TYPE,E=v.ERR_STREAM_PUSH_AFTER_EOF,C=v.ERR_METHOD_NOT_IMPLEMENTED,k=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;A("inherits")(y,o);var V=g.errorOrDestroy,Q=["error","close","destroy","pause","resume"];function b(r,s,m){d=d||A("./_stream_duplex"),r=r||{},typeof m!="boolean"&&(m=s instanceof d),this.objectMode=!!r.objectMode,m&&(this.objectMode=this.objectMode||!!r.readableObjectMode),this.highWaterMark=h(this,r,"readableHighWaterMark",m),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.destroyed=!1,this.defaultEncoding=r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,r.encoding&&(i||(i=A("string_decoder/").StringDecoder),this.decoder=new i(r.encoding),this.encoding=r.encoding)}function y(r){if(d=d||A("./_stream_duplex"),!(this instanceof y))return new y(r);var s=this instanceof d;this._readableState=new b(r,this,s),this.readable=!0,r&&(typeof r.read=="function"&&(this._read=r.read),typeof r.destroy=="function"&&(this._destroy=r.destroy)),o.call(this)}function S(r,s,m,T,L){n("readableAddChunk",s);var U,W=r._readableState;if(s===null)W.reading=!1,function(Z,Y){if(n("onEofChunk"),!Y.ended){if(Y.decoder){var J=Y.decoder.end();J&&J.length&&(Y.buffer.push(J),Y.length+=Y.objectMode?1:J.length)}Y.ended=!0,Y.sync?D(Z):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,N(Z)))}}(r,W);else if(L||(U=function(Z,Y){var J;X=Y,e.isBuffer(X)||X instanceof a||typeof Y=="string"||Y===void 0||Z.objectMode||(J=new x("chunk",["string","Buffer","Uint8Array"],Y));var X;return J}(W,s)),U)V(r,U);else if(W.objectMode||s&&s.length>0)if(typeof s=="string"||W.objectMode||Object.getPrototypeOf(s)===e.prototype||(s=function(Z){return e.from(Z)}(s)),T)W.endEmitted?V(r,new k):_(r,W,s,!0);else if(W.ended)V(r,new E);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!m?(s=W.decoder.write(s),W.objectMode||s.length!==0?_(r,W,s,!1):P(r,W)):_(r,W,s,!1)}else T||(W.reading=!1,P(r,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function _(r,s,m,T){s.flowing&&s.length===0&&!s.sync?(s.awaitDrain=0,r.emit("data",m)):(s.length+=s.objectMode?1:m.length,T?s.buffer.unshift(m):s.buffer.push(m),s.needReadable&&D(r)),P(r,s)}Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(r){this._readableState&&(this._readableState.destroyed=r)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(r,s){s(r)},y.prototype.push=function(r,s){var m,T=this._readableState;return T.objectMode?m=!0:typeof r=="string"&&((s=s||T.defaultEncoding)!==T.encoding&&(r=e.from(r,s),s=""),m=!0),S(this,r,s,!1,m)},y.prototype.unshift=function(r){return S(this,r,null,!0,!1)},y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(r){i||(i=A("string_decoder/").StringDecoder);var s=new i(r);this._readableState.decoder=s,this._readableState.encoding=this._readableState.decoder.encoding;for(var m=this._readableState.buffer.head,T="";m!==null;)T+=s.write(m.data),m=m.next;return this._readableState.buffer.clear(),T!==""&&this._readableState.buffer.push(T),this._readableState.length=T.length,this};var I=1073741824;function M(r,s){return r<=0||s.length===0&&s.ended?0:s.objectMode?1:r!=r?s.flowing&&s.length?s.buffer.head.data.length:s.length:(r>s.highWaterMark&&(s.highWaterMark=function(m){return m>=I?m=I:(m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,m++),m}(r)),r<=s.length?r:s.ended?s.length:(s.needReadable=!0,0))}function D(r){var s=r._readableState;n("emitReadable",s.needReadable,s.emittedReadable),s.needReadable=!1,s.emittedReadable||(n("emitReadable",s.flowing),s.emittedReadable=!0,w.nextTick(N,r))}function N(r){var s=r._readableState;n("emitReadable_",s.destroyed,s.length,s.ended),s.destroyed||!s.length&&!s.ended||(r.emit("readable"),s.emittedReadable=!1),s.needReadable=!s.flowing&&!s.ended&&s.length<=s.highWaterMark,H(r)}function P(r,s){s.readingMore||(s.readingMore=!0,w.nextTick(B,r,s))}function B(r,s){for(;!s.reading&&!s.ended&&(s.length<s.highWaterMark||s.flowing&&s.length===0);){var m=s.length;if(n("maybeReadMore read 0"),r.read(0),m===s.length)break}s.readingMore=!1}function R(r){var s=r._readableState;s.readableListening=r.listenerCount("readable")>0,s.resumeScheduled&&!s.paused?s.flowing=!0:r.listenerCount("data")>0&&r.resume()}function O(r){n("readable nexttick read 0"),r.read(0)}function j(r,s){n("resume",s.reading),s.reading||r.read(0),s.resumeScheduled=!1,r.emit("resume"),H(r),s.flowing&&!s.reading&&r.read(0)}function H(r){var s=r._readableState;for(n("flow",s.flowing);s.flowing&&r.read()!==null;);}function F(r,s){return s.length===0?null:(s.objectMode?m=s.buffer.shift():!r||r>=s.length?(m=s.decoder?s.buffer.join(""):s.buffer.length===1?s.buffer.first():s.buffer.concat(s.length),s.buffer.clear()):m=s.buffer.consume(r,s.decoder),m);var m}function K(r){var s=r._readableState;n("endReadable",s.endEmitted),s.endEmitted||(s.ended=!0,w.nextTick($,s,r))}function $(r,s){if(n("endReadableNT",r.endEmitted,r.length),!r.endEmitted&&r.length===0&&(r.endEmitted=!0,s.readable=!1,s.emit("end"),r.autoDestroy)){var m=s._writableState;(!m||m.autoDestroy&&m.finished)&&s.destroy()}}function G(r,s){for(var m=0,T=r.length;m<T;m++)if(r[m]===s)return m;return-1}y.prototype.read=function(r){n("read",r),r=parseInt(r,10);var s=this._readableState,m=r;if(r!==0&&(s.emittedReadable=!1),r===0&&s.needReadable&&((s.highWaterMark!==0?s.length>=s.highWaterMark:s.length>0)||s.ended))return n("read: emitReadable",s.length,s.ended),s.length===0&&s.ended?K(this):D(this),null;if((r=M(r,s))===0&&s.ended)return s.length===0&&K(this),null;var T,L=s.needReadable;return n("need readable",L),(s.length===0||s.length-r<s.highWaterMark)&&n("length less than watermark",L=!0),s.ended||s.reading?n("reading or ended",L=!1):L&&(n("do read"),s.reading=!0,s.sync=!0,s.length===0&&(s.needReadable=!0),this._read(s.highWaterMark),s.sync=!1,s.reading||(r=M(m,s))),(T=r>0?F(r,s):null)===null?(s.needReadable=s.length<=s.highWaterMark,r=0):(s.length-=r,s.awaitDrain=0),s.length===0&&(s.ended||(s.needReadable=!0),m!==r&&s.ended&&K(this)),T!==null&&this.emit("data",T),T},y.prototype._read=function(r){V(this,new C("_read()"))},y.prototype.pipe=function(r,s){var m=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=r;break;case 1:T.pipes=[T.pipes,r];break;default:T.pipes.push(r)}T.pipesCount+=1,n("pipe count=%d opts=%j",T.pipesCount,s);var L=(!s||s.end!==!1)&&r!==w.stdout&&r!==w.stderr?W:ue;function U(ee,te){n("onunpipe"),ee===m&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,n("cleanup"),r.removeListener("close",le),r.removeListener("finish",se),r.removeListener("drain",Z),r.removeListener("error",X),r.removeListener("unpipe",U),m.removeListener("end",W),m.removeListener("end",ue),m.removeListener("data",J),Y=!0,!T.awaitDrain||r._writableState&&!r._writableState.needDrain||Z())}function W(){n("onend"),r.end()}T.endEmitted?w.nextTick(L):m.once("end",L),r.on("unpipe",U);var Z=function(ee){return function(){var te=ee._readableState;n("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&c(ee,"data")&&(te.flowing=!0,H(ee))}}(m);r.on("drain",Z);var Y=!1;function J(ee){n("ondata");var te=r.write(ee);n("dest.write",te),te===!1&&((T.pipesCount===1&&T.pipes===r||T.pipesCount>1&&G(T.pipes,r)!==-1)&&!Y&&(n("false write response, pause",T.awaitDrain),T.awaitDrain++),m.pause())}function X(ee){n("onerror",ee),ue(),r.removeListener("error",X),c(r,"error")===0&&V(r,ee)}function le(){r.removeListener("finish",se),ue()}function se(){n("onfinish"),r.removeListener("close",le),ue()}function ue(){n("unpipe"),m.unpipe(r)}return m.on("data",J),function(ee,te,pe){if(typeof ee.prependListener=="function")return ee.prependListener(te,pe);ee._events&&ee._events[te]?Array.isArray(ee._events[te])?ee._events[te].unshift(pe):ee._events[te]=[pe,ee._events[te]]:ee.on(te,pe)}(r,"error",X),r.once("close",le),r.once("finish",se),r.emit("pipe",m),T.flowing||(n("pipe resume"),m.resume()),r},y.prototype.unpipe=function(r){var s=this._readableState,m={hasUnpiped:!1};if(s.pipesCount===0)return this;if(s.pipesCount===1)return r&&r!==s.pipes?this:(r||(r=s.pipes),s.pipes=null,s.pipesCount=0,s.flowing=!1,r&&r.emit("unpipe",this,m),this);if(!r){var T=s.pipes,L=s.pipesCount;s.pipes=null,s.pipesCount=0,s.flowing=!1;for(var U=0;U<L;U++)T[U].emit("unpipe",this,{hasUnpiped:!1});return this}var W=G(s.pipes,r);return W===-1?this:(s.pipes.splice(W,1),s.pipesCount-=1,s.pipesCount===1&&(s.pipes=s.pipes[0]),r.emit("unpipe",this,m),this)},y.prototype.on=function(r,s){var m=o.prototype.on.call(this,r,s),T=this._readableState;return r==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):r==="readable"&&(T.endEmitted||T.readableListening||(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,n("on readable",T.length,T.reading),T.length?D(this):T.reading||w.nextTick(O,this))),m},y.prototype.addListener=y.prototype.on,y.prototype.removeListener=function(r,s){var m=o.prototype.removeListener.call(this,r,s);return r==="readable"&&w.nextTick(R,this),m},y.prototype.removeAllListeners=function(r){var s=o.prototype.removeAllListeners.apply(this,arguments);return r!=="readable"&&r!==void 0||w.nextTick(R,this),s},y.prototype.resume=function(){var r=this._readableState;return r.flowing||(n("resume"),r.flowing=!r.readableListening,function(s,m){m.resumeScheduled||(m.resumeScheduled=!0,w.nextTick(j,s,m))}(this,r)),r.paused=!1,this},y.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},y.prototype.wrap=function(r){var s=this,m=this._readableState,T=!1;for(var L in r.on("end",function(){if(n("wrapped end"),m.decoder&&!m.ended){var W=m.decoder.end();W&&W.length&&s.push(W)}s.push(null)}),r.on("data",function(W){n("wrapped data"),m.decoder&&(W=m.decoder.write(W)),(!m.objectMode||W!=null)&&(m.objectMode||W&&W.length)&&(s.push(W)||(T=!0,r.pause()))}),r)this[L]===void 0&&typeof r[L]=="function"&&(this[L]=function(W){return function(){return r[W].apply(r,arguments)}}(L));for(var U=0;U<Q.length;U++)r.on(Q[U],this.emit.bind(this,Q[U]));return this._read=function(W){n("wrapped _read",W),T&&(T=!1,r.resume())},this},typeof Symbol=="function"&&(y.prototype[Symbol.asyncIterator]=function(){return u===void 0&&(u=A("./internal/streams/async_iterator")),u(this)}),Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(y.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(y.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(r){this._readableState&&(this._readableState.flowing=r)}}),y._fromList=F,Object.defineProperty(y.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(y.from=function(r,s){return l===void 0&&(l=A("./internal/streams/from")),l(y,r,s)})}).call(this)}).call(this,A("_process"),typeof fe!="undefined"?fe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(A,z,q){z.exports=a;var w=A("../errors").codes,p=w.ERR_METHOD_NOT_IMPLEMENTED,d=w.ERR_MULTIPLE_CALLBACK,c=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=w.ERR_TRANSFORM_WITH_LENGTH_0,e=A("./_stream_duplex");function a(i){if(!(this instanceof a))return new a(i);e.call(this,i),this._transformState={afterTransform:function(u,l){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(g===null)return this.emit("error",new d);f.writechunk=null,f.writecb=null,l!=null&&this.push(l),g(u);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",n)}function n(){var i=this;typeof this._flush!="function"||this._readableState.destroyed?t(this,null,null):this._flush(function(u,l){t(i,u,l)})}function t(i,u,l){if(u)return i.emit("error",u);if(l!=null&&i.push(l),i._writableState.length)throw new o;if(i._transformState.transforming)throw new c;return i.push(null)}A("inherits")(a,e),a.prototype.push=function(i,u){return this._transformState.needTransform=!1,e.prototype.push.call(this,i,u)},a.prototype._transform=function(i,u,l){l(new p("_transform()"))},a.prototype._write=function(i,u,l){var f=this._transformState;if(f.writecb=l,f.writechunk=i,f.writeencoding=u,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(i){var u=this._transformState;u.writechunk===null||u.transforming?u.needTransform=!0:(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform))},a.prototype._destroy=function(i,u){e.prototype._destroy.call(this,i,function(l){u(l)})}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(A,z,q){(function(w,p){(function(){function d(P){var B=this;this.next=null,this.entry=null,this.finish=function(){(function(R,O,j){var H=R.entry;for(R.entry=null;H;){var F=H.callback;O.pendingcb--,F(j),H=H.next}O.corkedRequestsFree.next=R})(B,P)}}var c;z.exports=y,y.WritableState=b;var o={deprecate:A("util-deprecate")},e=A("./internal/streams/stream"),a=A("buffer").Buffer,n=p.Uint8Array||function(){},t,i=A("./internal/streams/destroy"),u=A("./internal/streams/state").getHighWaterMark,l=A("../errors").codes,f=l.ERR_INVALID_ARG_TYPE,g=l.ERR_METHOD_NOT_IMPLEMENTED,h=l.ERR_MULTIPLE_CALLBACK,v=l.ERR_STREAM_CANNOT_PIPE,x=l.ERR_STREAM_DESTROYED,E=l.ERR_STREAM_NULL_VALUES,C=l.ERR_STREAM_WRITE_AFTER_END,k=l.ERR_UNKNOWN_ENCODING,V=i.errorOrDestroy;function Q(){}function b(P,B,R){c=c||A("./_stream_duplex"),P=P||{},typeof R!="boolean"&&(R=B instanceof c),this.objectMode=!!P.objectMode,R&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=u(this,P,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=P.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(H,F){var K=H._writableState,$=K.sync,G=K.writecb;if(typeof G!="function")throw new h;if(function(s){s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0}(K),F)(function(s,m,T,L,U){--m.pendingcb,T?(w.nextTick(U,L),w.nextTick(N,s,m),s._writableState.errorEmitted=!0,V(s,L)):(U(L),s._writableState.errorEmitted=!0,V(s,L),N(s,m))})(H,K,$,F,G);else{var r=M(K)||H.destroyed;r||K.corked||K.bufferProcessing||!K.bufferedRequest||I(H,K),$?w.nextTick(_,H,K,r,G):_(H,K,r,G)}})(B,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function y(P){var B=this instanceof(c=c||A("./_stream_duplex"));if(!B&&!t.call(y,this))return new y(P);this._writableState=new b(P,this,B),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),e.call(this)}function S(P,B,R,O,j,H,F){B.writelen=O,B.writecb=F,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new x("write")):R?P._writev(j,B.onwrite):P._write(j,H,B.onwrite),B.sync=!1}function _(P,B,R,O){R||function(j,H){H.length===0&&H.needDrain&&(H.needDrain=!1,j.emit("drain"))}(P,B),B.pendingcb--,O(),N(P,B)}function I(P,B){B.bufferProcessing=!0;var R=B.bufferedRequest;if(P._writev&&R&&R.next){var O=B.bufferedRequestCount,j=new Array(O),H=B.corkedRequestsFree;H.entry=R;for(var F=0,K=!0;R;)j[F]=R,R.isBuf||(K=!1),R=R.next,F+=1;j.allBuffers=K,S(P,B,!0,B.length,j,"",H.finish),B.pendingcb++,B.lastBufferedRequest=null,H.next?(B.corkedRequestsFree=H.next,H.next=null):B.corkedRequestsFree=new d(B),B.bufferedRequestCount=0}else{for(;R;){var $=R.chunk,G=R.encoding,r=R.callback;if(S(P,B,!1,B.objectMode?1:$.length,$,G,r),R=R.next,B.bufferedRequestCount--,B.writing)break}R===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=R,B.bufferProcessing=!1}function M(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function D(P,B){P._final(function(R){B.pendingcb--,R&&V(P,R),B.prefinished=!0,P.emit("prefinish"),N(P,B)})}function N(P,B){var R=M(B);if(R&&(function(j,H){H.prefinished||H.finalCalled||(typeof j._final!="function"||H.destroyed?(H.prefinished=!0,j.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,w.nextTick(D,j,H)))}(P,B),B.pendingcb===0&&(B.finished=!0,P.emit("finish"),B.autoDestroy))){var O=P._readableState;(!O||O.autoDestroy&&O.endEmitted)&&P.destroy()}return R}A("inherits")(y,e),b.prototype.getBuffer=function(){for(var P=this.bufferedRequest,B=[];P;)B.push(P),P=P.next;return B},function(){try{Object.defineProperty(b.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(t=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(P){return!!t.call(this,P)||this===y&&P&&P._writableState instanceof b}})):t=function(P){return P instanceof this},y.prototype.pipe=function(){V(this,new v)},y.prototype.write=function(P,B,R){var O,j=this._writableState,H=!1,F=!j.objectMode&&(O=P,a.isBuffer(O)||O instanceof n);return F&&!a.isBuffer(P)&&(P=function(K){return a.from(K)}(P)),typeof B=="function"&&(R=B,B=null),F?B="buffer":B||(B=j.defaultEncoding),typeof R!="function"&&(R=Q),j.ending?function(K,$){var G=new C;V(K,G),w.nextTick($,G)}(this,R):(F||function(K,$,G,r){var s;return G===null?s=new E:typeof G=="string"||$.objectMode||(s=new f("chunk",["string","Buffer"],G)),!s||(V(K,s),w.nextTick(r,s),!1)}(this,j,P,R))&&(j.pendingcb++,H=function(K,$,G,r,s,m){if(!G){var T=function(Z,Y,J){return Z.objectMode||Z.decodeStrings===!1||typeof Y!="string"||(Y=a.from(Y,J)),Y}($,r,s);r!==T&&(G=!0,s="buffer",r=T)}var L=$.objectMode?1:r.length;$.length+=L;var U=$.length<$.highWaterMark;if(U||($.needDrain=!0),$.writing||$.corked){var W=$.lastBufferedRequest;$.lastBufferedRequest={chunk:r,encoding:s,isBuf:G,callback:m,next:null},W?W.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else S(K,$,!1,L,r,s,m);return U}(this,j,F,P,B,R)),H},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||I(this,P))},y.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new k(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(P,B,R){R(new g("_write()"))},y.prototype._writev=null,y.prototype.end=function(P,B,R){var O=this._writableState;return typeof P=="function"?(R=P,P=null,B=null):typeof B=="function"&&(R=B,B=null),P!=null&&this.write(P,B),O.corked&&(O.corked=1,this.uncork()),O.ending||function(j,H,F){H.ending=!0,N(j,H),F&&(H.finished?w.nextTick(F):j.once("finish",F)),H.ended=!0,j.writable=!1}(this,O,R),this},Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),y.prototype.destroy=i.destroy,y.prototype._undestroy=i.undestroy,y.prototype._destroy=function(P,B){B(P)}}).call(this)}).call(this,A("_process"),typeof fe!="undefined"?fe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(A,z,q){(function(w){(function(){var p;function d(v,x,E){return x in v?Object.defineProperty(v,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[x]=E,v}var c=A("./end-of-stream"),o=Symbol("lastResolve"),e=Symbol("lastReject"),a=Symbol("error"),n=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),u=Symbol("stream");function l(v,x){return{value:v,done:x}}function f(v){var x=v[o];if(x!==null){var E=v[u].read();E!==null&&(v[t]=null,v[o]=null,v[e]=null,x(l(E,!1)))}}var g=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((d(p={get stream(){return this[u]},next:function(){var v=this,x=this[a];if(x!==null)return Promise.reject(x);if(this[n])return Promise.resolve(l(void 0,!0));if(this[u].destroyed)return new Promise(function(V,Q){w.nextTick(function(){v[a]?Q(v[a]):V(l(void 0,!0))})});var E,C=this[t];if(C)E=new Promise(function(V,Q){return function(b,y){V.then(function(){Q[n]?b(l(void 0,!0)):Q[i](b,y)},y)}}(C,this));else{var k=this[u].read();if(k!==null)return Promise.resolve(l(k,!1));E=new Promise(this[i])}return this[t]=E,E}},Symbol.asyncIterator,function(){return this}),d(p,"return",function(){var v=this;return new Promise(function(x,E){v[u].destroy(null,function(C){C?E(C):x(l(void 0,!0))})})}),p),g);z.exports=function(v){var x,E=Object.create(h,(d(x={},u,{value:v,writable:!0}),d(x,o,{value:null,writable:!0}),d(x,e,{value:null,writable:!0}),d(x,a,{value:null,writable:!0}),d(x,n,{value:v._readableState.endEmitted,writable:!0}),d(x,i,{value:function(C,k){var V=E[u].read();V?(E[t]=null,E[o]=null,E[e]=null,C(l(V,!1))):(E[o]=C,E[e]=k)},writable:!0}),x));return E[t]=null,c(v,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=E[e];return k!==null&&(E[t]=null,E[o]=null,E[e]=null,k(C)),void(E[a]=C)}var V=E[o];V!==null&&(E[t]=null,E[o]=null,E[e]=null,V(l(void 0,!0))),E[n]=!0}),v.on("readable",function(C){w.nextTick(f,C)}.bind(null,E)),E}}).call(this)}).call(this,A("_process"))},{"./end-of-stream":64,_process:50}],62:[function(A,z,q){function w(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);n&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),t.push.apply(t,i)}return t}function p(a,n,t){return n in a?Object.defineProperty(a,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[n]=t,a}function d(a,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}var c=A("buffer").Buffer,o=A("util").inspect,e=o&&o.custom||"inspect";z.exports=function(){function a(){(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}var n,t;return n=a,(t=[{key:"push",value:function(i){var u={data:i,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(i){var u={data:i,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(i){if(this.length===0)return"";for(var u=this.head,l=""+u.data;u=u.next;)l+=i+u.data;return l}},{key:"concat",value:function(i){if(this.length===0)return c.alloc(0);for(var u,l,f,g=c.allocUnsafe(i>>>0),h=this.head,v=0;h;)u=h.data,l=g,f=v,c.prototype.copy.call(u,l,f),v+=h.data.length,h=h.next;return g}},{key:"consume",value:function(i,u){var l;return i<this.head.data.length?(l=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):l=i===this.head.data.length?this.shift():u?this._getString(i):this._getBuffer(i),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(i){var u=this.head,l=1,f=u.data;for(i-=f.length;u=u.next;){var g=u.data,h=i>g.length?g.length:i;if(h===g.length?f+=g:f+=g.slice(0,i),(i-=h)===0){h===g.length?(++l,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=g.slice(h));break}++l}return this.length-=l,f}},{key:"_getBuffer",value:function(i){var u=c.allocUnsafe(i),l=this.head,f=1;for(l.data.copy(u),i-=l.data.length;l=l.next;){var g=l.data,h=i>g.length?g.length:i;if(g.copy(u,u.length-i,0,h),(i-=h)===0){h===g.length?(++f,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=g.slice(h));break}++f}return this.length-=f,u}},{key:e,value:function(i,u){return o(this,function(l){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?w(Object(g),!0).forEach(function(h){p(l,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):w(Object(g)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(g,h))})}return l}({},u,{depth:0,customInspect:!1}))}}])&&d(n.prototype,t),a}()},{buffer:17,util:16}],63:[function(A,z,q){(function(w){(function(){function p(o,e){c(o,e),d(o)}function d(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(o,e){o.emit("error",e)}z.exports={destroy:function(o,e){var a=this,n=this._readableState&&this._readableState.destroyed,t=this._writableState&&this._writableState.destroyed;return n||t?(e?e(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick(c,this,o)):w.nextTick(c,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(i){!e&&i?a._writableState?a._writableState.errorEmitted?w.nextTick(d,a):(a._writableState.errorEmitted=!0,w.nextTick(p,a,i)):w.nextTick(p,a,i):e?(w.nextTick(d,a),e(i)):w.nextTick(d,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,e){var a=o._readableState,n=o._writableState;a&&a.autoDestroy||n&&n.autoDestroy?o.destroy(e):o.emit("error",e)}}}).call(this)}).call(this,A("_process"))},{_process:50}],64:[function(A,z,q){var w=A("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function p(){}z.exports=function d(c,o,e){if(typeof o=="function")return d(c,null,o);o||(o={}),e=function(x){var E=!1;return function(){if(!E){E=!0;for(var C=arguments.length,k=new Array(C),V=0;V<C;V++)k[V]=arguments[V];x.apply(this,k)}}}(e||p);var a=o.readable||o.readable!==!1&&c.readable,n=o.writable||o.writable!==!1&&c.writable,t=function(){c.writable||u()},i=c._writableState&&c._writableState.finished,u=function(){n=!1,i=!0,a||e.call(c)},l=c._readableState&&c._readableState.endEmitted,f=function(){a=!1,l=!0,n||e.call(c)},g=function(x){e.call(c,x)},h=function(){var x;return a&&!l?(c._readableState&&c._readableState.ended||(x=new w),e.call(c,x)):n&&!i?(c._writableState&&c._writableState.ended||(x=new w),e.call(c,x)):void 0},v=function(){c.req.on("finish",u)};return function(x){return x.setHeader&&typeof x.abort=="function"}(c)?(c.on("complete",u),c.on("abort",h),c.req?v():c.on("request",v)):n&&!c._writableState&&(c.on("end",t),c.on("close",t)),c.on("end",f),c.on("finish",u),o.error!==!1&&c.on("error",g),c.on("close",h),function(){c.removeListener("complete",u),c.removeListener("abort",h),c.removeListener("request",v),c.req&&c.req.removeListener("finish",u),c.removeListener("end",t),c.removeListener("close",t),c.removeListener("finish",u),c.removeListener("end",f),c.removeListener("error",g),c.removeListener("close",h)}}},{"../../../errors":55}],65:[function(A,z,q){z.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(A,z,q){var w,p=A("../../../errors").codes,d=p.ERR_MISSING_ARGS,c=p.ERR_STREAM_DESTROYED;function o(n){if(n)throw n}function e(n){n()}function a(n,t){return n.pipe(t)}z.exports=function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];var u,l=function(g){return g.length?typeof g[g.length-1]!="function"?o:g.pop():o}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new d("streams");var f=t.map(function(g,h){var v=h<t.length-1;return function(x,E,C,k){k=function(b){var y=!1;return function(){y||(y=!0,b.apply(void 0,arguments))}}(k);var V=!1;x.on("close",function(){V=!0}),w===void 0&&(w=A("./end-of-stream")),w(x,{readable:E,writable:C},function(b){if(b)return k(b);V=!0,k()});var Q=!1;return function(b){if(!V&&!Q)return Q=!0,function(y){return y.setHeader&&typeof y.abort=="function"}(x)?x.abort():typeof x.destroy=="function"?x.destroy():void k(b||new c("pipe"))}}(g,v,h>0,function(x){u||(u=x),x&&f.forEach(e),v||(f.forEach(e),l(u))})});return t.reduce(a)}},{"../../../errors":55,"./end-of-stream":64}],67:[function(A,z,q){var w=A("../../../errors").codes.ERR_INVALID_OPT_VALUE;z.exports={getHighWaterMark:function(p,d,c,o){var e=function(a,n,t){return a.highWaterMark!=null?a.highWaterMark:n?a[t]:null}(d,o,c);if(e!=null){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new w(o?c:"highWaterMark",e);return Math.floor(e)}return p.objectMode?16:16384}}},{"../../../errors":55}],68:[function(A,z,q){z.exports=A("events").EventEmitter},{events:22}],69:[function(A,z,q){(q=z.exports=A("./lib/_stream_readable.js")).Stream=q,q.Readable=q,q.Writable=A("./lib/_stream_writable.js"),q.Duplex=A("./lib/_stream_duplex.js"),q.Transform=A("./lib/_stream_transform.js"),q.PassThrough=A("./lib/_stream_passthrough.js"),q.finished=A("./lib/internal/streams/end-of-stream.js"),q.pipeline=A("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(A,z,q){z.exports=function(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var w;if(arguments.length>0){w=new Array(arguments.length-2);for(var p=0;p<w.length;p++)w[p]=arguments[p+2]}return new function(d,c,o){var e=this;this._callback=d,this._args=o,this._interval=setInterval(d,c,this._args),this.reschedule=function(a){a||(a=e._interval),e._interval&&clearInterval(e._interval),e._interval=setInterval(e._callback,a,e._args)},this.clear=function(){e._interval&&(clearInterval(e._interval),e._interval=void 0)},this.destroy=function(){e._interval&&clearInterval(e._interval),e._callback=void 0,e._interval=void 0,e._args=void 0}}(arguments[0],arguments[1],w)}},{}],71:[function(A,z,q){z.exports=A("./index.js")()},{"./index.js":72}],72:[function(A,z,q){(function(w){(function(){function p(d){return d instanceof w?w.from(d):new d.constructor(d.buffer.slice(),d.byteOffset,d.length)}z.exports=function(d){return(d=d||{}).circles?function(o){var e=[],a=[];return o.proto?function t(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return n(i,t);if(i instanceof Map)return new Map(n(Array.from(i),t));if(i instanceof Set)return new Set(n(Array.from(i),t));var u={};for(var l in e.push(i),a.push(u),i){var f=i[l];if(typeof f!="object"||f===null)u[l]=f;else if(f instanceof Date)u[l]=new Date(f);else if(f instanceof Map)u[l]=new Map(n(Array.from(f),t));else if(f instanceof Set)u[l]=new Set(n(Array.from(f),t));else if(ArrayBuffer.isView(f))u[l]=p(f);else{var g=e.indexOf(f);u[l]=g!==-1?a[g]:t(f)}}return e.pop(),a.pop(),u}:function t(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return n(i,t);if(i instanceof Map)return new Map(n(Array.from(i),t));if(i instanceof Set)return new Set(n(Array.from(i),t));var u={};for(var l in e.push(i),a.push(u),i)if(Object.hasOwnProperty.call(i,l)!==!1){var f=i[l];if(typeof f!="object"||f===null)u[l]=f;else if(f instanceof Date)u[l]=new Date(f);else if(f instanceof Map)u[l]=new Map(n(Array.from(f),t));else if(f instanceof Set)u[l]=new Set(n(Array.from(f),t));else if(ArrayBuffer.isView(f))u[l]=p(f);else{var g=e.indexOf(f);u[l]=g!==-1?a[g]:t(f)}}return e.pop(),a.pop(),u};function n(t,i){for(var u=Object.keys(t),l=new Array(u.length),f=0;f<u.length;f++){var g=u[f],h=t[g];if(typeof h!="object"||h===null)l[g]=h;else if(h instanceof Date)l[g]=new Date(h);else if(ArrayBuffer.isView(h))l[g]=p(h);else{var v=e.indexOf(h);l[g]=v!==-1?a[v]:i(h)}}return l}}(d):d.proto?function o(e){if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return c(e,o);if(e instanceof Map)return new Map(c(Array.from(e),o));if(e instanceof Set)return new Set(c(Array.from(e),o));var a={};for(var n in e){var t=e[n];typeof t!="object"||t===null?a[n]=t:t instanceof Date?a[n]=new Date(t):t instanceof Map?a[n]=new Map(c(Array.from(t),o)):t instanceof Set?a[n]=new Set(c(Array.from(t),o)):ArrayBuffer.isView(t)?a[n]=p(t):a[n]=o(t)}return a}:function o(e){if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return c(e,o);if(e instanceof Map)return new Map(c(Array.from(e),o));if(e instanceof Set)return new Set(c(Array.from(e),o));var a={};for(var n in e)if(Object.hasOwnProperty.call(e,n)!==!1){var t=e[n];typeof t!="object"||t===null?a[n]=t:t instanceof Date?a[n]=new Date(t):t instanceof Map?a[n]=new Map(c(Array.from(t),o)):t instanceof Set?a[n]=new Set(c(Array.from(t),o)):ArrayBuffer.isView(t)?a[n]=p(t):a[n]=o(t)}return a};function c(o,e){for(var a=Object.keys(o),n=new Array(a.length),t=0;t<a.length;t++){var i=a[t],u=o[i];typeof u!="object"||u===null?n[i]=u:u instanceof Date?n[i]=new Date(u):ArrayBuffer.isView(u)?n[i]=p(u):n[i]=e(u)}return n}}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17}],73:[function(A,z,q){var w=A("buffer"),p=w.Buffer;function d(o,e){for(var a in o)e[a]=o[a]}function c(o,e,a){return p(o,e,a)}p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?z.exports=w:(d(w,q),q.Buffer=c),c.prototype=Object.create(p.prototype),d(p,c),c.from=function(o,e,a){if(typeof o=="number")throw new TypeError("Argument must not be a number");return p(o,e,a)},c.alloc=function(o,e,a){if(typeof o!="number")throw new TypeError("Argument must be a number");var n=p(o);return e!==void 0?typeof a=="string"?n.fill(e,a):n.fill(e):n.fill(0),n},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return p(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(o)}},{buffer:17}],74:[function(A,z,q){z.exports=function(w){var p=w._readableState;return p?p.objectMode||typeof w._duplexState=="number"?w.read():w.read((d=p,d.buffer.length?d.buffer.head?d.buffer.head.data.length:d.buffer[0].length:d.length)):null;var d}},{}],75:[function(A,z,q){var w=A("safe-buffer").Buffer,p=w.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(l){var f;switch(this.encoding=function(g){var h=function(v){if(!v)return"utf8";for(var x;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(x)return;v=(""+v).toLowerCase(),x=!0}}(g);if(typeof h!="string"&&(w.isEncoding===p||!p(g)))throw new Error("Unknown encoding: "+g);return h||g}(l),this.encoding){case"utf16le":this.text=e,this.end=a,f=4;break;case"utf8":this.fillLast=o,f=4;break;case"base64":this.text=n,this.end=t,f=3;break;default:return this.write=i,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(f)}function c(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function o(l){var f=this.lastTotal-this.lastNeed,g=function(h,v,x){if((192&v[0])!=128)return h.lastNeed=0,"\uFFFD";if(h.lastNeed>1&&v.length>1){if((192&v[1])!=128)return h.lastNeed=1,"\uFFFD";if(h.lastNeed>2&&v.length>2&&(192&v[2])!=128)return h.lastNeed=2,"\uFFFD"}}(this,l);return g!==void 0?g:this.lastNeed<=l.length?(l.copy(this.lastChar,f,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,f,0,l.length),void(this.lastNeed-=l.length))}function e(l,f){if((l.length-f)%2==0){var g=l.toString("utf16le",f);if(g){var h=g.charCodeAt(g.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",f,l.length-1)}function a(l){var f=l&&l.length?this.write(l):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return f+this.lastChar.toString("utf16le",0,g)}return f}function n(l,f){var g=(l.length-f)%3;return g===0?l.toString("base64",f):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",f,l.length-g))}function t(l){var f=l&&l.length?this.write(l):"";return this.lastNeed?f+this.lastChar.toString("base64",0,3-this.lastNeed):f}function i(l){return l.toString(this.encoding)}function u(l){return l&&l.length?this.write(l):""}q.StringDecoder=d,d.prototype.write=function(l){if(l.length===0)return"";var f,g;if(this.lastNeed){if((f=this.fillLast(l))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<l.length?f?f+this.text(l,g):this.text(l,g):f||""},d.prototype.end=function(l){var f=l&&l.length?this.write(l):"";return this.lastNeed?f+"\uFFFD":f},d.prototype.text=function(l,f){var g=function(v,x,E){var C=x.length-1;if(C<E)return 0;var k=c(x[C]);return k>=0?(k>0&&(v.lastNeed=k-1),k):--C<E||k===-2?0:(k=c(x[C]))>=0?(k>0&&(v.lastNeed=k-2),k):--C<E||k===-2?0:(k=c(x[C]))>=0?(k>0&&(k===2?k=0:v.lastNeed=k-3),k):0}(this,l,f);if(!this.lastNeed)return l.toString("utf8",f);this.lastTotal=g;var h=l.length-(g-this.lastNeed);return l.copy(this.lastChar,0,h),l.toString("utf8",f,h)},d.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},{"safe-buffer":73}],76:[function(A,z,q){var w=A("punycode"),p=A("./util");function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}q.parse=x,q.resolve=function(E,C){return x(E,!1,!0).resolve(C)},q.resolveObject=function(E,C){return E?x(E,!1,!0).resolveObject(C):C},q.format=function(E){return p.isString(E)&&(E=x(E)),E instanceof d?E.format():d.prototype.format.call(E)},q.Url=d;var c=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),n=["'"].concat(a),t=["%","/","?",";","#"].concat(n),i=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=A("querystring");function x(E,C,k){if(E&&p.isObject(E)&&E instanceof d)return E;var V=new d;return V.parse(E,C,k),V}d.prototype.parse=function(E,C,k){if(!p.isString(E))throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var V=E.indexOf("?"),Q=V!==-1&&V<E.indexOf("#")?"?":"#",b=E.split(Q);b[0]=b[0].replace(/\\/g,"/");var y=E=b.join(Q);if(y=y.trim(),!k&&E.split("#").length===1){var S=e.exec(y);if(S)return this.path=y,this.href=y,this.pathname=S[1],S[2]?(this.search=S[2],this.query=C?v.parse(this.search.substr(1)):this.search.substr(1)):C&&(this.search="",this.query={}),this}var _=c.exec(y);if(_){var I=(_=_[0]).toLowerCase();this.protocol=I,y=y.substr(_.length)}if(k||_||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var M=y.substr(0,2)==="//";!M||_&&g[_]||(y=y.substr(2),this.slashes=!0)}if(!g[_]&&(M||_&&!h[_])){for(var D,N,P=-1,B=0;B<i.length;B++)(R=y.indexOf(i[B]))!==-1&&(P===-1||R<P)&&(P=R);for((N=P===-1?y.lastIndexOf("@"):y.lastIndexOf("@",P))!==-1&&(D=y.slice(0,N),y=y.slice(N+1),this.auth=decodeURIComponent(D)),P=-1,B=0;B<t.length;B++){var R;(R=y.indexOf(t[B]))!==-1&&(P===-1||R<P)&&(P=R)}P===-1&&(P=y.length),this.host=y.slice(0,P),y=y.slice(P),this.parseHost(),this.hostname=this.hostname||"";var O=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!O)for(var j=this.hostname.split(/\./),H=(B=0,j.length);B<H;B++){var F=j[B];if(F&&!F.match(u)){for(var K="",$=0,G=F.length;$<G;$++)F.charCodeAt($)>127?K+="x":K+=F[$];if(!K.match(u)){var r=j.slice(0,B),s=j.slice(B+1),m=F.match(l);m&&(r.push(m[1]),s.unshift(m[2])),s.length&&(y="/"+s.join(".")+y),this.hostname=r.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=w.toASCII(this.hostname));var T=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+T,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),y[0]!=="/"&&(y="/"+y))}if(!f[I])for(B=0,H=n.length;B<H;B++){var U=n[B];if(y.indexOf(U)!==-1){var W=encodeURIComponent(U);W===U&&(W=escape(U)),y=y.split(U).join(W)}}var Z=y.indexOf("#");Z!==-1&&(this.hash=y.substr(Z),y=y.slice(0,Z));var Y=y.indexOf("?");if(Y!==-1?(this.search=y.substr(Y),this.query=y.substr(Y+1),C&&(this.query=v.parse(this.query)),y=y.slice(0,Y)):C&&(this.search="",this.query={}),y&&(this.pathname=y),h[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){T=this.pathname||"";var J=this.search||"";this.path=T+J}return this.href=this.format(),this},d.prototype.format=function(){var E=this.auth||"";E&&(E=(E=encodeURIComponent(E)).replace(/%3A/i,":"),E+="@");var C=this.protocol||"",k=this.pathname||"",V=this.hash||"",Q=!1,b="";this.host?Q=E+this.host:this.hostname&&(Q=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Q+=":"+this.port)),this.query&&p.isObject(this.query)&&Object.keys(this.query).length&&(b=v.stringify(this.query));var y=this.search||b&&"?"+b||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||h[C])&&Q!==!1?(Q="//"+(Q||""),k&&k.charAt(0)!=="/"&&(k="/"+k)):Q||(Q=""),V&&V.charAt(0)!=="#"&&(V="#"+V),y&&y.charAt(0)!=="?"&&(y="?"+y),C+Q+(k=k.replace(/[?#]/g,function(S){return encodeURIComponent(S)}))+(y=y.replace("#","%23"))+V},d.prototype.resolve=function(E){return this.resolveObject(x(E,!1,!0)).format()},d.prototype.resolveObject=function(E){if(p.isString(E)){var C=new d;C.parse(E,!1,!0),E=C}for(var k=new d,V=Object.keys(this),Q=0;Q<V.length;Q++){var b=V[Q];k[b]=this[b]}if(k.hash=E.hash,E.href==="")return k.href=k.format(),k;if(E.slashes&&!E.protocol){for(var y=Object.keys(E),S=0;S<y.length;S++){var _=y[S];_!=="protocol"&&(k[_]=E[_])}return h[k.protocol]&&k.hostname&&!k.pathname&&(k.path=k.pathname="/"),k.href=k.format(),k}if(E.protocol&&E.protocol!==k.protocol){if(!h[E.protocol]){for(var I=Object.keys(E),M=0;M<I.length;M++){var D=I[M];k[D]=E[D]}return k.href=k.format(),k}if(k.protocol=E.protocol,E.host||g[E.protocol])k.pathname=E.pathname;else{for(var N=(E.pathname||"").split("/");N.length&&!(E.host=N.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),k.pathname=N.join("/")}if(k.search=E.search,k.query=E.query,k.host=E.host||"",k.auth=E.auth,k.hostname=E.hostname||E.host,k.port=E.port,k.pathname||k.search){var P=k.pathname||"",B=k.search||"";k.path=P+B}return k.slashes=k.slashes||E.slashes,k.href=k.format(),k}var R=k.pathname&&k.pathname.charAt(0)==="/",O=E.host||E.pathname&&E.pathname.charAt(0)==="/",j=O||R||k.host&&E.pathname,H=j,F=k.pathname&&k.pathname.split("/")||[],K=(N=E.pathname&&E.pathname.split("/")||[],k.protocol&&!h[k.protocol]);if(K&&(k.hostname="",k.port=null,k.host&&(F[0]===""?F[0]=k.host:F.unshift(k.host)),k.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(N[0]===""?N[0]=E.host:N.unshift(E.host)),E.host=null),j=j&&(N[0]===""||F[0]==="")),O)k.host=E.host||E.host===""?E.host:k.host,k.hostname=E.hostname||E.hostname===""?E.hostname:k.hostname,k.search=E.search,k.query=E.query,F=N;else if(N.length)F||(F=[]),F.pop(),F=F.concat(N),k.search=E.search,k.query=E.query;else if(!p.isNullOrUndefined(E.search))return K&&(k.hostname=k.host=F.shift(),(m=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=m.shift(),k.host=k.hostname=m.shift())),k.search=E.search,k.query=E.query,p.isNull(k.pathname)&&p.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.href=k.format(),k;if(!F.length)return k.pathname=null,k.search?k.path="/"+k.search:k.path=null,k.href=k.format(),k;for(var $=F.slice(-1)[0],G=(k.host||E.host||F.length>1)&&($==="."||$==="..")||$==="",r=0,s=F.length;s>=0;s--)($=F[s])==="."?F.splice(s,1):$===".."?(F.splice(s,1),r++):r&&(F.splice(s,1),r--);if(!j&&!H)for(;r--;r)F.unshift("..");!j||F[0]===""||F[0]&&F[0].charAt(0)==="/"||F.unshift(""),G&&F.join("/").substr(-1)!=="/"&&F.push("");var m,T=F[0]===""||F[0]&&F[0].charAt(0)==="/";return K&&(k.hostname=k.host=T?"":F.length?F.shift():"",(m=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=m.shift(),k.host=k.hostname=m.shift())),(j=j||k.host&&F.length)&&!T&&F.unshift(""),F.length?k.pathname=F.join("/"):(k.pathname=null,k.path=null),p.isNull(k.pathname)&&p.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.auth=E.auth||k.auth,k.slashes=k.slashes||E.slashes,k.href=k.format(),k},d.prototype.parseHost=function(){var E=this.host,C=o.exec(E);C&&((C=C[0])!==":"&&(this.port=C.substr(1)),E=E.substr(0,E.length-C.length)),E&&(this.hostname=E)}},{"./util":77,punycode:51,querystring:54}],77:[function(A,z,q){z.exports={isString:function(w){return typeof w=="string"},isObject:function(w){return typeof w=="object"&&w!==null},isNull:function(w){return w===null},isNullOrUndefined:function(w){return w==null}}},{}],78:[function(A,z,q){(function(w){(function(){function p(d){try{if(!w.localStorage)return!1}catch{return!1}var c=w.localStorage[d];return c!=null&&String(c).toLowerCase()==="true"}z.exports=function(d,c){if(p("noDeprecation"))return d;var o=!1;return function(){if(!o){if(p("throwDeprecation"))throw new Error(c);p("traceDeprecation")?console.trace(c):console.warn(c),o=!0}return d.apply(this,arguments)}}}).call(this)}).call(this,typeof fe!="undefined"?fe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],79:[function(A,z,q){z.exports=function w(p,d){if(p&&d)return w(p)(d);if(typeof p!="function")throw new TypeError("need wrapper function");return Object.keys(p).forEach(function(o){c[o]=p[o]}),c;function c(){for(var o=new Array(arguments.length),e=0;e<o.length;e++)o[e]=arguments[e];var a=p.apply(this,o),n=o[o.length-1];return typeof a=="function"&&a!==n&&Object.keys(n).forEach(function(t){a[t]=n[t]}),a}}},{}],80:[function(A,z,q){z.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(A,z,q){z.exports=function(){for(var p={},d=0;d<arguments.length;d++){var c=arguments[d];for(var o in c)w.call(c,o)&&(p[o]=c[o])}return p};var w=Object.prototype.hasOwnProperty},{}],82:[function(A,z,q){z.exports=function(w){w.prototype[Symbol.iterator]=function*(){for(let p=this.head;p;p=p.next)yield p.value}}},{}],83:[function(A,z,q){function w(e){var a=this;if(a instanceof w||(a=new w),a.tail=null,a.head=null,a.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){a.push(i)});else if(arguments.length>0)for(var n=0,t=arguments.length;n<t;n++)a.push(arguments[n]);return a}function p(e,a,n){var t=a===e.head?new o(n,null,a,e):new o(n,a,a.next,e);return t.next===null&&(e.tail=t),t.prev===null&&(e.head=t),e.length++,t}function d(e,a){e.tail=new o(a,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function c(e,a){e.head=new o(a,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,a,n,t){if(!(this instanceof o))return new o(e,a,n,t);this.list=t,this.value=e,a?(a.next=this,this.prev=a):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}z.exports=w,w.Node=o,w.create=w,w.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var a=e.next,n=e.prev;return a&&(a.prev=n),n&&(n.next=a),e===this.head&&(this.head=a),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,a},w.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var a=this.head;e.list=this,e.next=a,a&&(a.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},w.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var a=this.tail;e.list=this,e.prev=a,a&&(a.next=e),this.tail=e,this.head||(this.head=e),this.length++}},w.prototype.push=function(){for(var e=0,a=arguments.length;e<a;e++)d(this,arguments[e]);return this.length},w.prototype.unshift=function(){for(var e=0,a=arguments.length;e<a;e++)c(this,arguments[e]);return this.length},w.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},w.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},w.prototype.forEach=function(e,a){a=a||this;for(var n=this.head,t=0;n!==null;t++)e.call(a,n.value,t,this),n=n.next},w.prototype.forEachReverse=function(e,a){a=a||this;for(var n=this.tail,t=this.length-1;n!==null;t--)e.call(a,n.value,t,this),n=n.prev},w.prototype.get=function(e){for(var a=0,n=this.head;n!==null&&a<e;a++)n=n.next;if(a===e&&n!==null)return n.value},w.prototype.getReverse=function(e){for(var a=0,n=this.tail;n!==null&&a<e;a++)n=n.prev;if(a===e&&n!==null)return n.value},w.prototype.map=function(e,a){a=a||this;for(var n=new w,t=this.head;t!==null;)n.push(e.call(a,t.value,this)),t=t.next;return n},w.prototype.mapReverse=function(e,a){a=a||this;for(var n=new w,t=this.tail;t!==null;)n.push(e.call(a,t.value,this)),t=t.prev;return n},w.prototype.reduce=function(e,a){var n,t=this.head;if(arguments.length>1)n=a;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");t=this.head.next,n=this.head.value}for(var i=0;t!==null;i++)n=e(n,t.value,i),t=t.next;return n},w.prototype.reduceReverse=function(e,a){var n,t=this.tail;if(arguments.length>1)n=a;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");t=this.tail.prev,n=this.tail.value}for(var i=this.length-1;t!==null;i--)n=e(n,t.value,i),t=t.prev;return n},w.prototype.toArray=function(){for(var e=new Array(this.length),a=0,n=this.head;n!==null;a++)e[a]=n.value,n=n.next;return e},w.prototype.toArrayReverse=function(){for(var e=new Array(this.length),a=0,n=this.tail;n!==null;a++)e[a]=n.value,n=n.prev;return e},w.prototype.slice=function(e,a){(a=a||this.length)<0&&(a+=this.length),(e=e||0)<0&&(e+=this.length);var n=new w;if(a<e||a<0)return n;e<0&&(e=0),a>this.length&&(a=this.length);for(var t=0,i=this.head;i!==null&&t<e;t++)i=i.next;for(;i!==null&&t<a;t++,i=i.next)n.push(i.value);return n},w.prototype.sliceReverse=function(e,a){(a=a||this.length)<0&&(a+=this.length),(e=e||0)<0&&(e+=this.length);var n=new w;if(a<e||a<0)return n;e<0&&(e=0),a>this.length&&(a=this.length);for(var t=this.length,i=this.tail;i!==null&&t>a;t--)i=i.prev;for(;i!==null&&t>e;t--,i=i.prev)n.push(i.value);return n},w.prototype.splice=function(e,a,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var t=0,i=this.head;i!==null&&t<e;t++)i=i.next;var u=[];for(t=0;i&&t<a;t++)u.push(i.value),i=this.removeNode(i);for(i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),t=0;t<n.length;t++)i=p(this,i,n[t]);return u},w.prototype.reverse=function(){for(var e=this.head,a=this.tail,n=e;n!==null;n=n.prev){var t=n.prev;n.prev=n.next,n.next=t}return this.head=a,this.tail=e,this};try{A("./iterator.js")(w)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(ke);const Ze=we({setup(ie){return Be(async()=>{Re().params.id,Ne();const re=_e(),A={clean:!0,connectTimeout:4e3,clientId:"Frontend",username:"8e0v0tanDPfBzeKkuasrarRQUKwN0WQW0EiPXg2oV6NiaossmIKmXp2HYnlO9ZAZ",password:""},z=ke.exports.connect("ws://mqtt.flespi.io:80",A);z.on("connect",()=>{console.log("Connected"),z.subscribe("fhnw/+/+/measurement",q=>{q||console.log("Subscribed")})}),z.on("message",(q,w)=>{const p=w.toString();re.measurementData.push(JSON.parse(p))})}),(re,A)=>{const z=$e;return ne(),ce(z)}}});export{Ze as default};
