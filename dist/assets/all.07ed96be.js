import{_ as g}from"./ActionInputM.6aff3f4a.js";import{_ as x,d as f,k as y,B as k,q as w,D as v,E as b,o as a,c as r,g as j,a as e,F as $,y as C,z as s,i as m}from"./app.73a1e708.js";const S={setup(){const l=f(),u=y(),n=k([]),c=w();async function h(t){try{(await(await fetch(`${l.base_url}/api/MeasurementStations/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.user}`}})).json()).results.forEach(i=>{fetch(`http://127.0.0.1:8000/api/ConnectionHistory/?fk_measurement_station=${i.id}&filter_type=latest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("django_jwt")}`}}).then(o=>o.json()).then(o=>{i.details=o.results[0],n.push(i)}).catch(o=>{n.push(i),console.log(o)})})}catch(_){console.log(_)}}const p=v(()=>n.filter(t=>t.name.toLowerCase().includes(l.search.toLowerCase())));function d(t){c.push(`DetailsView/${t}`)}return b(async()=>{h()}),{goTo:d,stations:n,searchedProducts:p}}},B=e("h1",{class:"flex flex-row items-center justify-center pt-2 text-4xl title"}," Measurement Stations ",-1),T={class:"container px-4 mx-auto my-12 md:px-12"},A={class:"flex flex-wrap -mx-1 lg:-mx-4"},E=["onClick"],L={class:"overflow-hidden rounded-lg shadow-lg"},M=e("a",null,[e("img",{alt:"Placeholder",class:"block w-full h-auto",src:"https://picsum.photos/600/400/?random"})],-1),N={class:"flex items-center justify-between p-2 leading-tight md:p-4"},P={class:"text-lg"},V={class:"no-underline hover:underline"},z={class:"text-sm text-grey-darker"},D={key:0,class:"flex items-center justify-between p-2 leading-tight md:p-4"},I={class:"text-lg"},F={class:"no-underline hover:underline"},G={key:1,class:"pl-10 text-left"},R={class:"text-md text-grey-darker"},q={class:"flex items-center justify-between p-2 leading-none md:p-4"},H={class:"flex items-center no-underline hover:underline"},J={class:"ml-2 text-sm"},K=e("a",{class:"no-underline text-grey-darker hover:text-red-dark"},[e("span",{class:"hidden"},"Like"),e("i",{class:"fa fa-heart"})],-1);function O(l,u,n,c,h,p){const d=g;return a(),r("div",null,[j(d),B,e("div",T,[e("div",A,[(a(!0),r($,null,C(c.searchedProducts,t=>(a(),r("div",{key:t.source,class:"w-full px-1 my-5 md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3",onClick:_=>c.goTo(t.id)},[e("article",L,[M,e("header",N,[e("h1",P,[e("a",V,s(t.name),1)]),e("p",z," id: "+s(t.id),1)]),t.details?(a(),r("header",D,[e("h2",I,[e("a",F,"IP Adresse: "+s(t.details.ip_address),1)])])):m("",!0),t.details?(a(),r("div",G,[e("p",null," Bluethooth Status : "+s(t.details.bluetooth_connected),1),e("p",R," ping_backend: "+s(t.details.ping_backend),1),e("p",null,"time: "+s(t.details.time),1),e("p",null," wlan_signal_strength: "+s(t.details.wlan_signal_strength),1),e("p",null,"ping_broker: "+s(t.details.ping_backend),1),e("p",null,"ping_grafana: "+s(t.details.ping_grafana),1)])):m("",!0),e("footer",q,[e("a",H,[e("p",J,"Room Number: "+s(t.fk_classroom),1)]),K])])],8,E))),128))])])])}var X=x(S,[["render",O]]);export{X as default};
